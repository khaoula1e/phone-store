(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t,n){e.exports=n(63)},function(e,t,n){"use strict";e.exports=n(55)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)})}}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m}),n.d(t,"b",function(){return A}),n.d(t,"c",function(){return C}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return R}),n.d(t,"f",function(){return y}),n.d(t,"g",function(){return V}),n.d(t,"h",function(){return D}),n.d(t,"i",function(){return v}),n.d(t,"j",function(){return F}),n.d(t,"k",function(){return z}),n.d(t,"l",function(){return g}),n.d(t,"m",function(){return w}),n.d(t,"n",function(){return _}),n.d(t,"o",function(){return j}),n.d(t,"p",function(){return P}),n.d(t,"q",function(){return E}),n.d(t,"r",function(){return I}),n.d(t,"s",function(){return b}),n.d(t,"t",function(){return k}),n.d(t,"u",function(){return O}),n.d(t,"v",function(){return T}),n.d(t,"w",function(){return x}),n.d(t,"x",function(){return M}),n.d(t,"y",function(){return U});var r=n(10),i=n(12),a=n(25),o=n(7),s=n(8),u=n(53),c=n(2),l=n(3),f=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(f(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},d=function(e){return function(e){var t=f(e);return h.encodeByteArray(t,!0)}(e).replace(/\./g,"")},p=function(e){try{return h.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function v(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=v(e[n],t[n]));return e}var m=function(){function e(){var t=this;Object(c.a)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return Object(l.a)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}}}]),e}();function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[d(JSON.stringify({alg:"none",type:"JWT"})),d(JSON.stringify(a)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function b(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function k(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function w(){return"object"===typeof self&&self.self===self}function _(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function O(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function j(){return g().indexOf("Electron/")>=0}function E(){var e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function x(){return g().indexOf("MSAppHost/")>=0}function T(){return!k()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I(){return"object"===typeof indexedDB}var S="FirebaseError",C=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r,i){var o;return Object(c.a)(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name=S,Object.setPrototypeOf(Object(a.a)(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Object(a.a)(o),A.prototype.create),o}return Object(l.a)(n)}(Object(u.a)(Error)),A=function(){function e(t,n,r){Object(c.a)(this,e),this.service=t,this.serviceName=n,this.errors=r}return Object(l.a)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(N,function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new C(n,a,t)}}]),e}();var N=/\{\$([^}]+)}/g;function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function P(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function D(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(L(s)&&L(u)){if(!D(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function L(e){return null!==e&&"object"===typeof e}function M(e){for(var t=[],n=function(){var e=Object(i.a)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach(function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function U(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("="),r=Object(i.a)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function F(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function V(e,t){var n=new B(e,t);return n.subscribe.bind(n)}var B=function(){function e(t,n){var r=this;Object(c.a)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(e){r.error(e)})}return Object(l.a)(e,[{key:"next",value:function(e){this.forEachObserver(function(t){t.next(e)})}},{key:"error",value:function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var i,a=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(e,t){if("object"!==typeof e||null===e)return!1;var n,i=Object(r.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in e&&"function"===typeof e[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(i.next=q),void 0===i.error&&(i.error=q),void 0===i.complete&&(i.complete=q);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{a.finalError?i.error(a.finalError):i.complete()}catch(e){}}),this.observers.push(i),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),e}();function q(){}function z(e){return e&&e._delegate?e._delegate:e}}).call(this,n(37))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(29);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";var r=n(17),i=n(33);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(25);function s(e){return function(){var t,n,s,u=Object(r.a)(e);if(Object(i.a)()){var c=Object(r.a)(this).constructor;t=Reflect.construct(u,arguments,c)}else t=u.apply(this,arguments);return n=this,!(s=t)||"object"!==a(s)&&"function"!==typeof s?Object(o.a)(n):s}}n.d(t,"a",function(){return s})},function(e,t,n){"use strict";var r=n(35),i=n(34),a=n(28),o=n(36);var s=n(0),u=n.n(s),c=n(2),l=n(3),f=n(18),h=n(17),d=n(7),p=n(8),v=n(4),m=n(25),y=n(10),g=n(12),b=n(15),k=n(5),w=n(6),_=n(14);function O(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var j,E=n(21),x=n(20),T={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},I={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function S(){return Object(k.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var C=function(){var e;return e={},Object(k.a)(e,"admin-restricted-operation","This operation is restricted to administrators only."),Object(k.a)(e,"argument-error",""),Object(k.a)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Object(k.a)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Object(k.a)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Object(k.a)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Object(k.a)(e,"cordova-not-ready","Cordova framework is not ready."),Object(k.a)(e,"cors-unsupported","This browser is not supported."),Object(k.a)(e,"credential-already-in-use","This credential is already associated with a different user account."),Object(k.a)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Object(k.a)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Object(k.a)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Object(k.a)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Object(k.a)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Object(k.a)(e,"email-already-in-use","The email address is already in use by another account."),Object(k.a)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Object(k.a)(e,"expired-action-code","The action code has expired."),Object(k.a)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Object(k.a)(e,"internal-error","An internal AuthError has occurred."),Object(k.a)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Object(k.a)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Object(k.a)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Object(k.a)(e,"invalid-auth-event","An internal AuthError has occurred."),Object(k.a)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Object(k.a)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Object(k.a)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Object(k.a)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Object(k.a)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Object(k.a)(e,"invalid-email","The email address is badly formatted."),Object(k.a)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Object(k.a)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Object(k.a)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Object(k.a)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Object(k.a)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Object(k.a)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Object(k.a)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Object(k.a)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Object(k.a)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Object(k.a)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Object(k.a)(e,"wrong-password","The password is invalid or the user does not have a password."),Object(k.a)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Object(k.a)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Object(k.a)(e,"invalid-provider-id","The specified provider ID is invalid."),Object(k.a)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Object(k.a)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Object(k.a)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Object(k.a)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Object(k.a)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Object(k.a)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Object(k.a)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Object(k.a)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Object(k.a)(e,"missing-continue-uri","A continue URL must be provided in the request."),Object(k.a)(e,"missing-iframe-start","An internal AuthError has occurred."),Object(k.a)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Object(k.a)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Object(k.a)(e,"missing-multi-factor-info","No second factor identifier is provided."),Object(k.a)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Object(k.a)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Object(k.a)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Object(k.a)(e,"app-deleted","This instance of FirebaseApp has been deleted."),Object(k.a)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Object(k.a)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Object(k.a)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Object(k.a)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Object(k.a)(e,"no-auth-event","An internal AuthError has occurred."),Object(k.a)(e,"no-such-provider","User was not linked to an account with the given provider."),Object(k.a)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Object(k.a)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Object(k.a)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Object(k.a)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Object(k.a)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Object(k.a)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Object(k.a)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Object(k.a)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Object(k.a)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Object(k.a)(e,"rejected-credential","The request contains malformed or mismatching credentials."),Object(k.a)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Object(k.a)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Object(k.a)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Object(k.a)(e,"timeout","The operation has timed out."),Object(k.a)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Object(k.a)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Object(k.a)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Object(k.a)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Object(k.a)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Object(k.a)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Object(k.a)(e,"unverified-email","The operation requires a verified email."),Object(k.a)(e,"user-cancelled","The user did not grant your application the permissions it requested."),Object(k.a)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Object(k.a)(e,"user-disabled","The user account has been disabled by an administrator."),Object(k.a)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Object(k.a)(e,"user-signed-out",""),Object(k.a)(e,"weak-password","The password must be 6 characters long or more."),Object(k.a)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Object(k.a)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},A=S,N=new w.b("auth","Firebase",S()),R=new E.b("@firebase/auth");function P(e){if(R.logLevel<=E.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];R.error.apply(R,["Auth (".concat(_.SDK_VERSION,"): ").concat(e)].concat(n))}}function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw F.apply(void 0,[e].concat(n))}function L(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return F.apply(void 0,[e].concat(n))}function M(e,t,n){var r=Object.assign(Object.assign({},A()),Object(k.a)({},t,n));return new w.b("auth","Firebase",r).create(t,{appName:e.name})}function U(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&D(e,"argument-error"),M(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function F(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Object(b.a)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Object(b.a)(o)))}return N.create.apply(N,[e].concat(n))}function V(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw F.apply(void 0,[t].concat(r))}}function B(e){var t="INTERNAL ASSERTION FAILED: "+e;throw P(t),new Error(t)}function q(e,t){e||B(t)}var z=new Map;function H(e){q(e instanceof Function,"Expected a class definition");var t=z.get(e);return t?(q(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,z.set(e,t),t)}function W(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function K(){return"http:"===G()||"https:"===G()}function G(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Q=function(){function e(t,n){Object(c.a)(this,e),this.shortDelay=t,this.longDelay=n,q(n>t,"Short delay should be less than long delay!"),this.isMobile=Object(w.s)()||Object(w.u)()}return Object(l.a)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(K()||Object(w.n)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Y(e,t){q(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var $=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void B("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void B("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void B("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),X=(j={},Object(k.a)(j,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(k.a)(j,"MISSING_CUSTOM_TOKEN","internal-error"),Object(k.a)(j,"INVALID_IDENTIFIER","invalid-email"),Object(k.a)(j,"MISSING_CONTINUE_URI","internal-error"),Object(k.a)(j,"INVALID_PASSWORD","wrong-password"),Object(k.a)(j,"MISSING_PASSWORD","internal-error"),Object(k.a)(j,"EMAIL_EXISTS","email-already-in-use"),Object(k.a)(j,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(k.a)(j,"INVALID_IDP_RESPONSE","invalid-credential"),Object(k.a)(j,"INVALID_PENDING_TOKEN","invalid-credential"),Object(k.a)(j,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(k.a)(j,"MISSING_REQ_TYPE","internal-error"),Object(k.a)(j,"EMAIL_NOT_FOUND","user-not-found"),Object(k.a)(j,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(k.a)(j,"EXPIRED_OOB_CODE","expired-action-code"),Object(k.a)(j,"INVALID_OOB_CODE","invalid-action-code"),Object(k.a)(j,"MISSING_OOB_CODE","internal-error"),Object(k.a)(j,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(k.a)(j,"INVALID_ID_TOKEN","invalid-user-token"),Object(k.a)(j,"TOKEN_EXPIRED","user-token-expired"),Object(k.a)(j,"USER_NOT_FOUND","user-token-expired"),Object(k.a)(j,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(k.a)(j,"INVALID_CODE","invalid-verification-code"),Object(k.a)(j,"INVALID_SESSION_INFO","invalid-verification-id"),Object(k.a)(j,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(k.a)(j,"MISSING_SESSION_INFO","missing-verification-id"),Object(k.a)(j,"SESSION_EXPIRED","code-expired"),Object(k.a)(j,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(k.a)(j,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(k.a)(j,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(k.a)(j,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(k.a)(j,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(k.a)(j,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(k.a)(j,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(k.a)(j,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(k.a)(j,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(k.a)(j,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Object(k.a)(j,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),j),J=new Q(3e4,6e4);function Z(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ee(e,t,n,r){return te.apply(this,arguments)}function te(){return(te=Object(v.a)(u.a.mark(function e(t,n,r,i){var a,o=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ne(t,a,Object(v.a)(u.a.mark(function e(){var a,o,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Object(w.x)(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",$.fetch()(oe(t,t.config.apiHost,r,s),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}},e)}))));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ne(e,t,n){return re.apply(this,arguments)}function re(){return(re=Object(v.a)(u.a.mark(function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},X),n),e.prev=2,a=new se(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw ue(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=Object(g.a)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ue(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw ue(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw M(t,p,d);case 30:D(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof w.c)){e.next=37;break}throw e.t0;case 37:D(t,"network-request-failed");case 38:case"end":return e.stop()}},e,null,[[2,33]])}))).apply(this,arguments)}function ie(e,t,n,r){return ae.apply(this,arguments)}function ae(){return(ae=Object(v.a)(u.a.mark(function e(t,n,r,i){var a,o,s=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,ee(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&D(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oe(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Y(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var se=function(){function e(t){var n=this;Object(c.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise(function(e,t){n.timer=setTimeout(function(){return t(L(n.auth,"network-request-failed"))},J.get())})}return Object(l.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ue(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=L(e,t,r);return i.customData._tokenResponse=n,i}function ce(e,t){return le.apply(this,arguments)}function le(){return(le=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fe(e,t){return he.apply(this,arguments)}function he(){return(he=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function de(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ve(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function me(){return(me=Object(v.a)(u.a.mark(function e(t){var n,r,i,a,o,s,c=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=Object(w.k)(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,V((a=ge(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ve(ye(a.auth_time)),issuedAtTime:ve(ye(a.iat)),expirationTime:ve(ye(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ye(e){return 1e3*Number(e)}function ge(e){var t=e.split("."),n=Object(g.a)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return P("JWT malformed, contained fewer than 3 sections"),null;try{var o=Object(w.d)(i);return o?JSON.parse(o):(P("Failed to decode base64 JWT payload"),null)}catch(s){return P("Caught error parsing JWT payload as JSON",s),null}}function be(e,t){return ke.apply(this,arguments)}function ke(){return(ke=Object(v.a)(u.a.mark(function e(t,n){var r=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof w.c&&we(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function we(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var _e=function(){function e(t){Object(c.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Object(l.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Object(v.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}},t)})),n)}}},{key:"iteration",value:function(){var e=Object(v.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()}]),e}(),Oe=function(){function e(t,n){Object(c.a)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Object(l.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ve(this.lastLoginAt),this.creationTime=ve(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function je(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(v.a)(u.a.mark(function e(t){var n,r,i,a,o,s,c,l,f,h,d;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,be(t,de(r,{idToken:i}));case 6:V(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map(function(e){var t=e.providerId,n=O(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],c=Te(t.providerData,s),l=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(null===c||void 0===c?void 0:c.length),h=!!l&&f,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Oe(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xe(){return(xe=Object(v.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(w.k)(t),e.next=3,je(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Te(e,t){var n=e.filter(function(e){return!t.some(function(t){return t.providerId===e.providerId})});return[].concat(Object(b.a)(n),Object(b.a)(t))}function Ie(e,t){return Se.apply(this,arguments)}function Se(){return(Se=Object(v.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t,{},Object(v.a)(u.a.mark(function e(){var r,i,a,o,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(w.x)({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=oe(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",$.fetch()(s,{method:"POST",headers:c,body:r}));case 8:case"end":return e.stop()}},e)})));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ce=function(){function e(){Object(c.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object(l.a)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){V(e.idToken,"internal-error"),V("undefined"!==typeof e.idToken,"internal-error"),V("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ge(e);return V(t,"internal-error"),V("undefined"!==typeof t.exp,"internal-error"),V("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n,r=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],V(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Object(v.a)(u.a.mark(function e(t,n){var r,i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return B("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(V("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(V("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(V("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ae(e,t){V("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ne=function(){function e(t){Object(c.a)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=O(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new _e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Oe(a.createdAt||void 0,a.lastLoginAt||void 0)}return Object(l.a)(e,[{key:"getIdToken",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(V(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return me.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return xe.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(e){return Object.assign({},e)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n,r,i=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,je(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(v.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,be(this,ce(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return Object.assign({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,O=n.stsTokenManager;V(b&&O,t,"internal-error");var j=Ce.fromJSON(this.name,O);V("string"===typeof b,t,"internal-error"),Ae(f,t.name),Ae(h,t.name),V("boolean"===typeof k,t,"internal-error"),V("boolean"===typeof w,t,"internal-error"),Ae(d,t.name),Ae(p,t.name),Ae(v,t.name),Ae(m,t.name),Ae(y,t.name),Ae(g,t.name);var E=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:j,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map(function(e){return Object.assign({},e)})),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Object(v.a)(u.a.mark(function t(n,r){var i,a,o,s=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Ce).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,je(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Re=function(){function e(){Object(c.a)(this,e),this.type="NONE",this.storage={}}return Object(l.a)(e,[{key:"_isAvailable",value:function(){var e=Object(v.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(v.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Re.type="NONE";var Pe=Re;function De(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Le=function(){function e(t,n,r){Object(c.a)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=De(this.userKey,a.apiKey,o),this.fullPersistenceKey=De("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Object(l.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Object(v.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ne._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Object(v.a)(u.a.mark(function t(n,r){var i,a,o,s,c,l,f,h,d,p,m,g=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=g.length>2&&void 0!==g[2]?g[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(H(Pe),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Object(v.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter(function(e){return e}),o=a[0]||H(Pe),s=De(i,n.config.apiKey,n.name),c=null,l=Object(y.a)(r),t.prev=10,l.s();case 12:if((f=l.n()).done){t.next=29;break}return h=f.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return p=Ne._fromJSON(n,d),h!==o&&(c=p),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(m=a.filter(function(e){return e._shouldAllowMigration}),o._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=m[0],!c){t.next=44;break}return t.next=44,o._set(s,c.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Object(v.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}},t,null,[[10,31,34,37],[14,25]])}));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Me(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Be(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ue(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ze(t))return"Blackberry";if(He(t))return"Webos";if(Fe(t))return"Safari";if((t.includes("chrome/")||Ve(t))&&!t.includes("edge/"))return"Chrome";if(qe(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.l)();return/firefox\//i.test(e)}function Fe(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.l)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.l)();return/crios\//i.test(e)}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.l)();return/iemobile/i.test(e)}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.l)();return/android/i.test(e)}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.l)();return/blackberry/i.test(e)}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.l)();return/webos/i.test(e)}function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.l)();return/iphone|ipad|ipod/i.test(e)}function Ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.l)();return We(e)||qe(e)||He(e)||ze(e)||/windows phone/i.test(e)||Be(e)}function Ge(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Me(Object(w.l)());break;case"Worker":t="".concat(Me(Object(w.l)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(_.SDK_VERSION,"/").concat(r)}var Qe=function(){function e(t,n){Object(c.a)(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $e(this),this.idTokenSubscription=new $e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Object(l.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=H(t)),this._initializationPromise=this.queue(Object(v.a)(u.a.mark(function r(){var i,a;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Le.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}},r,null,[[8,13]])}))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Object(v.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n,r,i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||null===o||void 0===o||!o.user||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return V(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Object(v.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Object(v.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Object(w.k)(t):null)&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&V(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Object(v.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}},e)}))));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(v.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(v.a)(u.a.mark(function n(){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(H(e));case 2:case"end":return n.stop()}},n)})))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new w.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Object(v.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return V(n=t&&H(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Le.create(this,[H(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(v.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(v.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}},e)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return V(o,this,"internal-error"),o.then(function(){return a(i.currentUser)}),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Object(v.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ge(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Object(v.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(k.a)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();function Ye(e){return Object(w.k)(e)}var $e=function(){function e(t){var n=this;Object(c.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(w.g)(function(e){return n.observer=e})}return Object(l.a)(e,[{key:"next",get:function(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Xe(e,t,n){var r=Ye(e);V(r._canInitEmulator,r,"emulator-config-failed"),V(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Je(t),o=function(e){var t=Je(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ze(r.substr(a.length+1))}}var o=r.split(":"),s=Object(g.a)(o,2),u=s[0],c=s[1];return{host:u,port:Ze(c)}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Je(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ze(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var et=function(){function e(t,n){Object(c.a)(this,e),this.providerId=t,this.signInMethod=n}return Object(l.a)(e,[{key:"toJSON",value:function(){return B("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return B("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return B("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return B("not implemented")}}]),e}();function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:resetPassword",Z(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rt(e,t){return it.apply(this,arguments)}function it(){return(it=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function at(e,t){return ot.apply(this,arguments)}function ot(){return(ot=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",Z(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function st(e,t){return ut.apply(this,arguments)}function ut(){return(ut=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithPassword",Z(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ct(e,t){return lt.apply(this,arguments)}function lt(){return(lt=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:sendOobCode",Z(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ft(e,t){return ht.apply(this,arguments)}function ht(){return(ht=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ct(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function dt(e,t){return pt.apply(this,arguments)}function pt(){return(pt=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ct(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ct(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ct(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bt(e,t){return kt.apply(this,arguments)}function kt(){return(kt=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithEmailLink",Z(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function wt(e,t){return _t.apply(this,arguments)}function _t(){return(_t=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithEmailLink",Z(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ot=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(c.a)(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Object(l.a)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Object(v.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",st(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",bt(t,{email:this._email,oobCode:this._password}));case 5:D(t,"internal-error");case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",rt(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",wt(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:D(t,"internal-error");case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(et);function jt(e,t){return Et.apply(this,arguments)}function Et(){return(Et=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithIdp",Z(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var xt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Object(l.a)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return jt(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,jt(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,jt(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(w.x)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):D("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=O(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(et);function Tt(e,t){return It.apply(this,arguments)}function It(){return(It=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:sendVerificationCode",Z(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function St(){return(St=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithPhoneNumber",Z(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ct(){return(Ct=Object(v.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t,"POST","/v1/accounts:signInWithPhoneNumber",Z(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ue(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var At=Object(k.a)({},"USER_NOT_FOUND","user-not-found");function Nt(){return(Nt=Object(v.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithPhoneNumber",Z(t,r),At));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Rt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Object(l.a)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return St.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ct.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Nt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(et);var Pt=function(){function e(t){var n,r,i,a,o,s;Object(c.a)(this,e);var u=Object(w.y)(Object(w.j)(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,f=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);V(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Object(l.a)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Object(w.y)(Object(w.j)(e)).link,n=t?Object(w.y)(Object(w.j)(t)).deep_link_id:null,r=Object(w.y)(Object(w.j)(e)).deep_link_id;return(r?Object(w.y)(Object(w.j)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Dt=function(){function e(){Object(c.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(l.a)(e,null,[{key:"credential",value:function(e,t){return Ot._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Pt.parseLink(t);return V(n,"argument-error"),Ot._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Dt.PROVIDER_ID="password",Dt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Dt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Lt=function(){function e(t){Object(c.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(l.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Mt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Object(l.a)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(b.a)(this.scopes)}}]),n}(Lt),Ut=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return V(e.idToken||e.accessToken,"argument-error"),xt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return V("providerId"in t&&"signInMethod"in t,"argument-error"),xt._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Mt),Ft=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.call(this,"facebook.com")}return Object(l.a)(n,null,[{key:"credential",value:function(e){return xt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Mt);Ft.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ft.PROVIDER_ID="facebook.com";var Vt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Object(l.a)(n,null,[{key:"credential",value:function(e,t){return xt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Mt);Vt.GOOGLE_SIGN_IN_METHOD="google.com",Vt.PROVIDER_ID="google.com";var Bt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.call(this,"github.com")}return Object(l.a)(n,null,[{key:"credential",value:function(e){return xt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Mt);Bt.GITHUB_SIGN_IN_METHOD="github.com",Bt.PROVIDER_ID="github.com";var qt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){var i;return Object(c.a)(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Object(l.a)(n,[{key:"_getIdTokenResponse",value:function(e){return jt(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,jt(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,jt(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(et),zt="saml.",Ht=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){return Object(c.a)(this,n),V(e.startsWith(zt),"argument-error"),t.call(this,e)}return Object(l.a)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=qt.fromJSON(e);return V(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return qt._create(r,n)}catch(i){return null}}}]),n}(Lt),Wt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.call(this,"twitter.com")}return Object(l.a)(n,null,[{key:"credential",value:function(e,t){return xt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Mt);function Kt(e,t){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signUp",Z(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}Wt.TWITTER_SIGN_IN_METHOD="twitter.com",Wt.PROVIDER_ID="twitter.com";var Qt=function(){function e(t){Object(c.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Object(l.a)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Object(v.a)(u.a.mark(function t(n,r,i){var a,o,s,c,l=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Ne._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Yt(i),c=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Object(v.a)(u.a.mark(function t(n,r,i){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Yt(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Yt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function $t(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(v.a)(u.a.mark(function e(t){var n,r,i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ye(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Qt({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Kt(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Qt._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Jt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,i,a){var o,s;return Object(c.a)(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Object(m.a)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Object(l.a)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(w.c);function Zt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Jt._fromErrorAndOperation(e,n,t,r);throw n})}function en(e){return new Set(e.map(function(e){return e.providerId}).filter(function(e){return!!e}))}function tn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=Object(v.a)(u.a.mark(function e(t,n){var r,i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(w.k)(t),e.next=3,on(!0,r,n);case 3:return e.t0=fe,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=en(a||[]),r.providerData=r.providerData.filter(function(e){return o.has(e.providerId)}),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rn(e,t){return an.apply(this,arguments)}function an(){return(an=Object(v.a)(u.a.mark(function e(t,n){var r,i,a=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=be,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Qt._forOperation(t,"link",i));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function on(e,t,n){return sn.apply(this,arguments)}function sn(){return(sn=Object(v.a)(u.a.mark(function e(t,n,r){var i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(n);case 2:i=en(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",V(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function un(e,t){return cn.apply(this,arguments)}function cn(){return(cn=Object(v.a)(u.a.mark(function e(t,n){var r,i,a,o,s,c,l=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,be(t,Zt(i,a,n,t),r);case 6:return V((o=e.sent).idToken,i,"internal-error"),V(s=ge(o.idToken),i,"internal-error"),c=s.sub,V(t.uid===c,i,"user-mismatch"),e.abrupt("return",Qt._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&D(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}},e,null,[[3,15]])}))).apply(this,arguments)}function ln(e,t){return fn.apply(this,arguments)}function fn(){return(fn=Object(v.a)(u.a.mark(function e(t,n){var r,i,a,o,s=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Zt(t,i,n);case 4:return a=e.sent,e.next=7,Qt._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hn(e,t){return dn.apply(this,arguments)}function dn(){return(dn=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(Ye(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=Object(v.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(w.k)(t),e.next=3,on(!1,r,n.providerId);case 3:return e.abrupt("return",rn(r,n));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mn(e,t){return yn.apply(this,arguments)}function yn(){return(yn=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",un(Object(w.k)(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gn(e,t){return bn.apply(this,arguments)}function bn(){return(bn=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithCustomToken",Z(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function kn(e,t){return wn.apply(this,arguments)}function wn(){return(wn=Object(v.a)(u.a.mark(function e(t,n){var r,i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ye(t),e.next=3,gn(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Qt._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _n=function(){function e(t,n){Object(c.a)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Object(l.a)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?On._fromServerResponse(e,t):D(e,"internal-error")}}]),e}(),On=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Object(l.a)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(_n);function jn(e,t,n){var r;V((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),V("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(V(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(V(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function En(e,t,n){return xn.apply(this,arguments)}function xn(){return(xn=Object(v.a)(u.a.mark(function e(t,n,r){var i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(w.k)(t),a={requestType:"PASSWORD_RESET",email:n},r&&jn(i,a,r),e.next=5,dt(i,a);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tn(e,t,n){return In.apply(this,arguments)}function In(){return(In=Object(v.a)(u.a.mark(function e(t,n,r){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(Object(w.k)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Sn(e,t){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at(Object(w.k)(t),{oobCode:n});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function An(e,t){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(v.a)(u.a.mark(function e(t,n){var r,i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(w.k)(t),e.next=3,tt(r,{oobCode:n});case 3:i=e.sent,V(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return V(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:V(i.mfaInfo,r,"internal-error");case 13:V(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=_n._fromServerResponse(Ye(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Rn(e,t){return Pn.apply(this,arguments)}function Pn(){return(Pn=Object(v.a)(u.a.mark(function e(t,n){var r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An(Object(w.k)(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Dn(e,t,n){return Ln.apply(this,arguments)}function Ln(){return(Ln=Object(v.a)(u.a.mark(function e(t,n,r){var i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ye(t),e.next=3,Kt(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Qt._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Mn(e,t,n){return hn(Object(w.k)(e),Dt.credential(t,n))}function Un(e,t,n){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(v.a)(u.a.mark(function e(t,n,r){var i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(w.k)(t),a={requestType:"EMAIL_SIGNIN",email:n},V(r.handleCodeInApp,i,"argument-error"),r&&jn(i,a,r),e.next=6,vt(i,a);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vn(e,t){var n=Pt.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function Bn(e,t,n){return qn.apply(this,arguments)}function qn(){return(qn=Object(v.a)(u.a.mark(function e(t,n,r){var i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(w.k)(t),V((a=Dt.credentialWithLink(n,r||W()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",hn(i,a));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zn(e,t){return Hn.apply(this,arguments)}function Hn(){return(Hn=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:createAuthUri",Z(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Wn(e,t){return Kn.apply(this,arguments)}function Kn(){return(Kn=Object(v.a)(u.a.mark(function e(t,n){var r,i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=K()?W():"http://localhost",i={identifier:n,continueUri:r},e.next=4,zn(Object(w.k)(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gn(e,t){return Qn.apply(this,arguments)}function Qn(){return(Qn=Object(v.a)(u.a.mark(function e(t,n){var r,i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(w.k)(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&jn(r.auth,a,n),e.next=8,ft(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yn(e,t,n){return $n.apply(this,arguments)}function $n(){return($n=Object(v.a)(u.a.mark(function e(t,n,r){var i,a,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(w.k)(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&jn(i.auth,o,r),e.next=8,yt(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xn(e,t){return Jn.apply(this,arguments)}function Jn(){return(Jn=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zn(e,t){return er.apply(this,arguments)}function er(){return(er=Object(v.a)(u.a.mark(function e(t,n){var r,i,a,o,s,c,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Object(w.k)(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,be(a,Xn(a.auth,s));case 10:return c=e.sent,a.displayName=c.displayName||null,a.photoURL=c.photoUrl||null,(l=a.providerData.find(function(e){return"password"===e.providerId}))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tr(e,t){return rr(Object(w.k)(e),t,null)}function nr(e,t){return rr(Object(w.k)(e),null,t)}function rr(e,t,n){return ir.apply(this,arguments)}function ir(){return(ir=Object(v.a)(u.a.mark(function e(t,n,r){var i,a,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,be(t,rt(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ar=Object(l.a)(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(c.a)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r}),or=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,i,a){var o;return Object(c.a)(this,n),(o=t.call(this,e,r,i)).username=a,o}return Object(l.a)(n)}(ar),sr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){return Object(c.a)(this,n),t.call(this,e,"facebook.com",r)}return Object(l.a)(n)}(ar),ur=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){return Object(c.a)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Object(l.a)(n)}(or),cr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){return Object(c.a)(this,n),t.call(this,e,"google.com",r)}return Object(l.a)(n)}(ar),lr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,i){return Object(c.a)(this,n),t.call(this,e,"twitter.com",r,i)}return Object(l.a)(n)}(or);function fr(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ge(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ar(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new sr(a,i);case"github.com":return new ur(a,i);case"google.com":return new cr(a,i);case"twitter.com":return new lr(a,i,e.screenName||null);case"custom":case"anonymous":return new ar(a,null);default:return new ar(a,r,i)}}(n)}var hr=function(){function e(t,n){Object(c.a)(this,e),this.type=t,this.credential=n}return Object(l.a)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:Object(k.a)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),dr=function(){function e(t,n,r){Object(c.a)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Object(l.a)(e,[{key:"resolveSignIn",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ye(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map(function(e){return _n._fromServerResponse(r,e)});V(i.mfaPendingCredential,r,"internal-error");var o=hr._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Object(v.a)(u.a.mark(function e(t){var a,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Qt._fromIdTokenResponse(r,n.operationType,s);case 11:return c=e.sent,e.next=14,r._updateCurrentUser(c.user);case 14:return e.abrupt("return",c);case 15:return V(n.user,r,"internal-error"),e.abrupt("return",Qt._forOperation(n.user,n.operationType,s));case 17:D(r,"internal-error");case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}]),e}();function pr(e,t){var n,r=Object(w.k)(e),i=t;return V(t.customData.operationType,r,"argument-error"),V(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),dr._fromError(r,i)}function vr(e,t){return ee(e,"POST","/v2/accounts/mfaEnrollment:start",Z(e,t))}var mr=function(){function e(t){var n=this;Object(c.a)(this,e),this.user=t,this.enrolledFactors=[],t._onReload(function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map(function(e){return _n._fromServerResponse(t.auth,e)}))})}return Object(l.a)(e,[{key:"getSession",value:function(){var e=Object(v.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=hr,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Object(v.a)(u.a.mark(function e(t,n){var r,i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,be(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n,r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,be(this.user,ee(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Z(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter(function(e){return e.uid!==n}),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a},e,this,[[10,15]])}));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),yr=new WeakMap;function gr(e){var t=Object(w.k)(e);return yr.has(t)||yr.set(t,mr._fromUser(t)),yr.get(t)}var br=function(){function e(t,n){Object(c.a)(this,e),this.storageRetriever=t,this.type=n}return Object(l.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var kr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this,function(){return window.localStorage},"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Object(w.l)();return Fe(e)||We(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ke(),e._shouldAllowMigration=!0,e}return Object(l.a)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Object(w.q)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys(function(e,n,r){t.notifyListeners(e,r)})}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(function(){e.forAllChangedKeys(function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Object(v.a)(u.a.mark(function e(t,r){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(Object(h.a)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(Object(h.a)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(v.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(Object(h.a)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),n}(br);kr.type="LOCAL";var wr=kr,_r=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.call(this,function(){return window.sessionStorage},"SESSION")}return Object(l.a)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(br);_r.type="SESSION";var Or=_r;function jr(e){return Promise.all(e.map(function(){var e=Object(v.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()))}var Er=function(){function e(t){Object(c.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Object(l.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n,r,i,a,o,s,c,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),c=Array.from(s).map(function(){var e=Object(v.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=9,jr(c);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find(function(e){return e.isListeningto(t)});if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function xr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Er.receivers=[];var Tr=function(){function e(t){Object(c.a)(this,e),this.target=t,this.handlers=new Set}return Object(l.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Object(v.a)(u.a.mark(function e(t,n){var r,i,a,o,s=this,c=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise(function(e,u){var c=xr("",20);i.port1.start();var l=setTimeout(function(){u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout(function(){u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(function(){o&&s.removeMessageHandler(o)}));case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ir(){return window}function Sr(){return"undefined"!==typeof Ir().WorkerGlobalScope&&"function"===typeof Ir().importScripts}function Cr(){return Ar.apply(this,arguments)}function Ar(){return(Ar=Object(v.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}function Nr(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Rr="firebaseLocalStorageDb",Pr=1,Dr="firebaseLocalStorage",Lr="fbase_key",Mr=function(){function e(t){Object(c.a)(this,e),this.request=t}return Object(l.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.request.addEventListener("success",function(){t(e.request.result)}),e.request.addEventListener("error",function(){n(e.request.error)})})}}]),e}();function Ur(e,t){return e.transaction([Dr],t?"readwrite":"readonly").objectStore(Dr)}function Fr(){var e=indexedDB.deleteDatabase(Rr);return new Mr(e).toPromise()}function Vr(){var e=indexedDB.open(Rr,Pr);return new Promise(function(t,n){e.addEventListener("error",function(){n(e.error)}),e.addEventListener("upgradeneeded",function(){var t=e.result;try{t.createObjectStore(Dr,{keyPath:Lr})}catch(r){n(r)}}),e.addEventListener("success",Object(v.a)(u.a.mark(function n(){var r;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Dr)){n.next=12;break}return r.close(),n.next=5,Fr();case 5:return n.t0=t,n.next=8,Vr();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}},n)})))})}function Br(e,t,n){return qr.apply(this,arguments)}function qr(){return(qr=Object(v.a)(u.a.mark(function e(t,n,r){var i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ur(t,!0).put((i={},Object(k.a)(i,Lr,n),Object(k.a)(i,"value",r),i)),e.abrupt("return",new Mr(a).toPromise());case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zr(e,t){return Hr.apply(this,arguments)}function Hr(){return(Hr=Object(v.a)(u.a.mark(function e(t,n){var r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ur(t,!1).get(n),e.next=3,new Mr(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Wr(e,t){var n=Ur(e,!0).delete(t);return new Mr(n).toPromise()}var Kr=function(){function e(){Object(c.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})}return Object(l.a)(e,[{key:"_openDb",value:function(){var e=Object(v.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Vr();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Object(v.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sr()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Object(v.a)(u.a.mark(function e(){var t=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Er._getInstance(Sr()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(v.a)(u.a.mark(function e(n,r){var i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Object(v.a)(u.a.mark(function e(){var t,n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cr();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Tr(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Object(v.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Nr()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}},e,this,[[2,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Object(v.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Vr();case 5:return t=e.sent,e.next=8,Br(t,"__sak","1");case 8:return e.next=10,Wr(t,"__sak");case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Object(v.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}},e,this,[[1,,4,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(v.a)(u.a.mark(function e(t,n){var r=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(v.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries(function(e){return Br(e,t,n)});case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}},e)}))));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries(function(e){return zr(e,t)});case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(v.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries(function(e){return Wr(e,t)});case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}},e)}))));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Object(v.a)(u.a.mark(function e(){var t,n,r,i,a,o,s,c,l,f,h;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries(function(e){var t=Ur(e,!1).getAll();return new Mr(t).toPromise()});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Object(y.a)(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,c=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(c)&&(this.notifyListeners(s,c),n.push(s))}catch(u){i.e(u)}finally{i.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(v.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}},t)})),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Kr.type="LOCAL";var Gr=Kr;function Qr(e,t){return ee(e,"POST","/v2/accounts/mfaSignIn:start",Z(e,t))}function Yr(e){return $r.apply(this,arguments)}function $r(){return($r=Object(v.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xr(e){return new Promise(function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=L("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Jr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Zr=1e12,ei=function(){function e(t){Object(c.a)(this,e),this.auth=t,this.counter=Zr,this._widgets=new Map}return Object(l.a)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ti(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Zr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Zr;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Zr,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),ti=function(){function e(t,n,r){var i=this;Object(c.a)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;V(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Object(l.a)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout(function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()},6e4)},500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ni=Jr("rcb"),ri=new Q(3e4,6e4),ii=function(){function e(){Object(c.a)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ir().grecaptcha}return Object(l.a)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return V(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ir().grecaptcha):new Promise(function(r,i){var a=Ir().setTimeout(function(){i(L(e,"network-request-failed"))},ri.get());Ir()[ni]=function(){Ir().clearTimeout(a),delete Ir()[ni];var o=Ir().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(L(e,"internal-error"))},Xr("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Object(w.x)({onload:ni,render:"explicit",hl:n}))).catch(function(){clearTimeout(a),i(L(e,"internal-error"))})})}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Ir().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var ai=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"load",value:function(){var e=Object(v.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ei(t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),oi="recaptcha",si={theme:"light",type:"image"},ui=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},si),r=arguments.length>2?arguments[2]:void 0;Object(c.a)(this,e),this.parameters=n,this.type=oi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ye(r),this.isInvisible="invisible"===this.parameters.size,V("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;V(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ai:new ii,this.validateStartingState()}return Object(l.a)(e,[{key:"verify",value:function(){var e=Object(v.a)(u.a.mark(function e(){var t,n,r,i=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise(function(e){i.tokenChangeListeners.add(function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))}),i.isInvisible&&n.execute(t)}));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(function(t){throw e.renderPromise=null,t}),this.renderPromise)}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(function(t){e.container.removeChild(t)})}},{key:"validateStartingState",value:function(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach(function(e){return e(n)}),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ir()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){V(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Object(v.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Object(v.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return V(K()&&!Sr(),this.auth,"internal-error"),e.next=3,ci();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Yr(this.auth);case 8:V(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ci(){var e=null;return new Promise(function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()}).catch(function(t){throw e&&window.removeEventListener("load",e),t})}var li=function(){function e(t,n){Object(c.a)(this,e),this.verificationId=t,this.onConfirmation=n}return Object(l.a)(e,[{key:"confirm",value:function(e){var t=Rt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function fi(e,t,n){return hi.apply(this,arguments)}function hi(){return(hi=Object(v.a)(u.a.mark(function e(t,n,r){var i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ye(t),e.next=3,yi(i,n,Object(w.k)(r));case 3:return a=e.sent,e.abrupt("return",new li(a,function(e){return hn(i,e)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function di(e,t,n){return pi.apply(this,arguments)}function pi(){return(pi=Object(v.a)(u.a.mark(function e(t,n,r){var i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(w.k)(t),e.next=3,on(!1,i,"phone");case 3:return e.next=5,yi(i.auth,n,Object(w.k)(r));case 5:return a=e.sent,e.abrupt("return",new li(a,function(e){return pn(i,e)}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vi(e,t,n){return mi.apply(this,arguments)}function mi(){return(mi=Object(v.a)(u.a.mark(function e(t,n,r){var i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(w.k)(t),e.next=3,yi(i.auth,n,Object(w.k)(r));case 3:return a=e.sent,e.abrupt("return",new li(a,function(e){return mn(i,e)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yi(e,t,n){return gi.apply(this,arguments)}function gi(){return(gi=Object(v.a)(u.a.mark(function e(t,n,r){var i,a,o,s,c,l,f,h,d;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,V("string"===typeof a,t,"argument-error"),V(r.type===oi,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return V("enroll"===s.type,t,"internal-error"),e.next=13,vr(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return V("signin"===s.type,t,"internal-error"),V(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Qr(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Tt(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}},e,null,[[3,,31,34]])}))).apply(this,arguments)}function bi(e,t){return ki.apply(this,arguments)}function ki(){return(ki=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(Object(w.k)(t),n);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var wi=function(){function e(t){Object(c.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ye(t)}return Object(l.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return yi(this.auth,e,Object(w.k)(t))}}],[{key:"credential",value:function(e,t){return Rt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Rt._fromTokenResponse(n,r):null}}]),e}();function _i(e,t){return t?H(t):(V(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}wi.PROVIDER_ID="phone",wi.PHONE_SIGN_IN_METHOD="phone";var Oi=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Object(l.a)(n,[{key:"_getIdTokenResponse",value:function(e){return jt(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return jt(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return jt(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(et);function ji(e){return ln(e.auth,new Oi(e),e.bypassAuthState)}function Ei(e){var t=e.auth,n=e.user;return V(n,t,"internal-error"),un(n,new Oi(e),e.bypassAuthState)}function xi(e){return Ti.apply(this,arguments)}function Ti(){return(Ti=Object(v.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,V(r=t.user,n,"internal-error"),e.abrupt("return",rn(r,new Oi(t),t.bypassAuthState));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ii=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(c.a)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Object(l.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(v.a)(u.a.mark(function t(n,r){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n,r,i,a,o,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}},e,this,[[5,13]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ji;case"linkViaPopup":case"linkViaRedirect":return xi;case"reauthViaPopup":case"reauthViaRedirect":return Ei;default:D(this.auth,"internal-error")}}},{key:"resolve",value:function(e){q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Si=new Q(2e3,1e4);function Ci(e,t,n){return Ai.apply(this,arguments)}function Ai(){return(Ai=Object(v.a)(u.a.mark(function e(t,n,r){var i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ye(t),U(t,n,Lt),a=_i(i,r),o=new Li(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ni(e,t,n){return Ri.apply(this,arguments)}function Ri(){return(Ri=Object(v.a)(u.a.mark(function e(t,n,r){var i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U((i=Object(w.k)(t)).auth,n,Lt),a=_i(i.auth,r),o=new Li(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pi(e,t,n){return Di.apply(this,arguments)}function Di(){return(Di=Object(v.a)(u.a.mark(function e(t,n,r){var i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U((i=Object(w.k)(t)).auth,n,Lt),a=_i(i.auth,r),o=new Li(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Li=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,i,a,o){var s;return Object(c.a)(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Object(m.a)(s),s}return Object(l.a)(n,[{key:"executeNotNull",value:function(){var e=Object(v.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return V(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(v.a)(u.a.mark(function e(){var t,n=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return q(1===this.filter.length,"Popup operations only handle one event"),t=xr(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(function(e){n.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,function(e){e||n.reject(L(n.auth,"web-storage-unsupported"))}),this.pollUserCancellation();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(L(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;null!==(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)&&void 0!==r&&r.closed?e.pollId=window.setTimeout(function(){e.pollId=null,e.reject(L(e.auth,"popup-closed-by-user"))},2e3):e.pollId=window.setTimeout(t,Si.get())}()}}]),n}(Ii);Li.currentPopupAction=null;var Mi="pendingRedirect",Ui=new Map,Fi=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(c.a)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Object(l.a)(n,[{key:"execute",value:function(){var e=Object(v.a)(u.a.mark(function e(){var t,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ui.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Vi(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(f.a)(Object(h.a)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ui.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ui.set(this.auth._key(),function(){return Promise.resolve(null)}),e.abrupt("return",t());case 23:case"end":return e.stop()}},e,this,[[2,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Object(f.a)(Object(h.a)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Object(f.a)(Object(h.a)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(v.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ii);function Vi(e,t){return Bi.apply(this,arguments)}function Bi(){return(Bi=Object(v.a)(u.a.mark(function e(t,n){var r,i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wi(n),i=Hi(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qi(e,t){return zi.apply(this,arguments)}function zi(){return(zi=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hi(t)._set(Wi(n),"true"));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Hi(e){return H(e._redirectPersistence)}function Wi(e){return De(Mi,e.config.apiKey,e.name)}function Ki(e,t,n){return function(e,t,n){return Gi.apply(this,arguments)}(e,t,n)}function Gi(){return(Gi=Object(v.a)(u.a.mark(function e(t,n,r){var i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ye(t),U(t,n,Lt),a=_i(i,r),e.next=5,qi(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qi(e,t,n){return function(e,t,n){return Yi.apply(this,arguments)}(e,t,n)}function Yi(){return(Yi=Object(v.a)(u.a.mark(function e(t,n,r){var i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U((i=Object(w.k)(t)).auth,n,Lt),a=_i(i.auth,r),e.next=5,qi(a,i.auth);case 5:return e.next=7,na(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $i(e,t,n){return function(e,t,n){return Xi.apply(this,arguments)}(e,t,n)}function Xi(){return(Xi=Object(v.a)(u.a.mark(function e(t,n,r){var i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U((i=Object(w.k)(t)).auth,n,Lt),a=_i(i.auth,r),e.next=5,on(!1,i,n.providerId);case 5:return e.next=7,qi(a,i.auth);case 7:return e.next=9,na(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ji(e,t){return Zi.apply(this,arguments)}function Zi(){return(Zi=Object(v.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t)._initializationPromise;case 2:return e.abrupt("return",ea(t,n,!1));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ea(e,t){return ta.apply(this,arguments)}function ta(){return(ta=Object(v.a)(u.a.mark(function e(t,n){var r,i,a,o,s,c=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=Ye(t),a=_i(i,n),o=new Fi(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function na(e){return ra.apply(this,arguments)}function ra(){return(ra=Object(v.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=xr("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ia=function(){function e(t){Object(c.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(l.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach(function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oa(e);default:return!1}}(e)?n:(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0),n)}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!oa(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(L(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(aa(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(aa(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function aa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(function(e){return e}).join("-")}function oa(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function sa(e){return ua.apply(this,arguments)}function ua(){return(ua=Object(v.a)(u.a.mark(function e(t){var n,r=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ee(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ca=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,la=/^https?/;function fa(){return(fa=Object(v.a)(u.a.mark(function e(t){var n,r,i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,sa(t);case 4:n=e.sent,r=n.authorizedDomains,i=Object(y.a)(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ha(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:D(t,"unauthorized-domain");case 29:case"end":return e.stop()}},e,null,[[7,22,25,28],[11,16]])}))).apply(this,arguments)}function ha(e){var t=W(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!la.test(r))return!1;if(ca.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var da=new Q(3e4,6e4);function pa(){var e=Ir().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Object(b.a)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var va=null;function ma(e){return va=va||function(e){return new Promise(function(t,n){var r,i,a;function o(){pa(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){pa(),n(L(e,"network-request-failed"))},timeout:da.get()})}if(null===(i=null===(r=Ir().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(null===(a=Ir().gapi)||void 0===a||!a.load){var s=Jr("iframefcb");return Ir()[s]=function(){gapi.load?o():n(L(e,"network-request-failed"))},Xr("https://apis.google.com/js/api.js?onload=".concat(s)).catch(function(e){return n(e)})}o()}}).catch(function(e){throw va=null,e})}(e)}var ya=new Q(5e3,15e3),ga="__/auth/iframe",ba="emulator/auth/iframe",ka={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _a(e){var t=e.config;V(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Y(t,ba):"https://".concat(e.config.authDomain,"/").concat(ga),r={apiKey:t.apiKey,appName:e.name,v:_.SDK_VERSION},i=wa.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Object(w.x)(r).slice(1))}function Oa(e){return ja.apply(this,arguments)}function ja(){return(ja=Object(v.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma(t);case 2:return n=e.sent,V(r=Ir().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:_a(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ka,dontclear:!0},function(e){return new Promise(function(){var n=Object(v.a)(u.a.mark(function n(r,i){var a,o,s;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Ir().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=L(t,"network-request-failed"),o=Ir().setTimeout(function(){i(a)},ya.get()),e.ping(s).then(s,function(){i(a)});case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ea={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xa=500,Ta=600,Ia="_blank",Sa="http://localhost",Ca=function(){function e(t){Object(c.a)(this,e),this.window=t,this.associatedEvent=null}return Object(l.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Aa(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xa,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ta,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Ea),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Object(w.l)().toLowerCase();n&&(s=Ve(c)?Ia:n),Ue(c)&&(t=t||Sa,u.scrollbars="yes");var l=Object.entries(u).reduce(function(e,t){var n=Object(g.a)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")},"");if(function(){var e;return We(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.l)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Ca(null);var f=window.open(t||"",s,l);V(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Ca(f)}var Na="__/auth/handler",Ra="emulator/auth/handler";function Pa(e,t,n,r,i,a){V(e.config.authDomain,e,"auth-domain-config-required"),V(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:_.SDK_VERSION,eventId:i};if(t instanceof Lt){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Object(w.p)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=Object(g.a)(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Mt){var h=t.getScopes().filter(function(e){return""!==e});h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Na);return Y(t,Ra)}(e),"?").concat(Object(w.x)(d).slice(1))}var Da=function(){function e(){Object(c.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Or,this._completeRedirectFn=ea}return Object(l.a)(e,[{key:"_openPopup",value:function(){var e=Object(v.a)(u.a.mark(function e(t,n,r,i){var a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return q(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Pa(t,n,r,W(),i),e.abrupt("return",Aa(t,o,xr()));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(v.a)(u.a.mark(function e(t,n,r,i){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Pa(t,n,r,W(),i),Ir().location.href=a,e.abrupt("return",new Promise(function(){}));case 4:case"end":return e.stop()}var a},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(q(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch(function(){delete t.eventManagers[n]}),o}},{key:"initAndGetManager",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa(t);case 2:return n=e.sent,r=new ia(t),n.register("authEvent",function(e){return V(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),D(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return fa.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ke()||Fe()||We()}}]),e}(),La=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,"phone")).credential=e,r}return Object(l.a)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ee(e,"POST","/v2/accounts/mfaEnrollment:finalize",Z(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ee(e,"POST","/v2/accounts/mfaSignIn:finalize",Z(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Object(c.a)(this,e),this.factorId=t}return Object(l.a)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return B("unexpected MultiFactorSessionType")}}}]),e}()),Ma=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"assertion",value:function(e){return La._fromCredential(e)}}]),e}();Ma.FACTOR_ID="phone";var Ua,Fa="@firebase/auth",Va="0.19.7",Ba=function(){function e(t){Object(c.a)(this,e),this.auth=t,this.internalListeners=new Map}return Object(l.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged(function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function qa(){return window}Ua="Browser",Object(_._registerComponent)(new x.a("auth",function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){V(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),V(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Ua,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ge(Ua)},r=new Qe(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(H);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider("auth-internal").initialize()})),Object(_._registerComponent)(new x.a("auth-internal",function(e){return function(e){return new Ba(e)}(Ye(e.getProvider("auth").getImmediate()))},"PRIVATE").setInstantiationMode("EXPLICIT")),Object(_.registerVersion)(Fa,Va,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ua)),Object(_.registerVersion)(Fa,Va,"esm2017"),n.d(t,"w",function(){return po}),n.d(t,"E",function(){return fo}),n.d(t,"a",function(){return I}),n.d(t,"b",function(){return et}),n.d(t,"c",function(){return Dt}),n.d(t,"d",function(){return Ft}),n.d(t,"e",function(){return Bt}),n.d(t,"f",function(){return Vt}),n.d(t,"g",function(){return xt}),n.d(t,"h",function(){return Ut}),n.d(t,"i",function(){return wi}),n.d(t,"j",function(){return Ma}),n.d(t,"k",function(){return T}),n.d(t,"l",function(){return ui}),n.d(t,"m",function(){return qt}),n.d(t,"n",function(){return Ht}),n.d(t,"o",function(){return Wt}),n.d(t,"p",function(){return V}),n.d(t,"q",function(){return Ye}),n.d(t,"r",function(){return D}),n.d(t,"s",function(){return xr}),n.d(t,"t",function(){return H}),n.d(t,"u",function(){return ea}),n.d(t,"v",function(){return De}),n.d(t,"x",function(){return Sn}),n.d(t,"y",function(){return wr}),n.d(t,"z",function(){return Da}),n.d(t,"A",function(){return Or}),n.d(t,"B",function(){return An}),n.d(t,"C",function(){return Tn}),n.d(t,"D",function(){return Xe}),n.d(t,"F",function(){return Dn}),n.d(t,"G",function(){return C}),n.d(t,"H",function(){return Wn}),n.d(t,"I",function(){return fr}),n.d(t,"J",function(){return pr}),n.d(t,"K",function(){return Ji}),n.d(t,"L",function(){return Pe}),n.d(t,"M",function(){return Gr}),n.d(t,"N",function(){return Vn}),n.d(t,"O",function(){return pn}),n.d(t,"P",function(){return di}),n.d(t,"Q",function(){return Pi}),n.d(t,"R",function(){return $i}),n.d(t,"S",function(){return gr}),n.d(t,"T",function(){return mn}),n.d(t,"U",function(){return vi}),n.d(t,"V",function(){return Ni}),n.d(t,"W",function(){return Qi}),n.d(t,"X",function(){return Gn}),n.d(t,"Y",function(){return En}),n.d(t,"Z",function(){return Un}),n.d(t,"ab",function(){return $t}),n.d(t,"bb",function(){return hn}),n.d(t,"cb",function(){return kn}),n.d(t,"db",function(){return Mn}),n.d(t,"eb",function(){return Bn}),n.d(t,"fb",function(){return fi}),n.d(t,"gb",function(){return Ci}),n.d(t,"hb",function(){return Ki}),n.d(t,"ib",function(){return tn}),n.d(t,"jb",function(){return tr}),n.d(t,"kb",function(){return nr}),n.d(t,"lb",function(){return bi}),n.d(t,"mb",function(){return Zn}),n.d(t,"nb",function(){return Yn}),n.d(t,"ob",function(){return Rn});var za=2e3;function Ha(e,t,n){return Wa.apply(this,arguments)}function Wa(){return(Wa=Object(v.a)(u.a.mark(function e(t,n,r){var i,a,o,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=qa(),o=a.BuildInfo,q(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Xa(n.sessionId);case 4:return s=e.sent,c={},We()?c.ibi=o.packageName:qe()?c.apn=o.packageName:D(t,"operation-not-supported-in-this-environment"),o.displayName&&(c.appDisplayName=o.displayName),c.sessionId=s,e.abrupt("return",Pa(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,c));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ka(){return(Ka=Object(v.a)(u.a.mark(function e(t){var n,r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=qa(),r=n.BuildInfo,i={},We()?i.iosBundleId=r.packageName:qe()?i.androidPackageName=r.packageName:D(t,"operation-not-supported-in-this-environment"),e.next=5,sa(t,i);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ga(e){var t=qa().cordova;return new Promise(function(n){t.plugins.browsertab.isAvailable(function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.l)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}function Qa(e,t,n){return Ya.apply(this,arguments)}function Ya(){return(Ya=Object(v.a)(u.a.mark(function e(t,n,r){var i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=qa(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise(function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout(function(){i(L(t,"redirect-cancelled-by-user"))},za))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),qe()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}});case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}},e,null,[[2,,5,8]])}))).apply(this,arguments)}function $a(e){var t,n,r,i,a,o,s,u,c,l,f=qa();V("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Xa(e){return Ja.apply(this,arguments)}function Ja(){return(Ja=Object(v.a)(u.a.mark(function e(t){var n,r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Za(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map(function(e){return e.toString(16).padStart(2,"0")}).join(""));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Za(e){if(q(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var eo=20,to=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise(function(t){e.resolveInialized=t}),e}return Object(l.a)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach(function(t){return t(e)}),Object(f.a)(Object(h.a)(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Object(v.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),n}(ia);function no(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:so(),postBody:null,tenantId:e.tenantId,error:L(e,"no-auth-event")}}function ro(e,t){return uo()._set(co(e),t)}function io(e){return ao.apply(this,arguments)}function ao(){return(ao=Object(v.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo()._get(co(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,uo()._remove(co(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oo(e,t){var n,r,i=function(e){var t=lo(e),n=t.link?decodeURIComponent(t.link):void 0,r=lo(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return lo(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=lo(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?L(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function so(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<eo;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function uo(){return H(wr)}function co(e){return De("authEvent",e.config.apiKey,e.name)}function lo(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),s=(t=n,Object(r.a)(t)||Object(i.a)(t)||Object(a.a)(t)||Object(o.a)()),u=(s[0],s.slice(1));return Object(w.y)(u.join("?"))}var fo=function(){function e(){Object(c.a)(this,e),this._redirectPersistence=Or,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ea}return Object(l.a)(e,[{key:"_initialize",value:function(){var e=Object(v.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new to(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){D(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Object(v.a)(u.a.mark(function e(t,n,r,i){var a,o,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $a(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ui.clear(),e.next=10,this._originValidation(t);case 10:return o=no(t,r,i),e.next=13,ro(t,o);case 13:return e.next=15,Ha(t,o,n);case 15:return s=e.sent,e.next=18,Ga(s);case 18:return c=e.sent,e.abrupt("return",Qa(t,a,c));case 20:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ka.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=qa(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Object(v.a)(u.a.mark(function n(){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,io(e);case 2:t.onEvent(ho());case 3:case"end":return n.stop()}},n)})),500),s=function(){var n=Object(v.a)(u.a.mark(function n(r){var i,a;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,io(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=oo(i,r.url)),t.onEvent(a||ho());case 7:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var c=i,l="".concat(a.packageName.toLowerCase(),"://");qa().handleOpenURL=function(){var e=Object(v.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&s({url:t}),"function"===typeof c)try{c(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}]),e}();function ho(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:L("no-auth-event")}}function po(e,t){Ye(e)._logFramework(t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(28);function i(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(r.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return pl}),n.d(t,"b",function(){return lc}),n.d(t,"c",function(){return Yu}),n.d(t,"d",function(){return Uu}),n.d(t,"e",function(){return zc}),n.d(t,"f",function(){return cc}),n.d(t,"g",function(){return L}),n.d(t,"h",function(){return hc}),n.d(t,"i",function(){return Hc}),n.d(t,"j",function(){return Wc}),n.d(t,"k",function(){return J}),n.d(t,"l",function(){return yl}),n.d(t,"m",function(){return xu}),n.d(t,"n",function(){return be}),n.d(t,"o",function(){return oe}),n.d(t,"p",function(){return Ru}),n.d(t,"q",function(){return R}),n.d(t,"r",function(){return ue}),n.d(t,"s",function(){return S}),n.d(t,"t",function(){return Su}),n.d(t,"u",function(){return Sl}),n.d(t,"v",function(){return Fl}),n.d(t,"w",function(){return Ul}),n.d(t,"x",function(){return nc}),n.d(t,"y",function(){return Bu}),n.d(t,"z",function(){return qu}),n.d(t,"A",function(){return Mu}),n.d(t,"B",function(){return Il}),n.d(t,"C",function(){return Ll}),n.d(t,"D",function(){return ac}),n.d(t,"E",function(){return zu}),n.d(t,"F",function(){return Zu}),n.d(t,"G",function(){return ec}),n.d(t,"H",function(){return ic}),n.d(t,"I",function(){return cl}),n.d(t,"J",function(){return ul}),n.d(t,"K",function(){return Xu}),n.d(t,"L",function(){return Nl}),n.d(t,"M",function(){return bl}),n.d(t,"N",function(){return wl}),n.d(t,"O",function(){return _l}),n.d(t,"P",function(){return Ol}),n.d(t,"Q",function(){return jl}),n.d(t,"R",function(){return El}),n.d(t,"S",function(){return Vl}),n.d(t,"T",function(){return nl}),n.d(t,"U",function(){return rl}),n.d(t,"V",function(){return oc}),n.d(t,"W",function(){return sc}),n.d(t,"X",function(){return Cl}),n.d(t,"Y",function(){return Al}),n.d(t,"Z",function(){return el}),n.d(t,"ab",function(){return $c}),n.d(t,"bb",function(){return Wu}),n.d(t,"cb",function(){return Hu}),n.d(t,"db",function(){return Dl}),n.d(t,"eb",function(){return Ml}),n.d(t,"fb",function(){return xl}),n.d(t,"gb",function(){return x}),n.d(t,"hb",function(){return Gc}),n.d(t,"ib",function(){return ol}),n.d(t,"jb",function(){return al}),n.d(t,"kb",function(){return Tl}),n.d(t,"lb",function(){return rc}),n.d(t,"mb",function(){return Jc});var r=n(30),i=n(18),a=n(17),o=n(12),s=n(10),u=n(0),c=n.n(u),l=n(4),f=n(7),h=n(8),d=n(15),p=n(2),v=n(3),m=n(14),y=n(20),g=n(21),b=n(6),k=n(22),w="@firebase/firestore",_=function(){function e(t){Object(p.a)(this,e),this.uid=t}return Object(v.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_.UNAUTHENTICATED=new _(null),_.GOOGLE_CREDENTIALS=new _("google-credentials-uid"),_.FIRST_PARTY=new _("first-party-uid"),_.MOCK_USER=new _("mock-user");var O="9.6.5",j=new g.b("@firebase/firestore");function E(){return j.logLevel}function x(e){j.setLogLevel(e)}function T(e){if(j.logLevel<=g.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);j.debug.apply(j,["Firestore (".concat(O,"): ").concat(e)].concat(Object(d.a)(i)))}}function I(e){if(j.logLevel<=g.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);j.error.apply(j,["Firestore (".concat(O,"): ").concat(e)].concat(Object(d.a)(i)))}}function S(e){if(j.logLevel<=g.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);j.warn.apply(j,["Firestore (".concat(O,"): ").concat(e)].concat(Object(d.a)(i)))}}function C(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(O,") INTERNAL ASSERTION FAILED: ")+e;throw I(t),new Error(t)}function N(e,t){e||A()}function R(e,t){e||A()}function P(e,t){return e}var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Object(v.a)(n)}(b.c),M=Object(v.a)(function e(){var t=this;Object(p.a)(this,e),this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}),U=Object(v.a)(function e(t,n){Object(p.a)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}),F=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(_.UNAUTHENTICATED)})}},{key:"shutdown",value:function(){}}]),e}(),V=function(){function e(t){Object(p.a)(this,e),this.token=t,this.changeListener=null}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),B=function(){function e(t){Object(p.a)(this,e),this.t=t,this.currentUser=_.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(v.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new M;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new M,e.enqueueRetryable(function(){return i(n.currentUser)})};var o=function(){var t=a;e.enqueueRetryable(Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}},e)})))},s=function(e){T("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit(function(e){return s(e)}),setTimeout(function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new M)}},0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.i!==t?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(N("string"==typeof n.accessToken),new U(n.accessToken,e.currentUser)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return N(null===e||"string"==typeof e),new _(e)}}]),e}(),q=Object(v.a)(function e(t,n,r){Object(p.a)(this,e),this.type="FirstParty",this.user=_.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}),z=function(){function e(t,n,r){Object(p.a)(this,e),this.h=t,this.l=n,this.m=r}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new q(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(_.FIRST_PARTY)})}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),H=Object(v.a)(function e(t){Object(p.a)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}),W=function(){function e(t){Object(p.a)(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Object(v.a)(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable(function(){return null!=(e=n).error&&T("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token);var e})};var r=function(e){T("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit(function(e){return r(e)}),setTimeout(function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(function(e){return e?(N("string"==typeof e.token),new H(e.token)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),K=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Object(v.a)(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function G(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}K.I=-1;var Q=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=G(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Y(e,t){return e<t?-1:e>t?1:0}function $(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function X(e){return e+"\0"}var J=function(){function e(t,n){if(Object(p.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(v.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Z=function(){function e(t){Object(p.a)(this,e),this.timestamp=t}return Object(v.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new J(0,0))}}]),e}();function ee(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function te(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ne(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var re=function(){function e(t,n,r){Object(p.a)(this,e),void 0===n?n=0:n>t.length&&A(),void 0===r?r=t.length-n:r>t.length-n&&A(),this.segments=t,this.offset=n,this.len=r}return Object(v.a)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ie=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new L(D.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Object(d.a)(s.split("/").filter(function(e){return e.length>0})))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(re),ae=/^[_a-zA-Z][_a-zA-Z0-9]*$/,oe=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ae.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new L(D.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new L(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new L(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new L(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(re),se=function(){function e(t){Object(p.a)(this,e),this.fields=t,t.sort(oe.comparator)}return Object(v.a)(e,[{key:"covers",value:function(e){var t,n=Object(s.a)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $(this.fields,e.fields,function(e,t){return e.isEqual(t)})}}]),e}();function ue(){return"undefined"!=typeof atob}var ce=function(e){function t(e){Object(p.a)(this,t),this.binaryString=e}return Object(v.a)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Y(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){return new t(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))}}]),t}(Symbol.iterator);ce.EMPTY_BYTE_STRING=new ce("");var le=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fe(e){if(N(!!e),"string"==typeof e){var t=0,n=le.exec(e);if(N(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:he(e.seconds),nanos:he(e.nanos)}}function he(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function de(e){return"string"==typeof e?ce.fromBase64String(e):ce.fromUint8Array(e)}function pe(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ve(e){var t=fe(e.mapValue.fields.__local_write_time__.timestampValue);return new J(t.seconds,t.nanos)}function me(e){return null==e}function ye(e){return 0===e&&1/e==-1/0}function ge(e){return"number"==typeof e&&Number.isInteger(e)&&!ye(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var be=function(){function e(t){Object(p.a)(this,e),this.path=t}return Object(v.a)(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===ie.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ie.fromString(t))}},{key:"fromName",value:function(t){return new e(ie.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return ie.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ie(t.slice()))}}]),e}();function ke(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pe(e)?4:10:A()}function we(e,t){if(e===t)return!0;var n=ke(e);if(n!==ke(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ve(e).isEqual(ve(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=fe(e.timestampValue),r=fe(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return de(e.bytesValue).isEqual(de(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return he(e.geoPointValue.latitude)===he(t.geoPointValue.latitude)&&he(e.geoPointValue.longitude)===he(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return he(e.integerValue)===he(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=he(e.doubleValue),r=he(t.doubleValue);return n===r?ye(n)===ye(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $(e.arrayValue.values||[],t.arrayValue.values||[],we);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ee(n)!==ee(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!we(n[i],r[i])))return!1;return!0}(e,t);default:return A()}}function _e(e,t){return void 0!==(e.values||[]).find(function(e){return we(e,t)})}function Oe(e,t){if(e===t)return 0;var n=ke(e),r=ke(t);if(n!==r)return Y(n,r);switch(n){case 0:return 0;case 1:return Y(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=he(e.integerValue||e.doubleValue),r=he(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return je(e.timestampValue,t.timestampValue);case 4:return je(ve(e),ve(t));case 5:return Y(e.stringValue,t.stringValue);case 6:return function(e,t){var n=de(e),r=de(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Y(n[i],r[i]);if(0!==a)return a}return Y(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Y(he(e.latitude),he(t.latitude));return 0!==n?n:Y(he(e.longitude),he(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Oe(n[i],r[i]);if(a)return a}return Y(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Y(r[o],a[o]);if(0!==s)return s;var u=Oe(n[r[o]],i[a[o]]);if(0!==u)return u}return Y(r.length,a.length)}(e.mapValue,t.mapValue);default:throw A()}}function je(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Y(e,t);var n=fe(e),r=fe(t),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function Ee(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=fe(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?de(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,be.fromName(r).toString()):"geoPointValue"in t?"geo(".concat((n=t.geoPointValue).latitude,",").concat(n.longitude,")"):"arrayValue"in t?function(t){var n,r="[",i=!0,a=Object(s.a)(t.values||[]);try{for(a.s();!(n=a.n()).done;){var o=n.value;i?i=!1:r+=",",r+=e(o)}}catch(u){a.e(u)}finally{a.f()}return r+"]"}(t.arrayValue):"mapValue"in t?function(t){var n,r=Object.keys(t.fields||{}).sort(),i="{",a=!0,o=Object(s.a)(r);try{for(o.s();!(n=o.n()).done;){var u=n.value;a?a=!1:i+=",",i+="".concat(u,":").concat(e(t.fields[u]))}}catch(c){o.e(c)}finally{o.f()}return i+"}"}(t.mapValue):A();var n,r}(e)}function xe(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Te(e){return!!e&&"integerValue"in e}function Ie(e){return!!e&&"arrayValue"in e}function Se(e){return!!e&&"nullValue"in e}function Ce(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ae(e){return!!e&&"mapValue"in e}function Ne(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return te(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=Ne(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ne(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Re=function(){function e(t){Object(p.a)(this,e),this.value=t}return Object(v.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ae(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ne(t)}},{key:"setAll",value:function(e){var t=this,n=oe.emptyPath(),r={},i=[];e.forEach(function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ne(e):i.push(a.lastSegment())});var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ae(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return we(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ae(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){te(t,function(t,n){return e[t]=n});var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ne(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Pe(e){var t=[];return te(e.fields,function(e,n){var r=new oe([e]);if(Ae(n)){var i=Pe(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Object(s.a)(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(c){o.e(c)}finally{o.f()}}}else t.push(r)}),new se(t)}var De=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Object(v.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Re.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Re.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Z.min(),Re.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Re.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Re.empty(),2)}}]),e}(),Le=Object(v.a)(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(p.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null});function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Le(e,t,n,r,i,a,o)}function Ue(e){var t=P(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Ee(e.value)}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),me(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Xe(t.startAt)),t.endAt&&(n+="|ub:",n+=Xe(t.endAt)),t.R=n}return t.R}function Fe(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ze(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!we(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tt(e.startAt,t.startAt)&&tt(e.endAt,t.endAt)}function Ve(e){return be.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Be=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Object(v.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Oe(t,this.value)):null!==t&&ke(this.value)===ke(t)&&this.v(Oe(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return A()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new qe(e,t,r):"array-contains"===t?new Ke(e,r):"in"===t?new Ge(e,r):"not-in"===t?new Qe(e,r):"array-contains-any"===t?new Ye(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new ze(e,n):new He(e,n)}}]),n}(function(){return Object(v.a)(function e(){Object(p.a)(this,e)})}());var qe=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this,e,r,i)).key=be.fromName(i.referenceValue),a}return Object(v.a)(n,[{key:"matches",value:function(e){var t=be.comparator(e.key,this.key);return this.v(t)}}]),n}(Be),ze=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,"in",r)).keys=We("in",r),i}return Object(v.a)(n,[{key:"matches",value:function(e){return this.keys.some(function(t){return t.isEqual(e.key)})}}]),n}(Be),He=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,"not-in",r)).keys=We("not-in",r),i}return Object(v.a)(n,[{key:"matches",value:function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})}}]),n}(Be);function We(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return be.fromName(e.referenceValue)})}var Ke=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"array-contains",r)}return Object(v.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ie(t)&&_e(t.arrayValue,this.value)}}]),n}(Be),Ge=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"in",r)}return Object(v.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&_e(this.value.arrayValue,t)}}]),n}(Be),Qe=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"not-in",r)}return Object(v.a)(n,[{key:"matches",value:function(e){if(_e(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!_e(this.value.arrayValue,t)}}]),n}(Be),Ye=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"array-contains-any",r)}return Object(v.a)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ie(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return _e(t.value.arrayValue,e)})}}]),n}(Be),$e=Object(v.a)(function e(t,n){Object(p.a)(this,e),this.position=t,this.before=n});function Xe(e){return"".concat(e.before?"b":"a",":").concat(e.position.map(function(e){return Ee(e)}).join(","))}var Je=Object(v.a)(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(p.a)(this,e),this.field=t,this.dir=n});function Ze(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function et(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?be.comparator(be.fromName(o.referenceValue),n.key):Oe(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function tt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!we(e.position[n],t.position[n]))return!1;return!0}var nt=Object(v.a)(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(p.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt});function rt(e,t,n,r,i,a,o,s){return new nt(e,t,n,r,i,a,o,s)}function it(e){return new nt(e)}function at(e){return!me(e.limit)&&"F"===e.limitType}function ot(e){return!me(e.limit)&&"L"===e.limitType}function st(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ut(e){var t,n=Object(s.a)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function ct(e){return null!==e.collectionGroup}function lt(e){var t=P(e);if(null===t.S){t.S=[];var n=ut(t),r=st(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Je(n)),t.S.push(new Je(oe.keyField(),"asc"));else{var i,a=!1,o=Object(s.a)(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Je(oe.keyField(),c))}}}return t.S}function ft(e){var t=P(e);if(!t.D)if("F"===t.limitType)t.D=Me(t.path,t.collectionGroup,lt(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Object(s.a)(lt(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Je(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new $e(t.endAt.position,!t.endAt.before):null,c=t.startAt?new $e(t.startAt.position,!t.startAt.before):null;t.D=Me(t.path,t.collectionGroup,r,t.filters,t.limit,u,c)}return t.D}function ht(e,t,n){return new nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dt(e,t){return Fe(ft(e),ft(t))&&e.limitType===t.limitType}function pt(e){return"".concat(Ue(ft(e)),"|lt:").concat(e.limitType)}function vt(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ee(t.value));var t}).join(", "),"]")),me(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)}).join(", "),"]")),e.startAt&&(t+=", startAt: "+Xe(e.startAt)),e.endAt&&(t+=", endAt: "+Xe(e.endAt)),"Target(".concat(t,")")}(ft(e)),"; limitType=").concat(e.limitType,")")}function mt(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):be.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Object(s.a)(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Object(s.a)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!et(e.startAt,lt(e),t))&&(!e.endAt||!et(e.endAt,lt(e),t))}(e,t)}function yt(e){return function(t,n){var r,i=!1,a=Object(s.a)(lt(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=gt(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(c){a.e(c)}finally{a.f()}return 0}}function gt(e,t,n){var r=e.field.isKeyField()?be.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Oe(r,i):A()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return A()}}function bt(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ye(t)?"-0":t}}function kt(e){return{integerValue:""+e}}function wt(e,t){return ge(t)?kt(t):bt(e,t)}var _t=Object(v.a)(function e(){Object(p.a)(this,e),this._=void 0});function Ot(e,t,n){return e instanceof xt?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Tt?It(e,t):e instanceof St?Ct(e,t):function(e,t){var n=Et(e,t),r=Nt(n)+Nt(e.N);return Te(n)&&Te(e.N)?kt(r):bt(e.k,r)}(e,t)}function jt(e,t,n){return e instanceof Tt?It(e,t):e instanceof St?Ct(e,t):n}function Et(e,t){return e instanceof At?Te(n=t)||n&&"doubleValue"in n?t:{integerValue:0}:null;var n}var xt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n)}(_t),Tt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).elements=e,r}return Object(v.a)(n)}(_t);function It(e,t){var n,r=Rt(t),i=Object(s.a)(e.elements);try{var a=function(){var e=n.value;r.some(function(t){return we(t,e)})||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var St=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).elements=e,r}return Object(v.a)(n)}(_t);function Ct(e,t){var n,r=Rt(t),i=Object(s.a)(e.elements);try{var a=function(){var e=n.value;r=r.filter(function(t){return!we(t,e)})};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var At=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).k=e,i.N=r,i}return Object(v.a)(n)}(_t);function Nt(e){return he(e.integerValue||e.doubleValue)}function Rt(e){return Ie(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Pt=Object(v.a)(function e(t,n){Object(p.a)(this,e),this.field=t,this.transform=n});var Dt=Object(v.a)(function e(t,n){Object(p.a)(this,e),this.version=t,this.transformResults=n}),Lt=function(){function e(t,n){Object(p.a)(this,e),this.updateTime=t,this.exists=n}return Object(v.a)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Mt(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ut=Object(v.a)(function e(){Object(p.a)(this,e)});function Ft(e,t,n){e instanceof Ht?function(e,t,n){var r=e.value.clone(),i=Gt(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Wt?function(e,t,n){if(Mt(e.precondition,t)){var r=Gt(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Kt(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Vt(e,t,n){e instanceof Ht?function(e,t,n){if(Mt(e.precondition,t)){var r=e.value.clone(),i=Qt(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(zt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Wt?function(e,t,n){if(Mt(e.precondition,t)){var r=Qt(e.fieldTransforms,n,t),i=t.data;i.setAll(Kt(e)),i.setAll(r),t.convertToFoundDocument(zt(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Mt(e.precondition,t)&&t.convertToNoDocument(Z.min())}(e,t)}function Bt(e,t){var n,r=null,i=Object(s.a)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Et(a.transform,o||null);null!=u&&(null==r&&(r=Re.empty()),r.set(a.field,u))}}catch(c){i.e(c)}finally{i.f()}return r||null}function qt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Tt&&t instanceof Tt||e instanceof St&&t instanceof St?$(e.elements,t.elements,we):e instanceof At&&t instanceof At?we(e.N,t.N):e instanceof xt&&t instanceof xt}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function zt(e){return e.isFoundDocument()?e.version:Z.min()}var Ht=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(p.a)(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Object(v.a)(n)}(Ut),Wt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(p.a)(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Object(v.a)(n)}(Ut);function Kt(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Gt(e,t,n){var r=new Map;N(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,jt(o,s,n[i]))}return r}function Qt(e,t,n){var r,i=new Map,a=Object(s.a)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,c=n.data.field(o.field);i.set(o.field,Ot(u,c,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Yt,$t,Xt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Object(v.a)(n)}(Ut),Jt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Object(v.a)(n)}(Ut),Zt=Object(v.a)(function e(t){Object(p.a)(this,e),this.count=t});function en(e){switch(e){default:return A();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function tn(e){if(void 0===e)return I("GRPC error has no .code"),D.UNKNOWN;switch(e){case Yt.OK:return D.OK;case Yt.CANCELLED:return D.CANCELLED;case Yt.UNKNOWN:return D.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return D.INTERNAL;case Yt.UNAVAILABLE:return D.UNAVAILABLE;case Yt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Yt.NOT_FOUND:return D.NOT_FOUND;case Yt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Yt.ABORTED:return D.ABORTED;case Yt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Yt.DATA_LOSS:return D.DATA_LOSS;default:return A()}}($t=Yt||(Yt={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";var nn=function(){function e(t,n){Object(p.a)(this,e),this.comparator=t,this.root=n||an.EMPTY}return Object(v.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,an.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})}},{key:"toString",value:function(){var e=[];return this.inorderTraversal(function(t,n){return e.push("".concat(t,":").concat(n)),!1}),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new rn(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new rn(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new rn(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new rn(this.root,e,this.comparator,!0)}}]),e}(),rn=function(){function e(t,n,r,i){Object(p.a)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(v.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),an=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(v.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw A();if(this.right.isRed())throw A();var e=this.left.check();if(e!==this.right.check())throw A();return e+(this.isRed()?0:1)}}]),e}();an.EMPTY=null,an.RED=!0,an.BLACK=!1,an.EMPTY=new(function(){function e(){Object(p.a)(this,e),this.size=0}return Object(v.a)(e,[{key:"key",get:function(){throw A()}},{key:"value",get:function(){throw A()}},{key:"color",get:function(){throw A()}},{key:"left",get:function(){throw A()}},{key:"right",get:function(){throw A()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new an(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var on=function(){function e(t){Object(p.a)(this,e),this.comparator=t,this.data=new nn(this.comparator)}return Object(v.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new sn(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new sn(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),sn=function(){function e(t){Object(p.a)(this,e),this.iter=t}return Object(v.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),un=new nn(be.comparator);function cn(){return un}var ln=new nn(be.comparator);function fn(){return ln}var hn=new nn(be.comparator);function dn(){return hn}var pn=new on(be.comparator);function vn(){for(var e=pn,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var mn=new on(Y);function yn(){return mn}var gn=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Object(v.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,bn.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Z.min(),r,yn(),cn(),vn())}}]),e}(),bn=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Object(v.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ce.EMPTY_BYTE_STRING,n,vn(),vn(),vn())}}]),e}(),kn=Object(v.a)(function e(t,n,r,i){Object(p.a)(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i}),wn=Object(v.a)(function e(t,n){Object(p.a)(this,e),this.targetId=t,this.M=n}),_n=Object(v.a)(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ce.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(p.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}),On=function(){function e(){Object(p.a)(this,e),this.F=0,this.L=xn(),this.B=ce.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Object(v.a)(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=vn(),t=vn(),n=vn();return this.L.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:A()}}),new bn(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=xn()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),jn=function(){function e(t){Object(p.a)(this,e),this.et=t,this.nt=new Map,this.st=cn(),this.it=En(),this.rt=new on(Y)}return Object(v.a)(e,[{key:"ot",value:function(e){var t,n=Object(s.a)(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(u){n.e(u)}finally{n.f()}var i,a=Object(s.a)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:A()}})}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach(function(e,r){n.lt(r)&&t(r)})}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(Ve(i))if(0===n){var a=new be(i.path);this.at(t,a,De.newNoDocument(a,Z.min()))}else N(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach(function(r,i){var a=t.wt(i);if(a){if(r.current&&Ve(a.target)){var o=new be(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,De.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}});var r=vn();this.it.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))});var i=new gn(e,n,this.rt,this.st,r);return this.st=cn(),this.it=En(),this.rt=new on(Y),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new On,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new on(Y),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new On),this.et.getRemoteKeysForTarget(e).forEach(function(n){t.at(e,n,null)})}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function En(){return new nn(be.comparator)}function xn(){return new nn(be.comparator)}var Tn={asc:"ASCENDING",desc:"DESCENDING"},In={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sn=Object(v.a)(function e(t,n){Object(p.a)(this,e),this.databaseId=t,this.C=n});function Cn(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function An(e,t){return e.C?t.toBase64():t.toUint8Array()}function Nn(e,t){return Cn(e,t.toTimestamp())}function Rn(e){return N(!!e),Z.fromTimestamp(function(e){var t=fe(e);return new J(t.seconds,t.nanos)}(e))}function Pn(e,t){return function(e){return new ie(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Dn(e){var t=ie.fromString(e);return N(ar(t)),t}function Ln(e,t){return Pn(e.databaseId,t.path)}function Mn(e,t){var n=Dn(t);if(n.get(1)!==e.databaseId.projectId)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new be(Bn(n))}function Un(e,t){return Pn(e.databaseId,t)}function Fn(e){var t=Dn(e);return 4===t.length?ie.emptyPath():Bn(t)}function Vn(e){return new ie(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Bn(e){return N(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function qn(e,t,n){return{name:Ln(e,t),fields:n.value.mapValue.fields}}function zn(e,t,n){var r=Mn(e,t.name),i=Rn(t.updateTime),a=new Re({mapValue:{fields:t.fields}}),o=De.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Hn(e,t){return"found"in t?function(e,t){N(!!t.found),t.found.name,t.found.updateTime;var n=Mn(e,t.found.name),r=Rn(t.found.updateTime),i=new Re({mapValue:{fields:t.found.fields}});return De.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){N(!!t.missing),N(!!t.readTime);var n=Mn(e,t.missing),r=Rn(t.readTime);return De.newNoDocument(n,r)}(e,t):A()}function Wn(e,t){var n;if(t instanceof Ht)n={update:qn(e,t.key,t.value)};else if(t instanceof Xt)n={delete:Ln(e,t.key)};else if(t instanceof Wt)n={update:qn(e,t.key,t.data),updateMask:ir(t.fieldMask)};else{if(!(t instanceof Jt))return A();n={verify:Ln(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof xt)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tt)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof St)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof At)return{fieldPath:t.field.canonicalString(),increment:n.N};throw A()}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Nn(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:A()}(e,t.precondition)),n}function Kn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Lt.updateTime(Rn(e.updateTime)):void 0!==e.exists?Lt.exists(e.exists):Lt.none()}(t.currentDocument):Lt.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;if("setToServerValue"in t)N("REQUEST_TIME"===t.setToServerValue),n=new xt;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Tt(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new St(i)}else"increment"in t?n=new At(e,t.increment):A();var a=oe.fromServerFormat(t.fieldPath);return new Pt(a,n)}(e,t)}):[];if(t.update){t.update.name;var i=Mn(e,t.update.name),a=new Re({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new se(t.map(function(e){return oe.fromServerFormat(e)}))}(t.updateMask);return new Wt(i,a,o,n,r)}return new Ht(i,a,n,r)}if(t.delete){var s=Mn(e,t.delete);return new Xt(s,n)}if(t.verify){var u=Mn(e,t.verify);return new Jt(u,n)}return A()}function Gn(e,t){return{documents:[Un(e,t.path)]}}function Qn(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Un(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Un(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(Ce(e.value))return{unaryFilter:{field:er(e.field),op:"IS_NAN"}};if(Se(e.value))return{unaryFilter:{field:er(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ce(e.value))return{unaryFilter:{field:er(e.field),op:"IS_NOT_NAN"}};if(Se(e.value))return{unaryFilter:{field:er(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:er(e.field),op:Zn(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:er(e.field),direction:Jn(e.dir)}}(e)})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||me(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=$n(t.startAt)),t.endAt&&(n.structuredQuery.endAt=$n(t.endAt)),n}function Yn(e){var t=Fn(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){N(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function e(t){return t?void 0!==t.unaryFilter?[rr(t)]:void 0!==t.fieldFilter?[nr(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e(t)}).reduce(function(e,t){return e.concat(t)}):A():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(e){return function(e){return new Je(tr(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var u=null;n.limit&&(u=function(e){var t;return me(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Xn(n.startAt));var l=null;return n.endAt&&(l=Xn(n.endAt)),rt(t,i,s,o,u,"F",c,l)}function $n(e){return{before:e.before,values:e.position}}function Xn(e){var t=!!e.before,n=e.values||[];return new $e(n,t)}function Jn(e){return Tn[e]}function Zn(e){return In[e]}function er(e){return{fieldPath:e.canonicalString()}}function tr(e){return oe.fromServerFormat(e.fieldPath)}function nr(e){return Be.create(tr(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return A()}}(e.fieldFilter.op),e.fieldFilter.value)}function rr(e){switch(e.unaryFilter.op){case"IS_NAN":var t=tr(e.unaryFilter.field);return Be.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=tr(e.unaryFilter.field);return Be.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=tr(e.unaryFilter.field);return Be.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=tr(e.unaryFilter.field);return Be.create(i,"!=",{nullValue:"NULL_VALUE"});default:return A()}}function ir(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function ar(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function or(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ur(t)),t=sr(e.get(n),t);return ur(t)}function sr(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function ur(e){return e+"\x01\x01"}function cr(e){var t=e.length;if(N(t>=2),2===t)return N("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ie.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&A(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:A()}a=o+2}return new ie(r)}var lr=Object(v.a)(function e(t,n){Object(p.a)(this,e),this.seconds=t,this.nanoseconds=n}),fr=Object(v.a)(function e(t,n,r){Object(p.a)(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r});fr.store="owner",fr.key="owner";var hr=Object(v.a)(function e(t,n,r){Object(p.a)(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r});hr.store="mutationQueues",hr.keyPath="userId";var dr=Object(v.a)(function e(t,n,r,i,a){Object(p.a)(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a});dr.store="mutations",dr.keyPath="batchId",dr.userMutationsIndex="userMutationsIndex",dr.userMutationsKeyPath=["userId","batchId"];var pr=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,or(t)]}},{key:"key",value:function(e,t,n){return[e,or(t),n]}}]),e}();pr.store="documentMutations",pr.PLACEHOLDER=new pr;var vr=Object(v.a)(function e(t,n){Object(p.a)(this,e),this.path=t,this.readTime=n}),mr=Object(v.a)(function e(t,n){Object(p.a)(this,e),this.path=t,this.version=n}),yr=Object(v.a)(function e(t,n,r,i,a,o){Object(p.a)(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o});yr.store="remoteDocuments",yr.readTimeIndex="readTimeIndex",yr.readTimeIndexPath="readTime",yr.collectionReadTimeIndex="collectionReadTimeIndex",yr.collectionReadTimeIndexPath=["parentPath","readTime"];var gr=Object(v.a)(function e(t){Object(p.a)(this,e),this.byteSize=t});gr.store="remoteDocumentGlobal",gr.key="remoteDocumentGlobalKey";var br=Object(v.a)(function e(t,n,r,i,a,o,s){Object(p.a)(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s});br.store="targets",br.keyPath="targetId",br.queryTargetsIndexName="queryTargetsIndex",br.queryTargetsKeyPath=["canonicalId","targetId"];var kr=Object(v.a)(function e(t,n,r){Object(p.a)(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r});kr.store="targetDocuments",kr.keyPath=["targetId","path"],kr.documentTargetsIndex="documentTargetsIndex",kr.documentTargetsKeyPath=["path","targetId"];var wr=Object(v.a)(function e(t,n,r,i){Object(p.a)(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i});wr.key="targetGlobalKey",wr.store="targetGlobal";var _r=Object(v.a)(function e(t,n){Object(p.a)(this,e),this.collectionId=t,this.parent=n});_r.store="collectionParents",_r.keyPath=["collectionId","parent"];var Or=Object(v.a)(function e(t,n,r,i){Object(p.a)(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i});Or.store="clientMetadata",Or.keyPath="clientId";var jr=Object(v.a)(function e(t,n,r){Object(p.a)(this,e),this.bundleId=t,this.createTime=n,this.version=r});jr.store="bundles",jr.keyPath="bundleId";var Er=Object(v.a)(function e(t,n,r){Object(p.a)(this,e),this.name=t,this.readTime=n,this.bundledQuery=r});Er.store="namedQueries",Er.keyPath="name";var xr=[hr.store,dr.store,pr.store,yr.store,br.store,fr.store,wr.store,kr.store].concat([Or.store]).concat([gr.store]).concat([_r.store]).concat([jr.store,Er.store]),Tr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ir=function(){function e(){Object(p.a)(this,e),this.onCommittedListeners=[]}return Object(v.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach(function(e){return e()})}}]),e}(),Sr=function(){function e(t){var n=this;Object(p.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)},function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)})}return Object(v.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&A(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})}},{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.next(t,n)})}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)}}],[{key:"resolve",value:function(t){return new e(function(e,n){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"waitFor",value:function(t){return new e(function(e,n){var r=0,i=0,a=!1;t.forEach(function(t){++r,t.next(function(){++i,a&&i===r&&e()},function(e){return n(e)})}),a=!0,i===r&&e()})}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Object(s.a)(t);try{var a=function(){var t=n.value;r=r.next(function(n){return n?e.resolve(n):t()})};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)}}]),e}(),Cr=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new M,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Rr(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=Ur(e.target.error);r.It.reject(new Rr(t,n))}}return Object(v.a)(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(T("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Dr(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Rr(n,t)}}}]),e}(),Ar=function(){function t(e,n,r){Object(p.a)(this,t),this.name=e,this.version=n,this.Rt=r,12.2===t.bt(Object(b.l)())&&I("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Object(v.a)(t,[{key:"Ct",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var n=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return T("SimpleDb","Opening database:",this.name),e.next=5,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Rr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new L(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new L(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Rr(t,n))},i.onupgradeneeded=function(e){T("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next(function(){T("SimpleDb","Database upgrade to version "+n.version+" complete")})}});case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Object(l.a)(c.a.mark(function e(t,n,r,i){var a,o,s,u,l=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(c.a.mark(function e(){var n,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Ct(t);case 2:return l.db=e.sent,n=Cr.open(l.db,t,a?"readonly":"readwrite",r),(o=i(n).catch(function(e){return n.abort(e),Sr.reject(e)}).toPromise()).catch(function(){}),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}},e)})(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,T("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}},e,this,[[3,10]])}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return T("SimpleDb","Removing database:",e),Lr(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!Object(b.r)())return!1;if(t.vt())return!0;var e=Object(b.l)(),n=t.bt(e),r=0<n&&n<10,i=t.Vt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:""}))||void 0===t?void 0:t.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),t}(),Nr=function(){function e(t){Object(p.a)(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return Object(v.a)(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return Lr(this.$t.delete())}}]),e}(),Rr=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,D.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Object(v.a)(n)}(L);function Pr(e){return"IndexedDbTransactionError"===e.name}var Dr=function(){function e(t){Object(p.a)(this,e),this.store=t}return Object(v.a)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(T("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(T("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Lr(n)}},{key:"add",value:function(e){return T("SimpleDb","ADD",this.store.name,e,e),Lr(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Lr(this.store.get(e)).next(function(n){return void 0===n&&(n=null),T("SimpleDb","GET",t.store.name,e,n),n})}},{key:"delete",value:function(e){return T("SimpleDb","DELETE",this.store.name,e),Lr(this.store.delete(e))}},{key:"count",value:function(){return T("SimpleDb","COUNT",this.store.name),Lr(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,function(e,t){r.push(t)}).next(function(){return r})}},{key:"qt",value:function(e,t){T("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,function(e,t,n){return n.delete()})}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new Sr(function(n,r){t.onerror=function(e){var t=Ur(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})}},{key:"Ut",value:function(e,t){var n=[];return new Sr(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Nr(i),o=t(i.primaryKey,i.value,a);if(o instanceof Sr){var s=o.catch(function(e){return a.done(),Sr.reject(e)});n.push(s)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}}).next(function(){return Sr.waitFor(n)})}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Lr(e){return new Sr(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ur(e.target.error);n(t)}})}var Mr=!1;function Ur(e){var t=Ar.bt(Object(b.l)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new L("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Mr||(Mr=!0,setTimeout(function(){throw r},0)),r}}return e}var Fr=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Object(v.a)(n)}(Ir);function Vr(e,t){var n=P(e);return Ar.Dt(n.Wt,t)}var Br=function(){function e(t,n,r,i){Object(p.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Object(v.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ft(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Object(s.a)(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Vt(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Object(s.a)(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Vt(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Z.min())})}},{key:"keys",value:function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},vn())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$(this.mutations,e.mutations,function(e,t){return qt(e,t)})&&$(this.baseMutations,e.baseMutations,function(e,t){return qt(e,t)})}}]),e}(),qr=function(){function e(t,n,r,i){Object(p.a)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Object(v.a)(e,null,[{key:"from",value:function(t,n,r){N(t.mutations.length===r.length);for(var i=dn(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),zr=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Z.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Z.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ce.EMPTY_BYTE_STRING;Object(p.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Object(v.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Hr=Object(v.a)(function e(t){Object(p.a)(this,e),this.Gt=t});function Wr(e,t){if(t.document)return zn(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=be.fromSegments(t.noDocument.path),r=$r(t.noDocument.readTime),i=De.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=be.fromSegments(t.unknownDocument.path),o=$r(t.unknownDocument.version);return De.newUnknownDocument(a,o)}return A()}function Kr(e,t,n){var r=Gr(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Ln(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Cn(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new yr(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Yr(t.version),c=t.hasCommittedMutations;return new yr(null,new vr(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Yr(t.version);return new yr(new mr(l,f),null,null,!0,r,i)}return A()}function Gr(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Qr(e){var t=new J(e[0],e[1]);return Z.fromTimestamp(t)}function Yr(e){var t=e.toTimestamp();return new lr(t.seconds,t.nanoseconds)}function $r(e){var t=new J(e.seconds,e.nanoseconds);return Z.fromTimestamp(t)}function Xr(e,t){for(var n=(t.baseMutations||[]).map(function(t){return Kn(e.Gt,t)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map(function(t){return Kn(e.Gt,t)}),s=J.fromMillis(t.localWriteTimeMs);return new Br(t.batchId,s,n,o)}function Jr(e){var t,n,r=$r(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?$r(e.lastLimboFreeSnapshotVersion):Z.min();return void 0!==e.query.documents?(N(1===(n=e.query).documents.length),t=ft(it(Fn(n.documents[0])))):t=function(e){return ft(Yn(e))}(e.query),new zr(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ce.fromBase64String(e.resumeToken))}function Zr(e,t){var n,r=Yr(t.snapshotVersion),i=Yr(t.lastLimboFreeSnapshotVersion);n=Ve(t.target)?Gn(e.Gt,t.target):Qn(e.Gt,t.target);var a=t.resumeToken.toBase64();return new br(t.targetId,Ue(t.target),r,a,t.sequenceNumber,i,n)}function ei(e){var t=Yn({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ht(t,t.limit,"L"):t}var ti=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"getBundleMetadata",value:function(e,t){return ni(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:$r(t.createTime),version:t.version};var t})}},{key:"saveBundleMetadata",value:function(e,t){return ni(e).put({bundleId:(n=t).id,createTime:Yr(Rn(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return ri(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:ei(t.bundledQuery),readTime:$r(t.readTime)};var t})}},{key:"saveNamedQuery",value:function(e,t){return ri(e).put(function(e){return{name:e.name,readTime:Yr(Rn(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function ni(e){return Vr(e,jr.store)}function ri(e){return Vr(e,Er.store)}var ii=function(){function e(){Object(p.a)(this,e),this.zt=new ai}return Object(v.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Sr.resolve()}},{key:"getCollectionParents",value:function(e,t){return Sr.resolve(this.zt.getEntries(t))}}]),e}(),ai=function(){function e(){Object(p.a)(this,e),this.index={}}return Object(v.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new on(ie.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new on(ie.comparator)).toArray()}}]),e}(),oi=function(){function e(){Object(p.a)(this,e),this.Ht=new ai}return Object(v.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.Ht.add(t)});var a={collectionId:r,parent:or(i)};return si(e).put(a)}return Sr.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[X(t),""],!1,!0);return si(e).Bt(r).next(function(e){var r,i=Object(s.a)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(cr(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n})}}]),e}();function si(e){return Vr(e,_r.store)}var ui={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ci=function(){function e(t,n,r){Object(p.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(v.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function li(e,t,n){var r=e.store(dr.store),i=e.store(pr.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,c=r.jt({range:o},function(e,t,n){return u++,n.delete()});a.push(c.next(function(){N(1===u)}));var l,f=[],h=Object(s.a)(n.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=pr.key(t,d.key.path,n.batchId);a.push(i.delete(p)),f.push(d.key)}}catch(v){h.e(v)}finally{h.f()}return Sr.waitFor(a).next(function(){return f})}function fi(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw A();t=e.noDocument}return JSON.stringify(t).length}ci.DEFAULT_COLLECTION_PERCENTILE=10,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ci.DEFAULT=new ci(41943040,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ci.DISABLED=new ci(-1,0,0);var hi=function(){function e(t,n,r,i){Object(p.a)(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Object(v.a)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pi(e).jt({index:dr.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=vi(e),o=pi(e);return o.add({}).next(function(u){N("number"==typeof u);var c,l=new Br(u,t,n,r),f=function(e,t,n){var r=n.baseMutations.map(function(t){return Wn(e.Gt,t)}),i=n.mutations.map(function(t){return Wn(e.Gt,t)});return new dr(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,l),h=[],d=new on(function(e,t){return Y(e.canonicalString(),t.canonicalString())}),p=Object(s.a)(r);try{for(p.s();!(c=p.n()).done;){var v=c.value,m=pr.key(i.userId,v.key.path,u);d=d.add(v.key.path.popLast()),h.push(o.put(f)),h.push(a.put(m,pr.PLACEHOLDER))}}catch(y){p.e(y)}finally{p.f()}return d.forEach(function(t){h.push(i.Jt.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.Yt[u]=l.keys()}),Sr.waitFor(h).next(function(){return l})})}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return pi(e).get(t).next(function(e){return e?(N(e.userId===n.userId),Xr(n.k,e)):null})}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?Sr.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null})}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return pi(e).jt({index:dr.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(N(t.batchId>=r),a=Xr(n.k,t)),i.done()}).next(function(){return a})}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return pi(e).jt({index:dr.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pi(e).Bt(dr.userMutationsIndex,n).next(function(e){return e.map(function(e){return Xr(t.k,e)})})}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=pr.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return vi(e).jt({range:i},function(r,i,s){var u=Object(o.a)(r,3),c=u[0],l=u[1],f=u[2],h=cr(l);if(c===n.userId&&t.path.isEqual(h))return pi(e).get(f).next(function(e){if(!e)throw A();N(e.userId===n.userId),a.push(Xr(n.k,e))});s.done()}).next(function(){return a})}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new on(Y),i=[];return t.forEach(function(t){var a=pr.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(a),u=vi(e).jt({range:s},function(e,i,a){var s=Object(o.a)(e,3),u=s[0],c=s[1],l=s[2],f=cr(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()});i.push(u)}),Sr.waitFor(i).next(function(){return n.te(e,r)})}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=pr.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(a),u=new on(Y);return vi(e).jt({range:s},function(e,t,a){var s=Object(o.a)(e,3),c=s[0],l=s[1],f=s[2],h=cr(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()}).next(function(){return n.te(e,u)})}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(pi(e).get(t).next(function(e){if(null===e)throw A();N(e.userId===n.userId),r.push(Xr(n.k,e))}))}),Sr.waitFor(i).next(function(){return r})}},{key:"removeMutationBatch",value:function(e,t){var n=this;return li(e.Wt,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.ee(t.batchId)}),Sr.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return Sr.resolve();var r=IDBKeyRange.lowerBound(pr.prefixForUser(t.userId)),i=[];return vi(e).jt({range:r},function(e,n,r){if(e[0]===t.userId){var a=cr(e[1]);i.push(a)}else r.done()}).next(function(){N(0===i.length)})})}},{key:"containsKey",value:function(e,t){return di(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return mi(e).get(this.userId).next(function(e){return e||new hr(t.userId,-1,"")})}}],[{key:"Xt",value:function(t,n,r,i){return N(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function di(e,t,n){var r=pr.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),s=!1;return vi(e).jt({range:a,Kt:!0},function(e,n,r){var a=Object(o.a)(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(s=!0),r.done()}).next(function(){return s})}function pi(e){return Vr(e,dr.store)}function vi(e){return Vr(e,pr.store)}function mi(e){return Vr(e,hr.store)}var yi=function(){function e(t){Object(p.a)(this,e),this.se=t}return Object(v.a)(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),gi=function(){function e(t,n){Object(p.a)(this,e),this.referenceDelegate=t,this.k=n}return Object(v.a)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next(function(n){var r=new yi(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next(function(){return n.highestTargetId})})}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next(function(e){return Z.fromTimestamp(new J(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next(function(e){return e.highestListenSequenceNumber})}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)})}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next(function(){return n.oe(e).next(function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)})})}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return bi(e).delete(t.targetId)}).next(function(){return n.oe(e)}).next(function(t){return N(t.targetCount>0),t.targetCount-=1,n.ce(e,t)})}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return bi(e).jt(function(o,s){var u=Jr(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))}).next(function(){return Sr.waitFor(a)}).next(function(){return i})}},{key:"forEachTarget",value:function(e,t){return bi(e).jt(function(e,n){var r=Jr(n);t(r)})}},{key:"oe",value:function(e){return ki(e).get(wr.key).next(function(e){return N(null!==e),e})}},{key:"ce",value:function(e,t){return ki(e).put(wr.key,t)}},{key:"ae",value:function(e,t){return bi(e).put(Zr(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next(function(e){return e.targetCount})}},{key:"getTargetData",value:function(e,t){var n=Ue(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bi(e).jt({range:r,index:br.queryTargetsIndexName},function(e,n,r){var a=Jr(n);Fe(t,a.target)&&(i=a,r.done())}).next(function(){return i})}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=wi(e);return t.forEach(function(t){var o=or(t.path);i.push(a.put(new kr(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))}),Sr.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=wi(e);return Sr.forEach(t,function(t){var a=or(t.path);return Sr.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])})}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=wi(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wi(e),i=vn();return r.jt({range:n,Kt:!0},function(e,t,n){var r=cr(e[1]),a=new be(r);i=i.add(a)}).next(function(){return i})}},{key:"containsKey",value:function(e,t){var n=or(t.path),r=IDBKeyRange.bound([n],[X(n)],!1,!0),i=0;return wi(e).jt({index:kr.documentTargetsIndex,Kt:!0,range:r},function(e,t,n){var r=Object(o.a)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())}).next(function(){return i>0})}},{key:"Et",value:function(e,t){return bi(e).get(t).next(function(e){return e?Jr(e):null})}}]),e}();function bi(e){return Vr(e,br.store)}function ki(e){return Vr(e,wr.store)}function wi(e){return Vr(e,kr.store)}function _i(e){return Oi.apply(this,arguments)}function Oi(){return(Oi=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===D.FAILED_PRECONDITION&&t.message===Tr){e.next=2;break}throw t;case 2:T("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ji(e,t){var n=Object(o.a)(e,2),r=n[0],i=n[1],a=Object(o.a)(t,2),s=a[0],u=a[1],c=Y(r,s);return 0===c?Y(i,u):c}var Ei=function(){function e(t){Object(p.a)(this,e),this.he=t,this.buffer=new on(ji),this.le=0}return Object(v.a)(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ji(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),xi=function(){function e(t,n){Object(p.a)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Object(v.a)(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;T("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Object(l.a)(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Pr(n.t0)){n.next=12;break}T("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,_i(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}},n,null,[[1,6]])})))}}]),e}(),Ti=function(){function e(t,n){Object(p.a)(this,e),this.ge=t,this.params=n}return Object(v.a)(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next(function(e){return Math.floor(t/100*e)})}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Sr.resolve(K.I);var r=new Ei(t);return this.ge.forEachTarget(e,function(e){return r.de(e.sequenceNumber)}).next(function(){return n.ge.pe(e,function(e){return r.de(e)})}).next(function(){return r.maxValue})}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; disabled"),Sr.resolve(ui)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ui):n.Te(e,t)})}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(T("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return u=Date.now(),E()<=g.a.DEBUG&&T("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Sr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})}}]),e}(),Ii=function(){function e(t,n){Object(p.a)(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ti(e,t)}(this,n)}return Object(v.a)(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})}},{key:"Ee",value:function(e){var t=0;return this.pe(e,function(e){t++}).next(function(){return t})}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,function(e,n){return t(n)})}},{key:"addReference",value:function(e,t,n){return Si(e,n)}},{key:"removeReference",value:function(e,t,n){return Si(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Si(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return mi(e).Qt(function(r){return di(e,r,t).next(function(e){return e&&(n=!0),Sr.resolve(!e)})}).next(function(){return n})}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,function(o,s){if(s<=t){var u=n.Ae(e,o).next(function(t){if(!t)return a++,r.getEntry(e,o).next(function(){return r.removeEntry(o),wi(e).delete([0,or(o.path)])})});i.push(u)}}).next(function(){return Sr.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return a})}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Si(e,t)}},{key:"Ie",value:function(e,t){var n,r=wi(e),i=K.I;return r.jt({index:kr.documentTargetsIndex},function(e,r){var a=Object(o.a)(e,2),s=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===s?(i!==K.I&&t(new be(cr(n)),i),i=c,n=u):i=K.I}).next(function(){i!==K.I&&t(new be(cr(n)),i)})}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Si(e,t){return wi(e).put(function(e,t){return new kr(0,or(e.path),t)}(t,e.currentSequenceNumber))}var Ci=function(){function e(t,n){Object(p.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Object(v.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=Object(o.a)(r.value,2),u=a[0],c=a[1];if(this.equalsFn(u,e))return c}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){te(this.inner,function(t,n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=Object(o.a)(r.value,2),u=a[0],c=a[1];e(u,c)}}catch(l){i.e(l)}finally{i.f()}})}},{key:"isEmpty",value:function(){return ne(this.inner)}}]),e}(),Ai=function(){function e(){Object(p.a)(this,e),this.changes=new Ci(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return Object(v.a)(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Z.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:De.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Sr.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ni=function(){function e(t,n){Object(p.a)(this,e),this.k=t,this.Jt=n}return Object(v.a)(e,[{key:"addEntry",value:function(e,t,n){return Di(e).put(Li(t),n)}},{key:"removeEntry",value:function(e,t){var n=Di(e),r=Li(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.Re(e,r)})}},{key:"getEntry",value:function(e,t){var n=this;return Di(e).get(Li(t)).next(function(e){return n.be(t,e)})}},{key:"Pe",value:function(e,t){var n=this;return Di(e).get(Li(t)).next(function(e){return{document:n.be(t,e),size:fi(e)}})}},{key:"getEntries",value:function(e,t){var n=this,r=cn();return this.ve(e,t,function(e,t){var i=n.be(e,t);r=r.insert(e,i)}).next(function(){return r})}},{key:"Ve",value:function(e,t){var n=this,r=cn(),i=new nn(be.comparator);return this.ve(e,t,function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,fi(t))}).next(function(){return{documents:r,Se:i}})}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return Sr.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Di(e).jt({range:r},function(e,t,r){for(var o=be.fromSegments(e);a&&be.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()}).next(function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=cn(),a=t.path.length+1,o={};if(n.isEqual(Z.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Gr(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=yr.collectionReadTimeIndex}return Di(e).jt(o,function(e,n,o){if(e.length===a){var s=Wr(r.k,n);t.path.isPrefixOf(s.key.path)?mt(t,s)&&(i=i.insert(s.key,s)):o.done()}}).next(function(){return i})}},{key:"newChangeBuffer",value:function(e){return new Ri(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next(function(e){return e.byteSize})}},{key:"getMetadata",value:function(e){return Pi(e).get(gr.key).next(function(e){return N(!!e),e})}},{key:"Re",value:function(e,t){return Pi(e).put(gr.key,t)}},{key:"be",value:function(e,t){if(t){var n=Wr(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(Z.min()))return n}return De.newInvalidDocument(e)}}]),e}(),Ri=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Ci(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),i}return Object(v.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new on(function(e,t){return Y(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=Kr(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=fi(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=Kr(t.De.k,De.newNoDocument(a,Z.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))}),i.forEach(function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))}),n.push(this.De.updateMetadata(e,r)),Sr.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next(function(e){return n.Ce.set(t,e.size),e.document})}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next(function(e){var t=e.documents;return e.Se.forEach(function(e,t){n.Ce.set(e,t)}),t})}}]),n}(Ai);function Pi(e){return Vr(e,gr.store)}function Di(e){return Vr(e,yr.store)}function Li(e){return e.path.toArray()}var Mi=function(){function e(t){Object(p.a)(this,e),this.k=t}return Object(v.a)(e,[{key:"Nt",value:function(e,t,n,r){var i=this;N(n<r&&n>=0&&r<=11);var a=new Cr("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(fr.store)}(e),function(e){e.createObjectStore(hr.store,{keyPath:hr.keyPath}),e.createObjectStore(dr.store,{keyPath:dr.keyPath,autoIncrement:!0}).createIndex(dr.userMutationsIndex,dr.userMutationsKeyPath,{unique:!0}),e.createObjectStore(pr.store)}(e),Ui(e),function(e){e.createObjectStore(yr.store)}(e));var o=Sr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(kr.store),e.deleteObjectStore(br.store),e.deleteObjectStore(wr.store)}(e),Ui(e)),o=o.next(function(){return function(e){var t=a.store(wr.store),n=new wr(0,0,Z.min().toTimestamp(),0);return t.put(wr.key,n)}()})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(e,t){return t.store(dr.store).Bt().next(function(n){e.deleteObjectStore(dr.store),e.createObjectStore(dr.store,{keyPath:dr.keyPath,autoIncrement:!0}).createIndex(dr.userMutationsIndex,dr.userMutationsKeyPath,{unique:!0});var r=t.store(dr.store),i=n.map(function(e){return r.put(e)});return Sr.waitFor(i)})}(e,a)})),o=o.next(function(){!function(e){e.createObjectStore(Or.store,{keyPath:Or.keyPath})}(e)})),n<5&&r>=5&&(o=o.next(function(){return i.Ne(a)})),n<6&&r>=6&&(o=o.next(function(){return function(e){e.createObjectStore(gr.store)}(e),i.ke(a)})),n<7&&r>=7&&(o=o.next(function(){return i.xe(a)})),n<8&&r>=8&&(o=o.next(function(){return i.$e(e,a)})),n<9&&r>=9&&(o=o.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(yr.store);t.createIndex(yr.readTimeIndex,yr.readTimeIndexPath,{unique:!1}),t.createIndex(yr.collectionReadTimeIndex,yr.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(o=o.next(function(){return i.Oe(a)})),n<11&&r>=11&&(o=o.next(function(){!function(e){e.createObjectStore(jr.store,{keyPath:jr.keyPath})}(e),function(e){e.createObjectStore(Er.store,{keyPath:Er.keyPath})}(e)})),o}},{key:"ke",value:function(e){var t=0;return e.store(yr.store).jt(function(e,n){t+=fi(n)}).next(function(){var n=new gr(t);return e.store(gr.store).put(gr.key,n)})}},{key:"Ne",value:function(e){var t=this,n=e.store(hr.store),r=e.store(dr.store);return n.Bt().next(function(n){return Sr.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(dr.userMutationsIndex,i).next(function(r){return Sr.forEach(r,function(r){N(r.userId===n.userId);var i=Xr(t.k,r);return li(e,n.userId,i).next(function(){})})})})})}},{key:"xe",value:function(e){var t=e.store(kr.store),n=e.store(yr.store);return e.store(wr.store).get(wr.key).next(function(e){var r=[];return n.jt(function(n,i){var a=new ie(n),o=[0,or(a)];r.push(t.get(o).next(function(n){return n?Sr.resolve():function(n){return t.put(new kr(0,or(n),e.highestListenSequenceNumber))}(a)}))}).next(function(){return Sr.waitFor(r)})})}},{key:"$e",value:function(e,t){e.createObjectStore(_r.store,{keyPath:_r.keyPath});var n=t.store(_r.store),r=new ai,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:or(i)})}};return t.store(yr.store).jt({Kt:!0},function(e,t){var n=new ie(e);return i(n.popLast())}).next(function(){return t.store(pr.store).jt({Kt:!0},function(e,t){var n=Object(o.a)(e,3),r=(n[0],n[1]),a=(n[2],cr(r));return i(a.popLast())})})}},{key:"Oe",value:function(e){var t=this,n=e.store(br.store);return n.jt(function(e,r){var i=Jr(r),a=Zr(t.k,i);return n.put(a)})}}]),e}();function Ui(e){e.createObjectStore(kr.store,{keyPath:kr.keyPath}).createIndex(kr.documentTargetsIndex,kr.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(br.store,{keyPath:br.keyPath}).createIndex(br.queryTargetsIndexName,br.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(wr.store)}var Fi="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Vi=function(){function e(t,n,r,i,a,o,s,u,c,l){if(Object(p.a)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=o,this.document=s,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new L(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ii(this,i),this.Ge=n+"main",this.k=new Hr(u),this.ze=new Ar(this.Ge,11,new Mi(this.k)),this.He=new gi(this.referenceDelegate,this.k),this.Jt=new oi,this.Je=function(e,t){return new Ni(e,t)}(this.k,this.Jt),this.Ye=new ti,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&I("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Object(v.a)(e,[{key:"start",value:function(){var e=this;return this.Ze().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new L(D.FAILED_PRECONDITION,Fi);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.He.getHighestSequenceNumber(t)})}).then(function(t){e.Be=new K(t,e.Fe)}).then(function(){e.Ue=!0}).catch(function(t){return e.ze&&e.ze.close(),Promise.reject(t)})}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Object(l.a)(c.a.mark(function n(r){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Object(l.a)(c.a.mark(function t(n){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}},e)}))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return qi(t).put(new Or(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.rn(t).next(function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable(function(){return e.We(!1)}))})}).next(function(){return e.on(t)}).next(function(n){return e.isPrimary&&!n?e.cn(t).next(function(){return!1}):!!n&&e.an(t).next(function(){return!0})})}).catch(function(t){if(Pr(t))return T("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return T("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Me.enqueueRetryable(function(){return e.We(t)}),e.isPrimary=t})}},{key:"rn",value:function(e){var t=this;return Bi(e).get(fr.key).next(function(e){return Sr.resolve(t.un(e))})}},{key:"hn",value:function(e){return qi(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,n,r,i,a=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=Vr(e,Or.store);return t.Bt().next(function(e){var n=a.dn(e,18e5),r=e.filter(function(e){return-1===n.indexOf(e)});return Sr.forEach(r,function(e){return t.delete(e.clientId)}).next(function(){return r})})}).catch(function(){return[]});case 4:if(t=e.sent,this.Xe){n=Object(s.a)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.Ze().then(function(){return e.ln()}).then(function(){return e.nn()})})}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?Sr.resolve(!0):Bi(e).get(fr.key).next(function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new L(D.FAILED_PRECONDITION,Fi);return!1}}return!(!t.networkEnabled||!t.inForeground)||qi(e).Bt().next(function(e){return void 0===t.dn(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&T("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e})}},{key:"shutdown",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[fr.store,Or.store],function(e){var n=new Fr(e,K.I);return t.cn(n).next(function(){return t.hn(n)})});case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter(function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)})}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return qi(t).Bt().next(function(t){return e.dn(t,18e5).map(function(e){return e.clientId})})})}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return hi.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;T("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,xr,function(a){return i=new Fr(a,r.Be?r.Be.next():K.I),"readwrite-primary"===t?r.rn(i).next(function(e){return!!e||r.on(i)}).next(function(t){if(!t)throw I("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable(function(){return r.We(!1)}),new L(D.FAILED_PRECONDITION,Tr);return n(i)}).next(function(e){return r.an(i).next(function(){return e})}):r.En(i).next(function(){return n(i)})}).then(function(e){return i.raiseOnCommittedEvent(),e})}},{key:"En",value:function(e){var t=this;return Bi(e).get(fr.key).next(function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new L(D.FAILED_PRECONDITION,Fi)})}},{key:"an",value:function(e){var t=new fr(this.clientId,this.allowTabSynchronization,Date.now());return Bi(e).put(fr.key,t)}},{key:"cn",value:function(e){var t=this,n=Bi(e);return n.get(fr.key).next(function(e){return t.un(e)?(T("IndexedDbPersistence","Releasing primary lease."),n.delete(fr.key)):Sr.resolve()})}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(I("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()})},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),Object(b.v)()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return T("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return I("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){I("Failed to set zombie client id.",e)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return Ar.Pt()}}]),e}();function Bi(e){return Vr(e,fr.store)}function qi(e){return Vr(e,Or.store)}function zi(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Hi=Object(v.a)(function e(t,n){Object(p.a)(this,e),this.progress=t,this.In=n}),Wi=function(){function e(t,n,r){Object(p.a)(this,e),this.Je=t,this.An=n,this.Jt=r}return Object(v.a)(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.bn(e,t,r)})}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next(function(e){var t,r=Object(s.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e})}},{key:"Pn",value:function(e,t){e.forEach(function(e,n){var r,i=Object(s.a)(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}})}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next(function(t){return n.Vn(e,t).next(function(){return t})})}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.Pn(t,e)})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return be.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):ct(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new be(t)).next(function(e){var t=fn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=fn();return this.Jt.getCollectionParents(e,i).next(function(o){return Sr.forEach(o,function(o){var s=function(e,t){return new nt(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next(function(e){e.forEach(function(e,t){a=a.insert(e,t)})})}).next(function(){return a})})}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next(function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return i=t,a.Nn(e,i,r).next(function(e){r=e;var t,n=Object(s.a)(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=Object(s.a)(o.mutations);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=c.key,f=r.get(l);null==f&&(f=De.newInvalidDocument(l),r=r.insert(l,f)),Vt(c,f,o.localWriteTime),f.isFoundDocument()||(r=r.remove(l))}}catch(h){u.e(h)}finally{u.f()}}}catch(h){n.e(h)}finally{n.f()}})}).next(function(){return r.forEach(function(e,n){mt(t,n)||(r=r.remove(e))}),r})}},{key:"Nn",value:function(e,t,n){var r,i=vn(),a=Object(s.a)(t);try{for(a.s();!(r=a.n()).done;){var o,u=r.value,c=Object(s.a)(u.mutations);try{for(c.s();!(o=c.n()).done;){var l=o.value;l instanceof Wt&&null===n.get(l.key)&&(i=i.add(l.key))}}catch(h){c.e(h)}finally{c.f()}}}catch(h){a.e(h)}finally{a.f()}var f=n;return this.Je.getEntries(e,i).next(function(e){return e.forEach(function(e,t){t.isFoundDocument()&&(f=f.insert(e,t))}),f})}}]),e}(),Ki=function(){function e(t,n,r,i){Object(p.a)(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Object(v.a)(e,null,[{key:"$n",value:function(t,n){var r,i=vn(),a=vn(),o=Object(s.a)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(c){o.e(c)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Gi=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Z.min())?this.Fn(e,t):this.Mn.vn(e,r).next(function(a){var o=i.Ln(t,a);return(at(t)||ot(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(E()<=g.a.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),vt(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next(function(e){return o.forEach(function(t){e=e.insert(t.key,t)}),e}))})}},{key:"Ln",value:function(e,t){var n=new on(yt(e));return t.forEach(function(t,r){mt(e,r)&&(n=n.add(r))}),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return E()<=g.a.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",vt(t)),this.Mn.getDocumentsMatchingQuery(e,t,Z.min())}}]),e}(),Qi=function(){function e(t,n,r,i){Object(p.a)(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new nn(Y),this.Kn=new Ci(function(e){return Ue(e)},Fe),this.jn=Z.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Wi(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return Object(v.a)(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.qn)})}}]),e}();function Yi(e,t,n,r){return new Qi(e,t,n,r)}function $i(e,t){return Xi.apply(this,arguments)}function Xi(){return(Xi=Object(l.a)(c.a.mark(function e(t,n){var r,i,a,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",function(e){var t;return r.An.getAllMutationBatches(e).next(function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Wi(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)}).next(function(n){var r,i=[],o=[],u=vn(),c=Object(s.a)(t);try{for(c.s();!(r=c.n()).done;){var l=r.value;i.push(l.batchId);var f,h=Object(s.a)(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;u=u.add(d.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){c.e(k)}finally{c.f()}var p,v=Object(s.a)(n);try{for(v.s();!(p=v.n()).done;){var m=p.value;o.push(m.batchId);var y,g=Object(s.a)(m.mutations);try{for(g.s();!(y=g.n()).done;){var b=y.value;u=u.add(b.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){v.e(k)}finally{v.f()}return a.vn(e,u).next(function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}})})});case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ji(e,t){var n=P(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Sr.resolve();return a.forEach(function(e){o=o.next(function(){return r.getEntry(t,e)}).next(function(t){var a=n.docVersions.get(e);N(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(function(){return e.An.removeMutationBatch(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n.An.performConsistencyCheck(e)}).next(function(){return n.Wn.vn(e,r)})})}function Zi(e){var t=P(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.He.getLastRemoteSnapshotVersion(e)})}function ea(e,t){var n=P(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach(function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next(function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)}));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(ce.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}});var s=cn();if(t.documentUpdates.forEach(function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(ta(e,a,t.documentUpdates,r,void 0).next(function(e){s=e})),!r.isEqual(Z.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next(function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)});o.push(u)}return Sr.waitFor(o).next(function(){return a.apply(e)}).next(function(){return n.Wn.Vn(e,s)}).next(function(){return s})}).then(function(e){return n.qn=i,e})}function ta(e,t,n,r,i){var a=vn();return n.forEach(function(e){return a=a.add(e)}),t.getEntries(e,a).next(function(e){var a=cn();return n.forEach(function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Z.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):T("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),a})}function na(e,t){var n=P(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)})}function ra(e,t){var n=P(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.He.getTargetData(e,t).next(function(i){return i?(r=i,Sr.resolve(r)):n.He.allocateTargetId(e).next(function(i){return r=new zr(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e})}function ia(e,t,n){return aa.apply(this,arguments)}function aa(){return(aa=Object(l.a)(c.a.mark(function e(t,n,r){var i,a,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=P(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,function(e){return i.persistence.referenceDelegate.removeTarget(e,a)});case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Pr(e.t1)){e.next=12;break}throw e.t1;case 12:T("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function oa(e,t,n){var r=P(e),i=Z.min(),a=vn();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=P(e),i=r.Kn.get(n);return void 0!==i?Sr.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,ft(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next(function(e){a=e})}).next(function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Z.min(),n?a:vn())}).next(function(e){return{documents:e,zn:a}})})}function sa(e,t){var n=P(e),r=P(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.Et(e,t).next(function(e){return e?e.target:null})})}function ua(e){var t=P(e);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return function(e,t,n){var r=P(e),i=cn(),a=Gr(n),o=Di(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:yr.readTimeIndex,range:s},function(e,t){var n=Wr(r.k,t);i=i.insert(n.key,n),a=t.readTime}).next(function(){return{In:i,readTime:Qr(a)}})}(t.Qn,e,t.jn)}).then(function(e){var n=e.In,r=e.readTime;return t.jn=r,n})}function ca(e){return la.apply(this,arguments)}function la(){return(la=Object(l.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=P(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",function(e){return function(e){var t=Di(e),n=Z.min();return t.jt({index:yr.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=Qr(t.readTime)),r.done()}).next(function(){return n})}(e)}).then(function(e){n.jn=e}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fa(e,t,n,r){return ha.apply(this,arguments)}function ha(){return(ha=Object(l.a)(c.a.mark(function e(t,n,r,i){var a,o,u,l,f,h,d,p,v,m;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=P(t),o=vn(),u=cn(),l=dn(),f=Object(s.a)(r);try{for(f.s();!(h=f.n()).done;)d=h.value,p=n.Hn(d.metadata.name),d.document&&(o=o.add(p)),u=u.insert(p,n.Jn(d)),l=l.insert(p,n.Yn(d.metadata.readTime))}catch(c){f.e(c)}finally{f.f()}return v=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,ra(a,function(e){return ft(it(ie.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return m=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return ta(e,v,u,Z.min(),l).next(function(t){return v.apply(e),t}).next(function(t){return a.He.removeMatchingKeysForTargetId(e,m.targetId).next(function(){return a.He.addMatchingKeys(e,o,m.targetId)}).next(function(){return a.Wn.Vn(e,t)}).next(function(){return t})})}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function da(e,t){return pa.apply(this,arguments)}function pa(){return(pa=Object(l.a)(c.a.mark(function e(t,n){var r,i,a,o=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:vn(),e.next=3,ra(t,ft(ei(n.bundledQuery)));case 3:return i=e.sent,a=P(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",function(e){var t=Rn(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(ce.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next(function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)}).next(function(){return a.He.addMatchingKeys(e,r,i.targetId)}).next(function(){return a.Ye.saveNamedQuery(e,n)})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var va=function(){function e(t){Object(p.a)(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Object(v.a)(e,[{key:"getBundleMetadata",value:function(e,t){return Sr.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Rn(n.createTime)}),Sr.resolve()}},{key:"getNamedQuery",value:function(e,t){return Sr.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:ei(e.bundledQuery),readTime:Rn(e.readTime)}}(t)),Sr.resolve()}}]),e}(),ma=function(){function e(){Object(p.a)(this,e),this.ts=new on(ya.es),this.ns=new on(ya.ss)}return Object(v.a)(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ya(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})}},{key:"removeReference",value:function(e,t){this.os(new ya(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})}},{key:"us",value:function(e){var t=this,n=new be(new ie([])),r=new ya(n,e),i=new ya(n,e+1),a=[];return this.ns.forEachInRange([r,i],function(e){t.os(e),a.push(e.key)}),a}},{key:"hs",value:function(){var e=this;this.ts.forEach(function(t){return e.os(t)})}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new be(new ie([])),n=new ya(t,e),r=new ya(t,e+1),i=vn();return this.ns.forEachInRange([n,r],function(e){i=i.add(e.key)}),i}},{key:"containsKey",value:function(e){var t=new ya(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ya=function(){function e(t,n){Object(p.a)(this,e),this.key=t,this.fs=n}return Object(v.a)(e,null,[{key:"es",value:function(e,t){return be.comparator(e.key,t.key)||Y(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Y(e.fs,t.fs)||be.comparator(e.key,t.key)}}]),e}(),ga=function(){function e(t,n){Object(p.a)(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new on(ya.es)}return Object(v.a)(e,[{key:"checkEmpty",value:function(e){return Sr.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Br(i,t,n,r);this.An.push(a);var o,u=Object(s.a)(r);try{for(u.s();!(o=u.n()).done;){var c=o.value;this.ws=this.ws.add(new ya(c.key,i)),this.Jt.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return Sr.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Sr.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Sr.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Sr.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Sr.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ya(t,0),i=new ya(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],function(e){var t=n._s(e.fs);a.push(t)}),Sr.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new on(Y);return t.forEach(function(e){var t=new ya(e,0),i=new ya(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],function(e){r=r.add(e.fs)})}),Sr.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;be.isDocumentKey(i)||(i=i.child(""));var a=new ya(new be(i),0),o=new on(Y);return this.ws.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)},a),Sr.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach(function(e){var r=t._s(e);null!==r&&n.push(r)}),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;N(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Sr.forEach(t.mutations,function(i){var a=new ya(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.ws=r})}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ya(t,0),r=this.ws.firstAfterOrEqual(n);return Sr.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Sr.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),ba=function(){function e(t,n){Object(p.a)(this,e),this.Jt=t,this.Ts=n,this.docs=new nn(be.comparator),this.size=0}return Object(v.a)(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Sr.resolve(n?n.document.mutableCopy():De.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=cn();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():De.newInvalidDocument(e))}),Sr.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=cn(),i=new be(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||mt(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return Sr.resolve(r)}},{key:"Es",value:function(e,t){return Sr.forEach(this.docs,function(e){return t(e)})}},{key:"newChangeBuffer",value:function(e){return new ka(this)}},{key:"getSize",value:function(e){return Sr.resolve(this.size)}}]),e}(),ka=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).De=e,r}return Object(v.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)}),Sr.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(Ai),wa=function(){function e(t){Object(p.a)(this,e),this.persistence=t,this.Is=new Ci(function(e){return Ue(e)},Fe),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.As=0,this.Rs=new ma,this.targetCount=0,this.bs=yi.ie()}return Object(v.a)(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach(function(e,n){return t(n)}),Sr.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Sr.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Sr.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),Sr.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Sr.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new yi(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,Sr.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),Sr.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Sr.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach(function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Sr.waitFor(a).next(function(){return i})}},{key:"getTargetCount",value:function(e){return Sr.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Sr.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Sr.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),Sr.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Sr.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Sr.resolve(n)}},{key:"containsKey",value:function(e,t){return Sr.resolve(this.Rs.containsKey(t))}}]),e}(),_a=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.Ps={},this.Be=new K(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new wa(this),this.Jt=new ii,this.Je=function(e,t){return new ba(e,function(e){return r.referenceDelegate.vs(e)})}(this.Jt),this.k=new Hr(n),this.Ye=new va(this.k)}return Object(v.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new ga(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;T("MemoryPersistence","Starting transaction:",e);var i=new Oa(this.Be.next());return this.referenceDelegate.Vs(),n(i).next(function(e){return r.referenceDelegate.Ss(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})}},{key:"Ds",value:function(e,t){return Sr.or(Object.values(this.Ps).map(function(n){return function(){return n.containsKey(e,t)}}))}}]),e}(),Oa=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Object(v.a)(n)}(Ir),ja=function(){function e(t){Object(p.a)(this,e),this.persistence=t,this.Cs=new ma,this.Ns=null}return Object(v.a)(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw A()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Sr.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Sr.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Sr.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach(function(e){return n.xs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.xs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Sr.forEach(this.xs,function(r){var i=be.fromPath(r);return t.$s(e,i).next(function(e){e||n.removeEntry(i)})}).next(function(){return t.Ns=null,n.apply(e)})}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next(function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())})}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Sr.or([function(){return Sr.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Ea(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function xa(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ta(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ia=function(){function e(t,n,r,i){Object(p.a)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Object(v.a)(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new L(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(I("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Sa=function(){function e(t,n,r){Object(p.a)(this,e),this.targetId=t,this.state=n,this.error=r}return Object(v.a)(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new L(i.error.code,i.error.message))),a?new e(t,i.state,r):(I("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ca=function(){function e(t,n){Object(p.a)(this,e),this.clientId=t,this.activeTargetIds=n}return Object(v.a)(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=yn(),o=0;i&&o<r.activeTargetIds.length;++o)i=ge(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(I("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Aa=function(){function e(t,n){Object(p.a)(this,e),this.clientId=t,this.onlineState=n}return Object(v.a)(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(I("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Na=function(){function e(){Object(p.a)(this,e),this.activeTargetIds=yn()}return Object(v.a)(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Ra=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new nn(Y),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Ea(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Na),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Object(v.a)(e,[{key:"start",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,n,r,i,a,o,u,l,f,h,d,p=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=Object(s.a)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Ea(this.persistenceKey,i)))&&(o=Ca.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(u=this.storage.getItem(this.Js))&&(l=this.Zs(u))&&this.ti(l),f=Object(s.a)(this.js);try{for(f.s();!(h=f.n()).done;)d=h.value,this.qs(d)}catch(c){f.e(c)}finally{f.f()}this.js=[],this.window.addEventListener("pagehide",function(){return p.shutdown()}),this.started=!0;case 28:case"end":return e.stop()}},e,this,[[4,16,19,22]])}));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ta(this.persistenceKey,e));if(n){var r=Sa.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Ta(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach(function(e){r.si(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return T("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){T("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){T("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(T("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void I("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(Object(l.a)(c.a.mark(function e(){var r,i,a,o,s,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}(u=function(e){var t=K.I;if(null!=e)try{var n=JSON.parse(e);N("number"==typeof n),t=n}catch(e){I("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==K.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}},e)})))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new Ia(this.currentUser,e,t,n),i=xa(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=xa(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Ta(this.persistenceKey,e),i=new Sa(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return Ca.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ia.Os(new _(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return Sa.Os(r,t)}},{key:"Zs",value:function(e){return Aa.Os(e)}},{key:"fi",value:function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:T("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach(function(e){i.has(e)||o.push(e)}),i.forEach(function(e){a.has(e)||s.push(e)}),this.syncEngine.yi(o,s).then(function(){n.Ks=r})}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=yn();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Pa=function(){function e(){Object(p.a)(this,e),this.pi=new Na,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(v.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Na,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Da=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),La=function(){function e(){var t=this;Object(p.a)(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return Object(v.a)(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Object(s.a)(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Object(s.a)(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ma={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ua=function(){function e(t){Object(p.a)(this,e),this.Vi=t.Vi,this.Si=t.Si}return Object(v.a)(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),Fa=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Object(v.a)(n,[{key:"Ki",value:function(e,t,n,r){return new Promise(function(i,a){var o=new k.g;o.listenOnce(k.c.COMPLETE,function(){try{switch(o.getLastErrorCode()){case k.a.NO_ERROR:var t=o.getResponseJson();T("Connection","XHR received:",JSON.stringify(t)),i(t);break;case k.a.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),a(new L(D.DEADLINE_EXCEEDED,"Request time out"));break;case k.a.HTTP_ERROR:var n=o.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=r.status.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(t)>=0?t:D.UNKNOWN}();a(new L(s,r.message))}else a(new L(D.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new L(D.UNAVAILABLE,"Connection failed."));break;default:A()}}finally{T("Connection",'RPC "'+e+'" completed.')}});var s=JSON.stringify(r);o.send(t,"POST",s,n,15)})}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Object(k.h)(),a=Object(k.i)(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new k.d({})),this.qi(o.initMessageHeaders,t,n),Object(b.s)()||Object(b.u)()||Object(b.o)()||Object(b.q)()||Object(b.w)()||Object(b.n)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");T("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Ua({Vi:function(e){l?T("Connection","Not sending because WebChannel is closed:",e):(c||(T("Connection","Opening WebChannel transport."),u.open(),c=!0),T("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return h(u,k.f.EventType.OPEN,function(){l||T("Connection","WebChannel transport opened.")}),h(u,k.f.EventType.CLOSE,function(){l||(l=!0,T("Connection","WebChannel transport closed"),f.Oi())}),h(u,k.f.EventType.ERROR,function(e){l||(l=!0,S("Connection","WebChannel transport errored:",e),f.Oi(new L(D.UNAVAILABLE,"The operation could not be completed")))}),h(u,k.f.EventType.MESSAGE,function(e){var t;if(!l){var n=e.data[0];N(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){T("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Yt[a];if(void 0!==t)return tn(t)}(),s=i.message;void 0===o&&(o=D.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new L(o,s)),u.close()}else T("Connection","WebChannel received:",n),f.Mi(n)}}),h(a,k.b.STAT_EVENT,function(e){e.stat===k.e.PROXY?T("Connection","Detected buffering proxy"):e.stat===k.e.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(function(){f.$i()},0),f}}]),n}(function(){function e(t){Object(p.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(v.a)(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);T("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then(function(e){return T("RestConnection","Received: ",e),e},function(t){throw S("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t})}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+O,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(function(t,n){return e[n]=t}),n&&n.headers.forEach(function(t,n){return e[n]=t})}},{key:"Ui",value:function(e,t){var n=Ma[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function Va(){return"undefined"!=typeof window?window:null}function Ba(){return"undefined"!=typeof document?document:null}function qa(e){return new Sn(e,!0)}var za=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(p.a)(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Object(v.a)(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,function(){return t.Yi=Date.now(),e()}),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Ha=function(){function e(t,n,r,i,a,o,s,u){Object(p.a)(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new za(t,n)}return Object(v.a)(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,function(){return e.mr()}))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=Object(l.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(I(n.toString()),I("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===D.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(function(t){var r=Object(o.a)(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)},function(n){t(function(){var t=new L(D.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)})})}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(function(){r(function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,function(){return n.lr()&&(n.state=3),Promise.resolve()}),n.listener.Di()})}),this.stream.Ni(function(e){r(function(){return n.Ar(e)})}),this.stream.onMessage(function(e){r(function(){return n.onMessage(e)})})}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Object(l.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}},t)})))}},{key:"Ar",value:function(e){return T("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget(function(){return t.rr===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}}}]),e}(),Wa=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o,s){var u;return Object(p.a)(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return Object(v.a)(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:A()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(N(void 0===t||"string"==typeof t),ce.fromBase64String(t||"")):(N(void 0===t||t instanceof Uint8Array),ce.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?D.UNKNOWN:tn(e.code);return new L(t,e.message||"")}(o);n=new _n(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Mn(e,u.document.name),l=Rn(u.document.updateTime),f=new Re({mapValue:{fields:u.document.fields}}),h=De.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new kn(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Mn(e,v.document),y=v.readTime?Rn(v.readTime):Z.min(),g=De.newNoDocument(m,y),b=v.removedTargetIds||[];n=new kn([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=Mn(e,k.document),_=k.removedTargetIds||[];n=new kn([],_,w,null)}else{if(!("filter"in t))return A();t.filter;var O=t.filter;O.targetId;var j=O.count||0,E=new Zt(j),x=O.targetId;n=new wn(x,E)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Z.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Z.min():t.readTime?Rn(t.readTime):Z.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=Vn(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Ve(r)?{documents:Gn(e,r)}:{query:Qn(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=An(e,t.resumeToken):t.snapshotVersion.compareTo(Z.min())>0&&(n.readTime=Cn(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return A()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Vn(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Ha),Ka=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o,s){var u;return Object(p.a)(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return Object(v.a)(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Object(i.a)(Object(a.a)(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(N(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(N(void 0!==t),e.map(function(e){return function(e,t){var n=e.updateTime?Rn(e.updateTime):Rn(t);return n.isEqual(Z.min())&&(n=Rn(t)),new Dt(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=Rn(e.commitTime);return this.listener.Cr(n,t)}return N(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Vn(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return Wn(t.k,e)})};this.gr(n)}}]),n}(Ha),Ga=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a){var o;return Object(p.a)(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Object(v.a)(n,[{key:"Or",value:function(){if(this.$r)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(i){var a=Object(o.a)(i,2),s=a[0],u=a[1];return r.ir.Bi(e,t,n,s,u)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new L(D.UNKNOWN,e.toString())})}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(i){var a=Object(o.a)(i,2),s=a[0],u=a[1];return r.ir.ji(e,t,n,s,u)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new L(D.UNKNOWN,e.toString())})}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Object(v.a)(function e(){Object(p.a)(this,e)})}()),Qa=function(){function e(t,n){Object(p.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return Object(v.a)(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()}))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(I(t),this.Lr=!1):T("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),Ya=Object(v.a)(function e(t,n,r,i,a){var o=this;Object(p.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei(function(e){r.enqueueAndForget(Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=oo(o),!e.t0){e.next=5;break}return T("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(l.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=P(t)).Gr.add(4),e.next=4,Ja(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,$a(n);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}},e)})))}),this.Jr=new Qa(r,i)});function $a(e){return Xa.apply(this,arguments)}function Xa(){return(Xa=Object(l.a)(c.a.mark(function e(t){var n,r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!oo(t)){e.next=18;break}n=Object(s.a)(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}))).apply(this,arguments)}function Ja(e){return Za.apply(this,arguments)}function Za(){return(Za=Object(l.a)(c.a.mark(function e(t){var n,r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(s.a)(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}))).apply(this,arguments)}function eo(e,t){var n=P(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),ao(n)?io(n):Lo(n).lr()&&no(n,t))}function to(e,t){var n=P(e),r=Lo(n);n.Wr.delete(t),r.lr()&&ro(n,t),0===n.Wr.size&&(r.lr()?r._r():oo(n)&&n.Jr.set("Unknown"))}function no(e,t){e.Yr.X(t.targetId),Lo(e).Pr(t)}function ro(e,t){e.Yr.X(t),Lo(e).vr(t)}function io(e){e.Yr=new jn({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),Lo(e).start(),e.Jr.Br()}function ao(e){return oo(e)&&!Lo(e).hr()&&e.Wr.size>0}function oo(e){return 0===P(e).Gr.size}function so(e){e.Yr=void 0}function uo(e){return co.apply(this,arguments)}function co(){return(co=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach(function(e,n){no(t,e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lo(e,t){return fo.apply(this,arguments)}function fo(){return(fo=Object(l.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:so(t),ao(t)?(t.Jr.Kr(n),io(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ho(e,t,n){return po.apply(this,arguments)}function po(){return(po=Object(l.a)(c.a.mark(function e(t,n,r){var i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof _n&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(l.a)(c.a.mark(function e(t,n){var r,i,a,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Object(s.a)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[2,16,19,22]])}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),T("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,vo(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof kn?t.Yr.ot(n):n instanceof wn?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Z.min())){e.next=29;break}return e.prev=14,e.next=17,Zi(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(ce.EMPTY_BYTE_STRING,n.snapshotVersion)),ro(e,t);var r=new zr(n.target,t,1,n.sequenceNumber);no(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),T("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,vo(t,e.t2);case 29:case"end":return e.stop()}},e,null,[[1,6],[14,24]])}))).apply(this,arguments)}function vo(e,t,n){return mo.apply(this,arguments)}function mo(){return(mo=Object(l.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Ja(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Zi(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,$a(t);case 6:case"end":return e.stop()}},e)})));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yo(e,t){return t().catch(function(n){return vo(e,n,t)})}function go(e){return bo.apply(this,arguments)}function bo(){return(bo=Object(l.a)(c.a.mark(function e(t){var n,r,i,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=P(t),r=Mo(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!ko(n)){e.next=19;break}return e.prev=3,e.next=6,na(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,wo(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,vo(n,e.t0);case 17:e.next=2;break;case 19:_o(n)&&Oo(n);case 20:case"end":return e.stop()}},e,null,[[3,13]])}))).apply(this,arguments)}function ko(e){return oo(e)&&e.Qr.length<10}function wo(e,t){e.Qr.push(t);var n=Mo(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function _o(e){return oo(e)&&!Mo(e).hr()&&e.Qr.length>0}function Oo(e){Mo(e).start()}function jo(e){return Eo.apply(this,arguments)}function Eo(){return(Eo=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Mo(t).kr();case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xo(e){return To.apply(this,arguments)}function To(){return(To=Object(l.a)(c.a.mark(function e(t){var n,r,i,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Mo(t),r=Object(s.a)(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Io(e,t,n){return So.apply(this,arguments)}function So(){return(So=Object(l.a)(c.a.mark(function e(t,n,r){var i,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=qr.from(i,n,r),e.next=3,yo(t,function(){return t.remoteSyncer.applySuccessfulWrite(a)});case 3:return e.next=5,go(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Co(e,t){return Ao.apply(this,arguments)}function Ao(){return(Ao=Object(l.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Mo(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Object(l.a)(c.a.mark(function e(t,n){var r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!en(i=n.code)||i===D.ABORTED){e.next=7;break}return r=t.Qr.shift(),Mo(t).wr(),e.next=5,yo(t,function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)});case 5:return e.next=7,go(t);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:_o(t)&&Oo(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function No(e,t){return Ro.apply(this,arguments)}function Ro(){return(Ro=Object(l.a)(c.a.mark(function e(t,n){var r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=P(t)).asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials"),i=oo(r),r.Gr.add(3),e.next=6,Ja(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,$a(r);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Po(e,t){return Do.apply(this,arguments)}function Do(){return(Do=Object(l.a)(c.a.mark(function e(t,n){var r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,$a(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Ja(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Lo(e){return e.Xr||(e.Xr=function(e,t,n){var r=P(e);return r.Or(),new Wa(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:uo.bind(null,e),Ni:lo.bind(null,e),br:ho.bind(null,e)}),e.zr.push(function(){var t=Object(l.a)(c.a.mark(function t(n){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),ao(e)?io(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:so(e);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.Xr}function Mo(e){return e.Zr||(e.Zr=function(e,t,n){var r=P(e);return r.Or(),new Ka(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:jo.bind(null,e),Ni:Co.bind(null,e),Nr:xo.bind(null,e),Cr:Io.bind(null,e)}),e.zr.push(function(){var t=Object(l.a)(c.a.mark(function t(n){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,go(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(T("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.Zr}var Uo=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new M,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return Object(v.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)})}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Fo(e,t){if(I("AsyncQueue","".concat(t,": ").concat(e)),Pr(e))return new L(D.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Vo=function(){function e(t){Object(p.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||be.comparator(e.key,n.key)}:function(e,t){return be.comparator(e.key,t.key)},this.keyedMap=fn(),this.sortedSet=new nn(this.comparator)}return Object(v.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Bo=function(){function e(){Object(p.a)(this,e),this.eo=new nn(be.comparator)}return Object(v.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):A():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal(function(t,n){e.push(n)}),e}}]),e}(),qo=function(){function e(t,n,r,i,a,o,s,u){Object(p.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Object(v.a)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach(function(e){a.push({type:0,doc:e})}),new e(t,n,Vo.emptySet(n),a,r,i,!0,!1)}}]),e}(),zo=Object(v.a)(function e(){Object(p.a)(this,e),this.so=void 0,this.listeners=[]}),Ho=Object(v.a)(function e(){Object(p.a)(this,e),this.queries=new Ci(function(e){return pt(e)},dt),this.onlineState="Unknown",this.io=new Set});function Wo(e,t){return Ko.apply(this,arguments)}function Ko(){return(Ko=Object(l.a)(c.a.mark(function e(t,n){var r,i,a,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new zo),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Fo(e.t0,"Initialization of query '".concat(vt(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Yo(r);case 14:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function Go(e,t){return Qo.apply(this,arguments)}function Qo(){return(Qo=Object(l.a)(c.a.mark(function e(t,n){var r,i,a,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yo(e){e.io.forEach(function(e){e.next()})}var $o=function(){function e(t,n,r){Object(p.a)(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Object(v.a)(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Object(s.a)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new qo(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),Xo=function(){function e(t,n){Object(p.a)(this,e),this.payload=t,this.byteLength=n}return Object(v.a)(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),Jo=function(){function e(t){Object(p.a)(this,e),this.k=t}return Object(v.a)(e,[{key:"Hn",value:function(e){return Mn(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?zn(this.k,e.document,!1):De.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Rn(e)}}]),e}(),Zo=function(){function e(t,n,r){Object(p.a)(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=es(t)}return Object(v.a)(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new Jo(this.k),i=Object(s.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hn(a.metadata.name),c=Object(s.a)(a.metadata.queries);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=(n.get(l)||vn()).add(u);n.set(l,f)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,n,r,i,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa(this.localStore,new Jo(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=Object(s.a)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,da(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Hi(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}},e,this,[[5,15,18,21]])}));return function(){return e.apply(this,arguments)}}()}]),e}();function es(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ts=Object(v.a)(function e(t){Object(p.a)(this,e),this.key=t}),ns=Object(v.a)(function e(t){Object(p.a)(this,e),this.key=t}),rs=function(){function e(t,n){Object(p.a)(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=vn(),this.mutatedKeys=vn(),this.Ao=yt(t),this.Ro=new Vo(this.Ao)}return Object(v.a)(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new Bo,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=at(this.query)&&i.size===this.query.limit?i.last():null,c=ot(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),f=mt(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))}),at(this.query)||ot(this.query))for(;o.size>this.query.limit;){var l=at(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return A()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)}),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new qo(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Bo,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.To=t.To.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.To=t.To.delete(e)}),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=vn(),this.Ro.forEach(function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))});var n=[];return t.forEach(function(t){e.Io.has(t)||n.push(new ns(t))}),this.Io.forEach(function(e){t.has(e)||n.push(new ts(e))}),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=vn();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return qo.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),is=Object(v.a)(function e(t,n,r){Object(p.a)(this,e),this.query=t,this.targetId=n,this.view=r}),as=Object(v.a)(function e(t){Object(p.a)(this,e),this.key=t,this.$o=!1}),os=function(){function e(t,n,r,i,a,o){Object(p.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new Ci(function(e){return pt(e)},dt),this.Fo=new Map,this.Lo=new Set,this.Bo=new nn(be.comparator),this.Uo=new Map,this.qo=new ma,this.Ko={},this.jo=new Map,this.Qo=yi.re(),this.onlineState="Unknown",this.Wo=void 0}return Object(v.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function ss(e,t){return us.apply(this,arguments)}function us(){return(us=Object(l.a)(c.a.mark(function e(t,n){var r,i,a,o,s,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$s(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,ra(r.localStore,ft(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,cs(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&eo(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cs(e,t,n,r){return ls.apply(this,arguments)}function ls(){return(ls=Object(l.a)(c.a.mark(function e(t,n,r,i){var a,o,s,u,f,h;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Object(l.a)(c.a.mark(function e(t,n,r,i){var a,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,oa(t.localStore,n.query,!1).then(function(e){var t=e.documents;return n.view.Po(t,a)});case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Ts(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}},e)}));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,oa(t.localStore,n,!0);case 3:return a=e.sent,o=new rs(n,a.zn),s=o.Po(a.documents),u=bn.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),f=o.applyChanges(s,t.isPrimaryClient,u),Ts(t,r,f.Co),h=new is(n,r,o),e.abrupt("return",(t.Mo.set(n,h),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),f.snapshot));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fs(e,t){return hs.apply(this,arguments)}function hs(){return(hs=Object(l.a)(c.a.mark(function e(t,n){var r,i,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter(function(e){return!dt(e,n)})),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ia(r.localStore,i.targetId,!1).then(function(){r.sharedClientState.clearQueryState(i.targetId),to(r.remoteStore,i.targetId),Es(r,i.targetId)}).catch(_i);case 9:e.next=14;break;case 11:return Es(r,i.targetId),e.next=14,ia(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ds(e,t,n){return ps.apply(this,arguments)}function ps(){return(ps=Object(l.a)(c.a.mark(function e(t,n,r){var i,a,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xs(t),e.prev=1,e.next=4,function(e,t){var n,r=P(e),i=J.now(),a=t.reduce(function(e,t){return e.add(t.key)},vn());return r.persistence.runTransaction("Locally write mutations","readwrite",function(e){return r.Wn.vn(e,a).next(function(a){n=a;var o,u=[],c=Object(s.a)(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=Bt(l,n.get(l.key));null!=f&&u.push(new Wt(l.key,f,Pe(f.value.mapValue),Lt.exists(!0)))}}catch(h){c.e(h)}finally{c.f()}return r.An.addMutationBatch(e,i,u,t)})}).then(function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}})}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new nn(Y)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Cs(i,a.changes);case 9:return e.next=11,go(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Fo(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}},e,null,[[1,13]])}))).apply(this,arguments)}function vs(e,t){return ms.apply(this,arguments)}function ms(){return(ms=Object(l.a)(c.a.mark(function e(t,n){var r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.prev=1,e.next=4,ea(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach(function(e,t){var n=r.Uo.get(t);n&&(N(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?N(n.$o):e.removedDocuments.size>0&&(N(n.$o),n.$o=!1))}),e.next=8,Cs(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,_i(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function ys(e,t,n){var r=P(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach(function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=P(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){var i,a=Object(s.a)(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}}),r&&Yo(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function gs(){return(gs=Object(l.a)(c.a.mark(function e(t,n,r){var i,a,o,s,u,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=P(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new nn(be.comparator)).insert(o,De.newNoDocument(o,Z.min())),u=vn().add(o),l=new gn(Z.min(),new Map,new on(Y),s,u),e.next=9,vs(i,l);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),Ss(i),e.next=16;break;case 14:return e.next=16,ia(i.localStore,n,!1).then(function(){return Es(i,n,r)}).catch(_i);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bs(){return(bs=Object(l.a)(c.a.mark(function e(t,n){var r,i,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),i=n.batch.batchId,e.prev=1,e.next=4,Ji(r.localStore,n);case 4:return a=e.sent,js(r,i,null),Os(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Cs(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,_i(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function ks(){return(ks=Object(l.a)(c.a.mark(function e(t,n,r){var i,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=P(t),e.prev=1,e.next=4,function(e,t){var n=P(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n.An.lookupMutationBatch(e,t).next(function(t){return N(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)}).next(function(){return n.An.performConsistencyCheck(e)}).next(function(){return n.Wn.vn(e,r)})})}(i.localStore,n);case 4:return a=e.sent,js(i,n,r),Os(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Cs(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,_i(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function ws(e,t){return _s.apply(this,arguments)}function _s(){return(_s=Object(l.a)(c.a.mark(function e(t,n){var r,i,a,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return oo((r=P(t)).remoteStore)||T("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=P(r.localStore);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.An.getHighestUnacknowledgedBatchId(e)})}();case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Fo(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function Os(e,t){(e.jo.get(t)||[]).forEach(function(e){e.resolve()}),e.jo.delete(t)}function js(e,t,n){var r=P(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Es(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Object(s.a)(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach(function(t){e.qo.containsKey(t)||xs(e,t)})}function xs(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(to(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Ss(e))}function Ts(e,t,n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ts?(e.qo.addReference(a.key,t),Is(e,a)):a instanceof ns?(T("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||xs(e,a.key)):A()}}catch(o){i.e(o)}finally{i.f()}}function Is(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(T("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Ss(e))}function Ss(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new be(ie.fromString(t)),r=e.Qo.next();e.Uo.set(r,new as(n)),e.Bo=e.Bo.insert(n,r),eo(e.remoteStore,new zr(ft(it(n.path)),r,2,K.I))}}function Cs(e,t,n){return As.apply(this,arguments)}function As(){return(As=Object(l.a)(c.a.mark(function e(t,n,r){var i,a,o,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=P(t),a=[],o=[],u=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach(function(e,t){u.push(i.Go(t,n,r).then(function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Ki.$n(t.targetId,e);o.push(n)}}))}),e.next=6,Promise.all(u);case 6:return i.Oo.br(a),e.next=9,function(){var e=Object(l.a)(c.a.mark(function e(t,n){var r,i,a,o,u,l,f,h;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return Sr.forEach(n,function(t){return Sr.forEach(t.kn,function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)}).next(function(){return Sr.forEach(t.xn,function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)})})})});case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Pr(e.t0)){e.next=10;break}throw e.t0;case 10:T("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Object(s.a)(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(l=r.qn.get(u),f=l.snapshotVersion,h=l.withLastLimboFreeSnapshotVersion(f),r.qn=r.qn.insert(u,h))}catch(c){i.e(c)}finally{i.f()}case 13:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ns(e,t){return Rs.apply(this,arguments)}function Rs(){return(Rs=Object(l.a)(c.a.mark(function e(t,n){var r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=P(t)).currentUser.isEqual(n)){e.next=11;break}return T("SyncEngine","User change. New user:",n.toKey()),e.next=5,$i(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach(function(e){e.forEach(function(e){e.reject(new L(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Cs(r,i.Gn);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ps(e,t){return Ds.apply(this,arguments)}function Ds(){return(Ds=Object(l.a)(c.a.mark(function e(t,n){var r,i,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.next=3,oa(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&Ts(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ls(e){return Ms.apply(this,arguments)}function Ms(){return(Ms=Object(l.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=P(t),e.abrupt("return",ua(n.localStore).then(function(e){return Cs(n,e)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Us(e,t,n,r){return Fs.apply(this,arguments)}function Fs(){return(Fs=Object(l.a)(c.a.mark(function e(t,n,r,i){var a,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=P(t),e.next=3,function(e,t){var n=P(e),r=P(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.Zt(e,t).next(function(t){return t?n.Wn.vn(e,t):Sr.resolve(null)})})}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,go(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(js(a,n,i||null),Os(a,n),function(e,t){P(P(e).An).ee(t)}(a.localStore,n)):A();case 11:return e.next=13,Cs(a,o);case 13:e.next=16;break;case 15:T("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vs(e,t){return Bs.apply(this,arguments)}function Bs(){return(Bs=Object(l.a)(c.a.mark(function e(t,n){var r,i,a,o,u,l,f,h;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if($s(r=P(t)),Xs(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,qs(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,Po(r.remoteStore,!0);case 9:o=Object(s.a)(a);try{for(o.s();!(u=o.n()).done;)l=u.value,eo(r.remoteStore,l)}catch(c){o.e(c)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return f=[],h=Promise.resolve(),r.Fo.forEach(function(e,t){r.sharedClientState.isLocalQueryTarget(t)?f.push(t):h=h.then(function(){return Es(r,t),ia(r.localStore,t,!0)}),to(r.remoteStore,t)}),e.next=19,h;case 19:return e.next=21,qs(r,f);case 21:return function(e){var t=P(r);t.Uo.forEach(function(e,n){to(t.remoteStore,n)}),t.qo.hs(),t.Uo=new Map,t.Bo=new nn(be.comparator)}(),r.Wo=!1,e.next=25,Po(r.remoteStore,!1);case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qs(e,t,n){return zs.apply(this,arguments)}function zs(){return(zs=Object(l.a)(c.a.mark(function e(t,n,r){var i,a,o,u,l,f,h,d,p,v,m,y,g,b;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=P(t),a=[],o=[],u=Object(s.a)(n),e.prev=2,u.s();case 4:if((l=u.n()).done){e.next=45;break}if(f=l.value,h=void 0,!(d=i.Fo.get(f))||0===d.length){e.next=34;break}return e.next=11,ra(i.localStore,ft(d[0]));case 11:h=e.sent,p=Object(s.a)(d),e.prev=13,p.s();case 15:if((v=p.n()).done){e.next=24;break}return m=v.value,y=i.Mo.get(m),e.next=20,Ps(i,y);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),p.e(e.t0);case 29:return e.prev=29,p.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,sa(i.localStore,f);case 36:return b=e.sent,e.next=39,ra(i.localStore,b);case 39:return h=e.sent,e.next=42,cs(i,Hs(b),f,!1);case 42:a.push(h);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}},e,null,[[2,47,50,53],[13,26,29,32]])}))).apply(this,arguments)}function Hs(e){return rt(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ws(e){var t=P(e);return P(P(t.localStore).persistence).Tn()}function Ks(e,t,n,r){return Gs.apply(this,arguments)}function Gs(){return(Gs=Object(l.a)(c.a.mark(function e(t,n,r,i){var a,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=P(t)).Wo){e.next=5;break}T("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0?9:"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,ua(a.localStore);case 11:return o=e.sent,s=gn.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Cs(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,ia(a.localStore,n,!0);case 18:return Es(a,n,i),e.abrupt("break",21);case 20:A();case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qs(e,t,n){return Ys.apply(this,arguments)}function Ys(){return(Ys=Object(l.a)(c.a.mark(function e(t,n,r){var i,a,o,u,l,f,h,d,p;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=$s(t)).Wo){e.next=45;break}a=Object(s.a)(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Fo.has(u)){e.next=10;break}return T("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,sa(i.localStore,u);case 12:return l=e.sent,e.next=15,ra(i.localStore,l);case 15:return f=e.sent,e.next=18,cs(i,Hs(l),f.targetId,!1);case 18:eo(i.remoteStore,f);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:h=Object(s.a)(r),e.prev=30,p=c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,ia(i.localStore,t,!1).then(function(){to(i.remoteStore,t),Es(i,t)}).catch(_i);case 5:case"end":return e.stop()}},e)}),h.s();case 33:if((d=h.n()).done){e.next=37;break}return e.delegateYield(p(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),h.e(e.t2);case 42:return e.prev=42,h.f(),e.finish(42);case 45:case"end":return e.stop()}},e,null,[[3,23,26,29],[30,39,42,45]])}))).apply(this,arguments)}function $s(e){var t=P(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vs.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=P(e),r=n.Uo.get(t);if(r&&r.$o)return vn().add(r.key);var i=vn(),a=n.Fo.get(t);if(!a)return i;var o,u=Object(s.a)(a);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=n.Mo.get(c);i=i.unionWith(l.view.bo)}}catch(f){u.e(f)}finally{u.f()}return i}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(e,t,n){return gs.apply(this,arguments)}.bind(null,t),t.Oo.br=function(e,t){var n,r=P(e),i=!1,a=Object(s.a)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,c=r.queries.get(u);if(c){var l,f=Object(s.a)(c.listeners);try{for(f.s();!(l=f.n()).done;)l.value.oo(o)&&(i=!0)}catch(h){f.e(h)}finally{f.f()}c.so=o}}}catch(h){a.e(h)}finally{a.f()}i&&Yo(r)}.bind(null,t.eventManager),t.Oo.zo=function(e,t,n){var r=P(e),i=r.queries.get(t);if(i){var a,o=Object(s.a)(i.listeners);try{for(o.s();!(a=o.n()).done;)a.value.onError(n)}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}.bind(null,t.eventManager),t}function Xs(e){var t=P(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=function(e,t){return bs.apply(this,arguments)}.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=function(e,t,n){return ks.apply(this,arguments)}.bind(null,t),t}function Js(e,t,n){var r=P(e);(function(){var e=Object(l.a)(c.a.mark(function e(t,n,r){var i,a,o,s,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=P(e),r=Rn(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(e){return n.Ye.getBundleMetadata(e,t.id)}).then(function(e){return!!e&&e.createTime.compareTo(r)>=0})}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(es(i)),a=new Zo(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,Cs(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=P(e);return n.persistence.runTransaction("Save bundle","readwrite",function(e){return n.Ye.saveBundleMetadata(e,t)})}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),S("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}},e,null,[[0,35]])}));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var Zs=function(){function e(){Object(p.a)(this,e),this.synchronizeTabs=!1}return Object(v.a)(e,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=qa(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Yi(this.persistence,new Gi,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new _a(ja.ks,this.k)}},{key:"Jo",value:function(e){return new Pa}},{key:"terminate",value:function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),eu=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Object(v.a)(n,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var r=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,ca(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,Xs(this.tc.syncEngine);case 8:return e.next=10,go(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return Yi(this.persistence,new Gi,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new xi(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=zi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ci.withCacheSize(this.cacheSizeBytes):ci.DEFAULT;return new Vi(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Va(),Ba(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new Pa}}]),n}(Zs),tu=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Object(v.a)(n,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var r,o=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof Ra,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:Us.bind(null,r),gi:Ks.bind(null,r),yi:Qs.bind(null,r),Tn:Ws.bind(null,r),_i:Ls.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs(o.tc.syncEngine,t);case 2:o.gcScheduler&&(t&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):t||o.gcScheduler.stop());case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Va();if(!Ra.Pt(t))throw new L(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=zi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ra(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(eu),nu=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark(function e(t,n){var r=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ys(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ns.bind(null,this.syncEngine),e.next=12,Po(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Ho}},{key:"createDatastore",value:function(e){var t,n=qa(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Fa(t));return function(e,t,n,r){return new Ga(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ys(o.syncEngine,e,0)},a=La.Pt()?new La:new Da,new Ya(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new os(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Object(l.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=P(t),T("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Ja(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ru(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Object(l.a)(c.a.mark(function r(){var i;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}},r)}))()},cancel:function(){return Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var iu=function(){function e(t){Object(p.a)(this,e),this.observer=t,this.muted=!1}return Object(v.a)(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)}}]),e}(),au=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.sc=t,this.k=n,this.metadata=new M,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))},function(e){return r.metadata.reject(e)})}return Object(v.a)(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,n,r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new Xo(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})}},{key:"oc",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),ou=function(){function e(t){Object(p.a)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Object(v.a)(e,[{key:"lookup",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var n,r=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new L(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Object(l.a)(c.a.mark(function e(t,n){var r,i,a,o,s,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),i=Vn(r.k)+"/documents",a={documents:n.map(function(e){return Ln(r.k,e)})},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach(function(e){var t=Hn(r.k,e);s.set(t.key.toString(),t)}),u=[],e.abrupt("return",(n.forEach(function(e){var t=s.get(e.toString());N(!!t),u.push(t)}),u));case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach(function(e){return r.recordVersion(e)}),n));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Xt(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,n=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(e,t){var r=be.fromPath(t);n.mutations.push(new Jt(r,n.precondition(r)))}),e.next=7,function(){var e=Object(l.a)(c.a.mark(function e(t,n){var r,i,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),i=Vn(r.k)+"/documents",a={writes:n.map(function(e){return Wn(r.k,e)})},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw A();t=Z.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new L(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Lt.updateTime(t):Lt.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Z.min()))throw new L(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lt.updateTime(t)}return Lt.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),su=function(){function e(t,n,r,i){Object(p.a)(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new za(this.asyncQueue,"transaction_retry")}return Object(v.a)(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(Object(l.a)(c.a.mark(function t(){var n,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=new ou(e.datastore),(r=e.dc(n))&&r.then(function(t){e.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){e.deferred.resolve(t)}).catch(function(t){e.wc(t)})})}).catch(function(t){e.wc(t)});case 2:case"end":return t.stop()}},t)})))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!me(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(function(){return t.fc(),Promise.resolve()})):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!en(t)}return!1}}]),e}(),uu=function(){function e(t,n,r,i){var a=this;Object(p.a)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_.UNAUTHENTICATED,this.clientId=Q.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,function(e){return T("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)})}return Object(v.a)(e,[{key:"getConfiguration",value:function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new M;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(l.a)(c.a.mark(function n(){var r;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Fo(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}},n,null,[[0,14]])}))),t.promise}}]),e}();function cu(e,t){return lu.apply(this,arguments)}function lu(){return(lu=Object(l.a)(c.a.mark(function e(t,n){var r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,$i(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=n;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return(hu=Object(l.a)(c.a.mark(function e(t,n){var r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,du(t);case 3:return r=e.sent,T("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener(function(e){return No(n.remoteStore,e)}),t.setAppCheckTokenChangeListener(function(e,t){return No(n.remoteStore,t)}),t.onlineComponents=n;case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function du(e){return pu.apply(this,arguments)}function pu(){return(pu=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return T("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,cu(t,new Zs);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vu(e){return mu.apply(this,arguments)}function mu(){return(mu=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return T("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,fu(t,new nu);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yu(e){return du(e).then(function(e){return e.persistence})}function gu(e){return du(e).then(function(e){return e.localStore})}function bu(e){return vu(e).then(function(e){return e.remoteStore})}function ku(e){return vu(e).then(function(e){return e.syncEngine})}function wu(e){return _u.apply(this,arguments)}function _u(){return(_u=Object(l.a)(c.a.mark(function e(t){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vu(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ss.bind(null,n.syncEngine),r.onUnlisten=fs.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ou(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark(function i(){return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new iu({next:function(a){t.enqueueAndForget(function(){return Go(e,o)});var s=a.docs.has(n);!s&&a.fromCache?i.reject(new L(D.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new L(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new $o(it(n.path),a,{includeMetadataChanges:!0,wo:!0});return Wo(e,o)},i.next=3,wu(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}function ju(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark(function i(){return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new iu({next:function(n){t.enqueueAndForget(function(){return Go(e,o)}),n.fromCache&&"server"===r.source?i.reject(new L(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new $o(n,a,{includeMetadataChanges:!0,wo:!0});return Wo(e,o)},i.next=3,wu(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}var Eu=Object(v.a)(function e(t,n,r,i,a,o,s,u){Object(p.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u}),xu=function(){function e(t,n){Object(p.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(v.a)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Tu=new Map;function Iu(e,t,n){if(!n)throw new L(D.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Su(e,t,n,r){if(!0===t&&!0===r)throw new L(D.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Cu(e){if(!be.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Au(e){if(be.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Nu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":A()}function Ru(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Nu(e);throw new L(D.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Pu(e,t){if(t<=0)throw new L(D.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Du=function(){function e(t){var n;if(Object(p.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new L(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new L(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Su("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Lu=function(){function e(t,n,r){Object(p.a)(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Du({}),this._settingsFrozen=!1,t instanceof xu?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(e.options.projectId)}(t))}return Object(v.a)(e,[{key:"app",get:function(){if(!this._app)throw new L(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new L(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Du(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new F;switch(e.type){case"gapi":var t=e.client;return N(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new z(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new L(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Tu.get(e);t&&(T("ComponentProvider","Removing Datastore"),Tu.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Mu(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Ru(e,Lu))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&S("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=_.MOCK_USER;else{o=Object(b.f)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new L(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new _(u)}e._authCredentials=new V(new U(o,s))}}var Uu=function(){function e(t,n,r){Object(p.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(v.a)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Vu(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Fu=function(){function e(t,n,r){Object(p.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(v.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Vu=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this,e,r,it(i)))._path=i,a.type="collection",a}return Object(v.a)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Uu(this.firestore,null,new be(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Fu);function Bu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(b.k)(e),Iu("collection","path",t),e instanceof Lu){var a=ie.fromString.apply(ie,[t].concat(r));return Au(a),new Vu(e,null,a)}if(!(e instanceof Uu||e instanceof Vu))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ie.fromString.apply(ie,[t].concat(r)));return Au(o),new Vu(e.firestore,null,o)}function qu(e,t){if(e=Ru(e,Lu),Iu("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new L(D.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Fu(e,null,function(e){return new nt(ie.emptyPath(),e)}(t))}function zu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(b.k)(e),1===arguments.length&&(t=Q.A()),Iu("doc","path",t),e instanceof Lu){var a=ie.fromString.apply(ie,[t].concat(r));return Cu(a),new Uu(e,null,new be(a))}if(!(e instanceof Uu||e instanceof Vu))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ie.fromString.apply(ie,[t].concat(r)));return Cu(o),new Uu(e.firestore,e instanceof Vu?e.converter:null,new be(o))}function Hu(e,t){return e=Object(b.k)(e),t=Object(b.k)(t),(e instanceof Uu||e instanceof Vu)&&(t instanceof Uu||t instanceof Vu)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Wu(e,t){return e=Object(b.k)(e),t=Object(b.k)(t),e instanceof Fu&&t instanceof Fu&&e.firestore===t.firestore&&dt(e._query,t._query)&&e.converter===t.converter}var Ku=function(){function e(){var t=this;Object(p.a)(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new za(this,"async_queue_retry"),this.bc=function(){var e=Ba();e&&T("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Ba();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return Object(v.a)(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=Ba();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise(function(){});var n=new M;return this.vc(function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget(function(){return t.gc.push(e),t.Vc()})}},{key:"Vc",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Pr(e.t0)){e.next=12;break}throw e.t0;case 12:T("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi(function(){return t.Vc()});case 14:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then(function(){return t.Ic=!0,e().catch(function(e){throw t.Ec=e,t.Ic=!1,I("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.Ic=!1,e})});return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=Uo.createAndSchedule(this,e,t,n,function(e){return r.Sc(e)});return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&A()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=Object(s.a)(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then(function(){t.Tc.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});var n,r=Object(s.a)(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()})}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function Gu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Object(s.a)(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Qu=function(){function e(){Object(p.a)(this,e),this._progressObserver={},this._taskCompletionResolver=new M,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Object(v.a)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Yu=-1,$u=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Ku,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Object(v.a)(n,[{key:"_terminate",value:function(){return this._firestoreClient||Ju(this),this._firestoreClient.terminate()}}]),n}(Lu);function Xu(e){return e._firestoreClient||Ju(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ju(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Eu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new uu(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Zu(e,t){uc(e=Ru(e,$u));var n=Xu(e),r=e._freezeSettings(),i=new nu;return tc(n,i,new eu(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function ec(e){uc(e=Ru(e,$u));var t=Xu(e),n=e._freezeSettings(),r=new nu;return tc(t,r,new tu(r,n.cacheSizeBytes))}function tc(e,t,n){var r=new M;return e.asyncQueue.enqueue(Object(l.a)(c.a.mark(function i(){return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,cu(e,n);case 3:return i.next=5,fu(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}},i,null,[[0,8]])}))).then(function(){return r.promise})}function nc(e){if(e._initialized&&!e._terminated)throw new L(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new M;return e._queue.enqueueAndForgetEvenWhileRestricted(Object(l.a)(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Object(l.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Ar.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Ar.delete(n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(zi(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}},n,null,[[0,6]])}))),t.promise}function rc(e){return function(e){var t=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ws,n.next=3,ku(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n)}))),t.promise}(Xu(e=Ru(e,$u)))}function ic(e){return function(e){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark(function t(){var n,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yu(e);case 2:return n=t.sent,t.next=5,bu(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=P(r);return t.Gr.delete(0),$a(t)}()));case 7:case"end":return t.stop()}},t)})))}(Xu(e=Ru(e,$u)))}function ac(e){return function(e){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark(function t(){var n,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yu(e);case 2:return n=t.sent,t.next=5,bu(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Object(l.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=P(t)).Gr.add(0),e.next=4,Ja(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}},t)})))}(Xu(e=Ru(e,$u)))}function oc(e,t){var n=Xu(e=Ru(e,$u)),r=new Qu;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new au(e,t)}(function(e,t){if(e instanceof Uint8Array)return ru(e,t);if(e instanceof ArrayBuffer)return ru(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,qa(t));e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Js,t.next=3,ku(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}},t)})))}(n,e._databaseId,t,r),r}function sc(e,t){return function(e,t){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=P(e);return n.persistence.runTransaction("Get named query","readonly",function(e){return n.Ye.getNamedQuery(e,t)})},n.next=3,gu(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n)})))}(Xu(e=Ru(e,$u)),t).then(function(t){return t?new Fu(e,null,t.query):null})}function uc(e){if(e._initialized||e._terminated)throw new L(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var cc=function(){function e(){Object(p.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new L(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oe(n)}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var lc=function(){function e(t){Object(p.a)(this,e),this._byteString=t}return Object(v.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ce.fromBase64String(t))}catch(t){throw new L(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ce.fromUint8Array(t))}}]),e}(),fc=Object(v.a)(function e(t){Object(p.a)(this,e),this._methodName=t}),hc=function(){function e(t,n){if(Object(p.a)(this,e),!isFinite(t)||t<-90||t>90)throw new L(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new L(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(v.a)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}]),e}(),dc=/^__.*__$/,pc=function(){function e(t,n,r){Object(p.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(v.a)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Wt(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ht(e,this.data,t,this.fieldTransforms)}}]),e}(),vc=function(){function e(t,n,r){Object(p.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(v.a)(e,[{key:"toMutation",value:function(e,t){return new Wt(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function mc(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw A()}}var yc=function(){function e(t,n,r,i,a,o){Object(p.a)(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Object(v.a)(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return Mc(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(mc(this.$c)&&dc.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),gc=function(){function e(t,n,r){Object(p.a)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||qa(t)}return Object(v.a)(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yc({$c:e,methodName:t,jc:n,path:oe.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function bc(e){var t=e._freezeSettings(),n=qa(e._databaseId);return new gc(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kc(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);Rc("Data must be an object, but it was:",o,r);var u,c,l=Ac(r,o);if(a.merge)u=new se(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){var f,h=[],d=Object(s.a)(a.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=Pc(t,f.value,n);if(!o.contains(p))throw new L(D.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Uc(h,p)||h.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new se(h),c=o.fieldTransforms.filter(function(e){return u.covers(e.field)})}else u=null,c=o.fieldTransforms;return new pc(new Re(l),u,c)}var wc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(fc);function _c(e,t,n){return new yc({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var Oc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){return new Pt(e.path,new xt)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(fc),jc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e)).Wc=r,i}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){var t=_c(this,e,!0),n=this.Wc.map(function(e){return Cc(e,t)}),r=new Tt(n);return new Pt(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(fc),Ec=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e)).Wc=r,i}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){var t=_c(this,e,!0),n=this.Wc.map(function(e){return Cc(e,t)}),r=new St(n);return new Pt(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(fc),xc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e)).Gc=r,i}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){var t=new At(e.k,wt(e.k,this.Gc));return new Pt(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(fc);function Tc(e,t,n,r){var i=e.Qc(1,t,n);Rc("Data must be an object, but it was:",i,r);var a=[],o=Re.empty();te(r,function(e,r){var s=Lc(t,e,n);r=Object(b.k)(r);var u=i.Bc(s);if(r instanceof wc)a.push(s);else{var c=Cc(r,u);null!=c&&(a.push(s),o.set(s,c))}});var s=new se(a);return new vc(o,s,i.fieldTransforms)}function Ic(e,t,n,r,i,a){var o=e.Qc(1,t,n),s=[Pc(t,r,n)],u=[i];if(a.length%2!=0)throw new L(D.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Pc(t,a[c])),u.push(a[c+1]);for(var l=[],f=Re.empty(),h=s.length-1;h>=0;--h)if(!Uc(l,s[h])){var d=s[h],p=u[h];p=Object(b.k)(p);var v=o.Bc(d);if(p instanceof wc)l.push(d);else{var m=Cc(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new se(l);return new vc(f,y,o.fieldTransforms)}function Sc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Cc(n,e.Qc(r?4:3,t))}function Cc(e,t){if(Nc(e=Object(b.k)(e)))return Rc("Unsupported field value:",t,e),Ac(e,t);if(e instanceof fc)return function(e,t){if(!mc(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Object(s.a)(e);try{for(a.s();!(n=a.n()).done;){var o=Cc(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(b.k)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wt(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=J.fromDate(e);return{timestampValue:Cn(t.k,n)}}if(e instanceof J){var r=new J(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cn(t.k,r)}}if(e instanceof hc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof lc)return{bytesValue:An(t.k,e._byteString)};if(e instanceof Uu){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Pn(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(Nu(e)))}(e,t)}function Ac(e,t){var n={};return ne(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):te(e,function(e,r){var i=Cc(r,t.Mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Nc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof J||e instanceof hc||e instanceof lc||e instanceof Uu||e instanceof fc)}function Rc(e,t,n){if(!Nc(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Nu(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function Pc(e,t,n){if((t=Object(b.k)(t))instanceof cc)return t._internalPath;if("string"==typeof t)return Lc(e,t);throw Mc("Field path arguments must be of type string or ",e,!1,void 0,n)}var Dc=new RegExp("[~\\*/\\[\\]]");function Lc(e,t,n){if(t.search(Dc)>=0)throw Mc("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(cc,Object(d.a)(t.split(".")))._internalPath}catch(i){throw Mc("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Mc(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new L(D.INVALID_ARGUMENT,s+e+u)}function Uc(e,t){return e.some(function(e){return e.isEqual(t)})}var Fc=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Object(v.a)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Uu(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Vc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Bc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Vc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"data",value:function(){return Object(i.a)(Object(a.a)(n.prototype),"data",this).call(this)}}]),n}(Fc);function Bc(e,t){return"string"==typeof t?Lc(e,t):t instanceof cc?t._internalPath:t._delegate._internalPath}var qc=function(){function e(t,n){Object(p.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),zc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o,s){var u;return Object(p.a)(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Object(v.a)(n,[{key:"exists",value:function(){return Object(i.a)(Object(a.a)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Bc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Fc),Hc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(Object(a.a)(n.prototype),"data",this).call(this,e)}}]),n}(zc),Wc=function(){function e(t,n,r,i){Object(p.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new qc(i.hasPendingWrites,i.fromCache),this.query=r}return Object(v.a)(e,[{key:"docs",get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new Hc(n._firestore,n._userDataWriter,r.key,r,new qc(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new L(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new Hc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new Hc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Kc(t.type),doc:n,oldIndex:i,newIndex:a}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Kc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return A()}}function Gc(e,t){return e instanceof zc&&t instanceof zc?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Wc&&t instanceof Wc&&e._firestore===t._firestore&&Wu(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Qc(e){if(ot(e)&&0===e.explicitOrderBy.length)throw new L(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Yc=Object(v.a)(function e(){Object(p.a)(this,e)});function $c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){e=a[i]._apply(e)}return e}var Xc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=bc(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new L(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){hl(o,a);var c,l=[],f=Object(s.a)(o);try{for(f.s();!(c=f.n()).done;){var h=c.value;l.push(fl(r,e,h))}}catch(p){f.e(p)}finally{f.f()}u={arrayValue:{values:l}}}else u=fl(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||hl(o,a),u=Sc(n,"where",o,"in"===a||"not-in"===a);var d=Be.create(i,a,u);return function(e,t){if(t.V()){var n=ut(e);if(null!==n&&!n.isEqual(t.field))throw new L(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=st(e);null!==r&&dl(e,t.field,r)}var i=function(e,t){var n,r=Object(s.a)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(t.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==i)throw i===t.op?new L(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new L(D.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Fu(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Yc);function Jc(e,t,n){var r=t,i=Bc("where",e);return new Xc(i,r,n)}var Zc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new L(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new L(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Je(t,n);return function(e,t){if(null===st(e)){var n=ut(e);null!==n&&dl(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new Fu(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new nt(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Yc);function el(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Bc("orderBy",e);return new Zc(n,t)}var tl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return Object(v.a)(n,[{key:"_apply",value:function(e){return new Fu(e.firestore,e.converter,ht(e._query,this.Xc,this.Zc))}}]),n}(Yc);function nl(e){return Pu("limit",e),new tl("limit",e,"F")}function rl(e){return Pu("limitToLast",e),new tl("limitToLast",e,"L")}var il=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=ll(e,this.type,this.ta,this.ea);return new Fu(e.firestore,e.converter,function(e,t){return new nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Yc);function al(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new il("startAt",t,!0)}function ol(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new il("startAfter",t,!1)}var sl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=ll(e,this.type,this.ta,this.ea);return new Fu(e.firestore,e.converter,function(e,t){return new nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Yc);function ul(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sl("endBefore",t,!0)}function cl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sl("endAt",t,!1)}function ll(e,t,n,r){if(n[0]=Object(b.k)(n[0]),n[0]instanceof Fc)return function(e,t,n,r,i){if(!r)throw new L(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Object(s.a)(lt(e));try{for(u.s();!(a=u.n()).done;){var c=a.value;if(c.field.isKeyField())o.push(xe(t,r.key));else{var l=r.data.field(c.field);if(pe(l))throw new L(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=c.field.canonicalString();throw new L(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(h){u.e(h)}finally{u.f()}return new $e(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=bc(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new L(D.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new L(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ct(e)&&-1!==c.indexOf("/"))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ie.fromString(c));if(!be.isDocumentKey(l))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new be(l);s.push(xe(t,f))}else{var h=Sc(n,r,c);s.push(h)}}return new $e(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function fl(e,t,n){if("string"==typeof(n=Object(b.k)(n))){if(""===n)throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ct(t)&&-1!==n.indexOf("/"))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ie.fromString(n));if(!be.isDocumentKey(r))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return xe(e,new be(r))}if(n instanceof Uu)return xe(e,n._key);throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Nu(n),"."))}function hl(e,t){if(!Array.isArray(e)||0===e.length)throw new L(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new L(D.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function dl(e,t,n){if(!n.isEqual(t))throw new L(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var pl=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ke(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(de(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw A()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return te(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r}},{key:"convertGeoPoint",value:function(e){return new hc(he(e.latitude),he(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return pe(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ve(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=fe(e);return new J(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ie.fromString(e);N(ar(n));var r=new xu(n.get(1),n.get(3)),i=new be(n.popFirst(5));return r.isEqual(t)||I("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function vl(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ml=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(v.a)(n,[{key:"convertBytes",value:function(e){return new lc(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Uu(this.firestore,null,t)}}]),n}(pl),yl=function(){function e(t,n){Object(p.a)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=bc(t)}return Object(v.a)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=gl(e,this._firestore),i=vl(r.converter,t,n),a=kc(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Lt.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=gl(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Object(b.k)(t))||t instanceof cc?Ic(this._dataReader,"WriteBatch.update",i._key,t,n,o):Tc(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Lt.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=gl(e,this._firestore);return this._mutations=this._mutations.concat(new Xt(t._key,Lt.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new L(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function gl(e,t){if((e=Object(b.k)(e)).firestore!==t)throw new L(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function bl(e){e=Ru(e,Uu);var t=Ru(e.firestore,$u);return Ou(Xu(t),e._key).then(function(n){return Rl(t,e,n)})}var kl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(v.a)(n,[{key:"convertBytes",value:function(e){return new lc(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Uu(this.firestore,null,t)}}]),n}(pl);function wl(e){e=Ru(e,Uu);var t=Ru(e.firestore,$u),n=Xu(t),r=new kl(t);return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark(function r(){return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(l.a)(c.a.mark(function e(t,n,r){var i,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=P(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.Wn.Rn(e,t)})}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new L(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Fo(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,gu(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._key).then(function(n){return new zc(t,r,e._key,n,new qc(null!==n&&n.hasLocalMutations,!0),e.converter)})}function _l(e){e=Ru(e,Uu);var t=Ru(e.firestore,$u);return Ou(Xu(t),e._key,{source:"server"}).then(function(n){return Rl(t,e,n)})}function Ol(e){e=Ru(e,Fu);var t=Ru(e.firestore,$u),n=Xu(t),r=new kl(t);return Qc(e._query),ju(n,e._query).then(function(n){return new Wc(t,r,e,n)})}function jl(e){e=Ru(e,Fu);var t=Ru(e.firestore,$u),n=Xu(t),r=new kl(t);return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark(function r(){return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(l.a)(c.a.mark(function e(t,n,r){var i,a,o,s,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oa(t,n,!0);case 3:i=e.sent,a=new rs(n,i.zn),o=a.Po(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Fo(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,gu(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._query).then(function(n){return new Wc(t,r,e,n)})}function El(e){e=Ru(e,Fu);var t=Ru(e.firestore,$u),n=Xu(t),r=new kl(t);return ju(n,e._query,{source:"server"}).then(function(n){return new Wc(t,r,e,n)})}function xl(e,t,n){e=Ru(e,Uu);var r=Ru(e.firestore,$u),i=vl(e.converter,t,n);return Nl(r,[kc(bc(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Lt.none())])}function Tl(e,t,n){e=Ru(e,Uu);for(var r=Ru(e.firestore,$u),i=bc(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Nl(r,[("string"==typeof(t=Object(b.k)(t))||t instanceof cc?Ic(i,"updateDoc",e._key,t,n,o):Tc(i,"updateDoc",e._key,t)).toMutation(e._key,Lt.exists(!0))])}function Il(e){return Nl(Ru(e.firestore,$u),[new Xt(e._key,Lt.none())])}function Sl(e,t){var n=Ru(e.firestore,$u),r=zu(e),i=vl(e.converter,t);return Nl(n,[kc(bc(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Lt.exists(!1))]).then(function(){return r})}function Cl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Object(b.k)(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Gu(n[u])||(s=n[u],u++);var f,h,d,p={includeMetadataChanges:s.includeMetadataChanges};if(Gu(n[u])){var v=n[u];n[u]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[u+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[u+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof Uu)h=Ru(e.firestore,$u),d=it(e._key.path),f={next:function(t){n[u]&&n[u](Rl(h,e,t))},error:n[u+1],complete:n[u+2]};else{var m=Ru(e,Fu);h=Ru(m.firestore,$u),d=m._query;var y=new kl(h);f={next:function(e){n[u]&&n[u](new Wc(h,y,m,e))},error:n[u+1],complete:n[u+2]},Qc(e._query)}return function(e,t,n,r){var i=new iu(f),a=new $o(t,i,n);return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Wo,t.next=3,wu(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)}))),function(){i.nc(),e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Go,t.next=3,wu(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)})))}}(Xu(h),d,p)}function Al(e,t){return function(e,t){var n=new iu(t);return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){P(e).io.add(t),t.next()},t.next=3,wu(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)}))),function(){n.nc(),e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){P(e).io.delete(t)},t.next=3,wu(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)})))}}(Xu(e=Ru(e,$u)),Gu(t)?t:{next:t})}function Nl(e,t){return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark(function r(){return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ds,r.next=3,ku(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(Xu(e),t)}function Rl(e,t,n){var r=n.docs.get(t._key),i=new kl(e);return new zc(e,i,t._key,r,new qc(n.hasPendingWrites,n.fromCache),t.converter)}var Pl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,r))._firestore=e,i}return Object(v.a)(n,[{key:"get",value:function(e){var t=this,r=gl(e,this._firestore),o=new kl(this._firestore);return Object(i.a)(Object(a.a)(n.prototype),"get",this).call(this,e).then(function(e){return new zc(t._firestore,o,r._key,e._document,new qc(!1,!1),r.converter)})}}]),n}(function(){function e(t,n){Object(p.a)(this,e),this._firestore=t,this._transaction=n,this._dataReader=bc(t)}return Object(v.a)(e,[{key:"get",value:function(e){var t=this,n=gl(e,this._firestore),r=new ml(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return A();var i=e[0];if(i.isFoundDocument())return new Fc(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Fc(t._firestore,r,n._key,null,n.converter);throw A()})}},{key:"set",value:function(e,t,n){var r=gl(e,this._firestore),i=vl(r.converter,t,n),a=kc(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=gl(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Object(b.k)(t))||t instanceof cc?Ic(this._dataReader,"Transaction.update",i._key,t,n,o):Tc(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=gl(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Dl(e,t){return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark(function r(){var i;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return vu(e).then(function(e){return e.datastore})}(e);case 2:i=r.sent,new su(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}},r)}))),n.promise}(Xu(e=Ru(e,$u)),function(n){return t(new Pl(e,n))})}function Ll(){return new wc("deleteField")}function Ml(){return new Oc("serverTimestamp")}function Ul(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jc("arrayUnion",t)}function Fl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ec("arrayRemove",t)}function Vl(e){return new xc("increment",e)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){O=e}(m.SDK_VERSION),Object(m._registerComponent)(new y.a("firestore",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new $u(i,new B(e.getProvider("auth-internal")),new W(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC")),Object(m.registerVersion)(w,"3.4.4",void 0),Object(m.registerVersion)(w,"3.4.4","esm2017")}()}).call(this,n(45))},function(e,t,n){"use strict";var r=n(35);var i=n(28),a=n(36);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(5);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},function(e,t,n){"use strict";n.r(t),n.d(t,"SDK_VERSION",function(){return R}),n.d(t,"_DEFAULT_ENTRY_NAME",function(){return b}),n.d(t,"_addComponent",function(){return O}),n.d(t,"_addOrOverwriteComponent",function(){return j}),n.d(t,"_apps",function(){return w}),n.d(t,"_clearComponents",function(){return I}),n.d(t,"_components",function(){return _}),n.d(t,"_getProvider",function(){return x}),n.d(t,"_registerComponent",function(){return E}),n.d(t,"_removeServiceInstance",function(){return T}),n.d(t,"deleteApp",function(){return M}),n.d(t,"getApp",function(){return D}),n.d(t,"getApps",function(){return L}),n.d(t,"initializeApp",function(){return P}),n.d(t,"onLog",function(){return V}),n.d(t,"registerVersion",function(){return F}),n.d(t,"setLogLevel",function(){return B});var r,i,a=n(0),o=n.n(a),s=n(4),u=n(10),c=n(5),l=n(2),f=n(3),h=n(20),d=n(21),p=n(6);n.d(t,"FirebaseError",function(){return p.c});var v=function(){function e(t){Object(l.a)(this,e),this.container=t}return Object(f.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(function(e){return e}).join(" ")}}]),e}();var m="@firebase/app",y="0.7.15",g=new d.b("@firebase/app"),b="[DEFAULT]",k=(r={},Object(c.a)(r,m,"fire-core"),Object(c.a)(r,"@firebase/app-compat","fire-core-compat"),Object(c.a)(r,"@firebase/analytics","fire-analytics"),Object(c.a)(r,"@firebase/analytics-compat","fire-analytics-compat"),Object(c.a)(r,"@firebase/app-check","fire-app-check"),Object(c.a)(r,"@firebase/app-check-compat","fire-app-check-compat"),Object(c.a)(r,"@firebase/auth","fire-auth"),Object(c.a)(r,"@firebase/auth-compat","fire-auth-compat"),Object(c.a)(r,"@firebase/database","fire-rtdb"),Object(c.a)(r,"@firebase/database-compat","fire-rtdb-compat"),Object(c.a)(r,"@firebase/functions","fire-fn"),Object(c.a)(r,"@firebase/functions-compat","fire-fn-compat"),Object(c.a)(r,"@firebase/installations","fire-iid"),Object(c.a)(r,"@firebase/installations-compat","fire-iid-compat"),Object(c.a)(r,"@firebase/messaging","fire-fcm"),Object(c.a)(r,"@firebase/messaging-compat","fire-fcm-compat"),Object(c.a)(r,"@firebase/performance","fire-perf"),Object(c.a)(r,"@firebase/performance-compat","fire-perf-compat"),Object(c.a)(r,"@firebase/remote-config","fire-rc"),Object(c.a)(r,"@firebase/remote-config-compat","fire-rc-compat"),Object(c.a)(r,"@firebase/storage","fire-gcs"),Object(c.a)(r,"@firebase/storage-compat","fire-gcs-compat"),Object(c.a)(r,"@firebase/firestore","fire-fst"),Object(c.a)(r,"@firebase/firestore-compat","fire-fst-compat"),Object(c.a)(r,"fire-js","fire-js"),Object(c.a)(r,"firebase","fire-js-all"),r),w=new Map,_=new Map;function O(e,t){try{e.container.addComponent(t)}catch(n){g.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function j(e,t){e.container.addOrOverwriteComponent(t)}function E(e){var t=e.name;if(_.has(t))return g.debug("There were multiple attempts to register component ".concat(t,".")),!1;_.set(t,e);var n,r=Object(u.a)(w.values());try{for(r.s();!(n=r.n()).done;){O(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function x(e,t){return e.container.getProvider(t)}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;x(e,t).clearInstance(n)}function I(){_.clear()}var S,C=(i={},Object(c.a)(i,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(c.a)(i,"bad-app-name","Illegal App name: '{$appName}"),Object(c.a)(i,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(c.a)(i,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(c.a)(i,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(c.a)(i,"invalid-log-argument","First argument to `onLog` must be null or a function."),i),A=new p.b("app","Firebase",C),N=function(){function e(t,n,r){var i=this;Object(l.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new h.a("app",function(){return i},"PUBLIC"))}return Object(f.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw A.create("app-deleted",{appName:this._name})}}]),e}(),R="9.6.5";function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!==typeof t&&(t={name:t});var n=Object.assign({name:b,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw A.create("bad-app-name",{appName:String(r)});var i=w.get(r);if(i){if(Object(p.h)(e,i.options)&&Object(p.h)(n,i.config))return i;throw A.create("duplicate-app",{appName:r})}var a,o=new h.b(r),s=Object(u.a)(_.values());try{for(s.s();!(a=s.n()).done;){var c=a.value;o.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new N(e,n,o);return w.set(r,l),l}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=w.get(e);if(!t)throw A.create("no-app",{appName:e});return t}function L(){return Array.from(w.values())}function M(e){return U.apply(this,arguments)}function U(){return(U=Object(s.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!w.has(n)){e.next=6;break}return w.delete(n),e.next=5,Promise.all(t.container.getProviders().map(function(e){return e.delete()}));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e,t,n){var r,i=null!==(r=k[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void g.warn(s.join(" "))}E(new h.a("".concat(i,"-version"),function(){return{library:i,version:t}},"VERSION"))}function V(e,t){if(null!==e&&"function"!==typeof e)throw A.create("invalid-log-argument");Object(d.d)(e,t)}function B(e){Object(d.c)(e)}S="",E(new h.a("platform-logger",function(e){return new v(e)},"PRIVATE")),F(m,y,S),F(m,y,"esm2017"),F("fire-js","")},function(e,t,n){"use strict";var r=n(31);var i=n(34),a=n(28);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return y}),n.d(t,"g",function(){return b});var r=n(12),i=n(1),a=n(23);function o(e,t){if(!e)throw new Error(t)}var s=Object(i.createContext)(null);var u=Object(i.createContext)(null);var c=Object(i.createContext)({outlet:null,matches:[]});function l(e){return function(e){var t=Object(i.useContext)(c).outlet;if(t)return Object(i.createElement)(g.Provider,{value:e},t);return t}(e.context)}function f(e){o(!1)}function h(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,c=void 0===r?null:r,l=e.location,f=e.navigationType,h=void 0===f?a.a.Pop:f,d=e.navigator,p=e.static,m=void 0!==p&&p;v()&&o(!1);var y=P(n),g=Object(i.useMemo)(function(){return{basename:y,navigator:d,static:m}},[y,d,m]);"string"===typeof l&&(l=Object(a.f)(l));var b=l,k=b.pathname,w=void 0===k?"/":k,_=b.search,O=void 0===_?"":_,j=b.hash,E=void 0===j?"":j,x=b.state,T=void 0===x?null:x,I=b.key,S=void 0===I?"default":I,C=Object(i.useMemo)(function(){var e=N(w,y);return null==e?null:{pathname:e,search:O,hash:E,state:T,key:S}},[y,w,O,E,T,S]);return null==C?null:Object(i.createElement)(s.Provider,{value:g},Object(i.createElement)(u.Provider,{children:c,value:{location:C,navigationType:h}}))}function d(e){var t=e.children,n=e.location;return function(e,t){v()||o(!1);var n=Object(i.useContext)(c).matches,r=n[n.length-1],s=r?r.params:{},u=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var l,f=m();if(t){var h,d="string"===typeof t?Object(a.f)(t):t;"/"===u||null!=(h=d.pathname)&&h.startsWith(u)||o(!1),l=d}else l=f;var p=l.pathname||"/",y="/"===u?p:p.slice(u.length)||"/",g=function(e,t,n){void 0===n&&(n="/");var r=N(("string"===typeof t?Object(a.f)(t):t).pathname||"/",n);if(null==r)return null;var i=function e(t,n,r,i){void 0===n&&(n=[]);void 0===r&&(r=[]);void 0===i&&(i="");t.forEach(function(t,a){var s={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:a,route:t};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(i)||o(!1),s.relativePath=s.relativePath.slice(i.length));var u=R([i,s.relativePath]),c=r.concat(s);t.children&&t.children.length>0&&(!0===t.index&&o(!1),e(t.children,n,c,u)),(null!=t.path||t.index)&&n.push({path:u,score:T(u,t.index),routesMeta:c})});return n}(e);!function(e){e.sort(function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(function(e,n){return e===t[n]})?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(function(e){return e.childrenIndex}),t.routesMeta.map(function(e){return e.childrenIndex}))})}(i);for(var s=null,u=0;null==s&&u<i.length;++u)s=I(i[u],r);return s}(e,{pathname:y});0;return S(g&&g.map(function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:R([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:R([u,e.pathnameBase])})}),n)}(function e(t){var n=[];i.Children.forEach(t,function(t){if(Object(i.isValidElement)(t))if(t.type!==i.Fragment){t.type!==f&&o(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=e(t.props.children)),n.push(r)}else n.push.apply(n,e(t.props.children))});return n}(t),n)}function p(e){v()||o(!1);var t=Object(i.useContext)(s),n=t.basename,r=t.navigator,u=b(e),c=u.hash,l=u.pathname,f=u.search,h=l;if("/"!==n){var d=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?Object(a.f)(e).pathname:e.pathname}(e),p=null!=d&&d.endsWith("/");h="/"===l?n+(p?"/":""):R([n,l])}return r.createHref({pathname:h,search:f,hash:c})}function v(){return null!=Object(i.useContext)(u)}function m(){return v()||o(!1),Object(i.useContext)(u).location}function y(){v()||o(!1);var e=Object(i.useContext)(s),t=e.basename,n=e.navigator,r=Object(i.useContext)(c).matches,a=m().pathname,u=JSON.stringify(r.map(function(e){return e.pathnameBase})),l=Object(i.useRef)(!1);return Object(i.useEffect)(function(){l.current=!0}),Object(i.useCallback)(function(e,r){if(void 0===r&&(r={}),l.current)if("number"!==typeof e){var i=A(e,JSON.parse(u),a);"/"!==t&&(i.pathname=R([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)},[t,n,u,a])}var g=Object(i.createContext)(null);function b(e){var t=Object(i.useContext)(c).matches,n=m().pathname,r=JSON.stringify(t.map(function(e){return e.pathnameBase}));return Object(i.useMemo)(function(){return A(e,JSON.parse(r),n)},[e,r,n])}var k=/^:\w+$/,w=3,_=2,O=1,j=10,E=-2,x=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(x)&&(r+=E),t&&(r+=_),n.filter(function(e){return!x(e)}).reduce(function(e,t){return e+(k.test(t)?w:""===t?O:j)},r)}function I(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=C({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:R([i,l.pathname]),pathnameBase:R([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=R([i,l.pathnameBase]))}return a}function S(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight(function(n,r,a){return Object(i.createElement)(c.Provider,{children:void 0!==r.route.element?r.route.element:Object(i.createElement)(l,null),value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})},null)}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,function(e,t){return r.push(t),"([^\\/]+)"});e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=Object(r.a)(n,2),a=i[0],o=i[1],s=t.match(a);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:o.reduce(function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e},{}),pathname:u,pathnameBase:c,pattern:e}}function A(e,t,n){var r,i="string"===typeof e?Object(a.f)(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var s=t.length-1;if(o.startsWith("..")){for(var u=o.split("/");".."===u[0];)u.shift(),s-=1;i.pathname=u.join("/")}r=s>=0?t[s]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Object(a.f)(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,s=n.hash,u=void 0===s?"":s;return{pathname:r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(r,t):t,search:D(o),hash:L(u)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!c.pathname.endsWith("/")&&(c.pathname+="/"),c}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var R=function(e){return e.join("/").replace(/\/\/+/g,"/")},P=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},D=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},L=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""}},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(17);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return f});n(10);var r=n(12),i=n(1),a=n(23),o=n(16);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var c=["onClick","reloadDocument","replace","state","target","to"];function l(e){var t=e.basename,n=e.children,s=e.window,u=Object(i.useRef)();null==u.current&&(u.current=Object(a.b)({window:s}));var c=u.current,l=Object(i.useState)({action:c.action,location:c.location}),f=Object(r.a)(l,2),h=f[0],d=f[1];return Object(i.useLayoutEffect)(function(){return c.listen(d)},[c]),Object(i.createElement)(o.b,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c})}var f=Object(i.forwardRef)(function(e,t){var n=e.onClick,r=e.reloadDocument,l=e.replace,f=void 0!==l&&l,h=e.state,d=e.target,p=e.to,v=u(e,c),m=Object(o.d)(p),y=function(e,t){var n=void 0===t?{}:t,r=n.target,s=n.replace,u=n.state,c=Object(o.f)(),l=Object(o.e)(),f=Object(o.g)(e);return Object(i.useCallback)(function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!s||Object(a.e)(l)===Object(a.e)(f);c(e,{replace:n,state:u})}},[l,c,f,s,u,r,e])}(p,{replace:f,state:h,target:d});return Object(i.createElement)("a",s({},v,{href:m,onClick:function(e){n&&n(e),e.defaultPrevented||r||y(e)},ref:t,target:d}))})},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return v});var r=n(0),i=n.n(r),a=n(15),o=n(4),s=n(12),u=n(10),c=n(2),l=n(3),f=n(6),h=function(){function e(t,n,r){Object(c.a)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Object(l.a)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),d="[DEFAULT]",p=function(){function e(t,n){Object(c.a)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Object(l.a)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new f.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:d})}catch(l){}var t,n=Object(u.a)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Object(s.a)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch(l){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Object(a.a)(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()})),Object(a.a)(t.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Object(u.a)(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var c=Object(s.a)(i.value,2),l=c[0],f=c[1];r===this.normalizeInstanceIdentifier(l)&&f.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===d?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.component?this.component.multipleInstances?e:d:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var v=function(){function e(t){Object(c.a)(this,e),this.name=t,this.providers=new Map}return Object(l.a)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new p(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return v}),n.d(t,"d",function(){return m});var r,i,a=n(10),o=n(2),s=n(3),u=n(5),c=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var l={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},f=i.INFO,h=(r={},Object(u.a)(r,i.DEBUG,"log"),Object(u.a)(r,i.VERBOSE,"log"),Object(u.a)(r,i.INFO,"info"),Object(u.a)(r,i.WARN,"warn"),Object(u.a)(r,i.ERROR,"error"),r),d=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=h[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},p=function(){function e(t){Object(o.a)(this,e),this.name=t,this._logLevel=f,this._logHandler=d,this._userLogHandler=null,c.push(this)}return Object(s.a)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?l[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.DEBUG].concat(t)),this._logHandler.apply(this,[this,i.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.VERBOSE].concat(t)),this._logHandler.apply(this,[this,i.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.INFO].concat(t)),this._logHandler.apply(this,[this,i.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.WARN].concat(t)),this._logHandler.apply(this,[this,i.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.ERROR].concat(t)),this._logHandler.apply(this,[this,i.ERROR].concat(t))}}]),e}();function v(e){c.forEach(function(t){t.setLogLevel(e)})}function m(e,t){var n,r=Object(a.a)(c);try{var o=function(){var r=n.value,a=null;t&&t.level&&(a=l[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var u=o.map(function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!==a&&void 0!==a?a:t.logLevel)&&e({level:i[n].toLowerCase(),message:u,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return pr}),n.d(t,"b",function(){return mr}),n.d(t,"c",function(){return vr}),n.d(t,"d",function(){return gr}),n.d(t,"e",function(){return yr}),n.d(t,"f",function(){return br}),n.d(t,"g",function(){return kr}),n.d(t,"h",function(){return hr}),n.d(t,"i",function(){return dr});var r,i=n(10),a=n(18),o=n(17),s=n(7),u=n(8),c=n(2),l=n(3),f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},h={},d=d||{},p=f||self;function v(){}function m(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function y(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),b=0;function k(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:w).apply(null,arguments)}function O(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function j(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function E(){this.s=this.s,this.o=this.o}var x={};E.prototype.s=!1,E.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++b)}(this);delete x[e]}},E.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var T=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},I=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function S(e){return Array.prototype.concat.apply([],arguments)}function C(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e){return/^[\s\xa0]*$/.test(e)}var N,R=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function P(e,t){return-1!=e.indexOf(t)}function D(e,t){return e<t?-1:e>t?1:0}e:{var L=p.navigator;if(L){var M=L.userAgent;if(M){N=M;break e}}N=""}function U(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function F(e){var t={};for(var n in e)t[n]=e[n];return t}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<V.length;a++)n=V[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function q(e){return q[" "](e),e}q[" "]=v;var z,H=P(N,"Opera"),W=P(N,"Trident")||P(N,"MSIE"),K=P(N,"Edge"),G=K||W,Q=P(N,"Gecko")&&!(P(N.toLowerCase(),"webkit")&&!P(N,"Edge"))&&!(P(N,"Trident")||P(N,"MSIE"))&&!P(N,"Edge"),Y=P(N.toLowerCase(),"webkit")&&!P(N,"Edge");function $(){var e=p.document;return e?e.documentMode:void 0}e:{var X="",J=function(){var e=N;return Q?/rv:([^\);]+)(\)|;)/.exec(e):K?/Edge\/([\d\.]+)/.exec(e):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Y?/WebKit\/(\S+)/.exec(e):H?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(J&&(X=J?J[1]:""),W){var Z=$();if(null!=Z&&Z>parseFloat(X)){z=String(Z);break e}}z=X}var ee,te={};function ne(){return function(e){var t=te;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}(function(){for(var e=0,t=R(String(z)).split("."),n=R("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||D(0==a[2].length,0==o[2].length)||D(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e})}if(p.document&&W){var re=$();ee=re||(parseInt(z,10)||void 0)}else ee=void 0;var ie=ee,ae=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{p.addEventListener("test",v,t),p.removeEventListener("test",v,t)}catch(n){}return e}();function oe(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function se(e,t){if(oe.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Q){e:{try{q(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ue[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&se.Z.h.call(this)}}oe.prototype.h=function(){this.defaultPrevented=!0},j(se,oe);var ue={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),le=0;function fe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++le,this.ca=this.fa=!1}function he(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function de(e){this.src=e,this.g={},this.h=0}function pe(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=T(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(he(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ve(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}de.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ve(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new fe(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var me="closure_lm_"+(1e6*Math.random()|0),ye={};function ge(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,a){if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);return null}r=Ee(r);return t&&t[ce]?t.O(n,r,y(i)?!!i.capture:!!i,a):be(t,n,r,!0,i,a)}(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ge(e,t[a],n,r,i);return null}return n=Ee(n),e&&e[ce]?e.N(t,n,y(r)?!!r.capture:!!r,i):be(e,t,n,!1,r,i)}function be(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=y(i)?!!i.capture:!!i,s=Oe(e);if(s||(e[me]=s=new de(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){var e=_e;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ae||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ke(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ce])pe(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Oe(t))?(pe(n,e),0==n.h&&(n.src=null,t[me]=null)):he(e)}}}function we(e){return e in ye?ye[e]:ye[e]="on"+e}function _e(e,t){if(e.ca)e=!0;else{t=new se(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ke(e),e=n.call(r,t)}return e}function Oe(e){return(e=e[me])instanceof de?e:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(e){return"function"===typeof e?e:(e[je]||(e[je]=function(t){return e.handleEvent(t)}),e[je])}function xe(){E.call(this),this.i=new de(this),this.P=this,this.I=null}function Te(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new oe(t,e);else if(t instanceof oe)t.target=t.target||e;else{var i=t;B(t=new oe(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ie(o,r,!0,t)&&i}if(i=Ie(o=t.g=e,r,!0,t)&&i,i=Ie(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ie(o=t.g=n[a],r,!1,t)&&i}function Ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&pe(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}j(xe,E),xe.prototype[ce]=!0,xe.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,a){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);else i=y(i)?!!i.capture:!!i,r=Ee(r),t&&t[ce]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=ve(o=t.g[n],r,i,a))&&(he(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.g[n],t.h--))):t&&(t=Oe(t))&&(n=t.g[n.toString()],t=-1,n&&(t=ve(n,r,i,a)),(r=-1<t?n[t]:null)&&ke(r))}(this,e,t,n,r)},xe.prototype.M=function(){if(xe.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)he(n[r]);delete t.g[e],t.h--}}this.I=null},xe.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},xe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Se=p.JSON.stringify;function Ce(){var e=Ue,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ae,Ne=function(){function e(){Object(c.a)(this,e),this.h=this.g=null}return Object(l.a)(e,[{key:"add",value:function(e,t){var n=Re.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Re=new(function(){function e(t,n){Object(c.a)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Object(l.a)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())(function(){return new Pe},function(e){return e.reset()}),Pe=function(){function e(){Object(c.a)(this,e),this.next=this.g=this.h=null}return Object(l.a)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function De(e){p.setTimeout(function(){throw e},0)}function Le(e,t){Ae||function(){var e=p.Promise.resolve(void 0);Ae=function(){e.then(Fe)}}(),Me||(Ae(),Me=!0),Ue.add(e,t)}var Me=!1,Ue=new Ne;function Fe(){for(var e;e=Ce();){try{e.h.call(e.g)}catch(n){De(n)}var t=Re;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Me=!1}function Ve(e,t){xe.call(this),this.h=e||1,this.g=t||p,this.j=_(this.kb,this),this.l=Date.now()}function Be(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qe(e,t,n){if("function"===typeof e)n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:p.setTimeout(e,t||0)}j(Ve,xe),(r=Ve.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Te(this,"tick"),this.da&&(Be(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Ve.Z.M.call(this),Be(this),delete this.g};var ze=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e,r){var i;return Object(c.a)(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Object(l.a)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=qe(function(){t.g=null,t.i&&(t.i=!1,e(t))},t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)}},{key:"M",value:function(){Object(a.a)(Object(o.a)(n.prototype),"M",this).call(this),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(E);function He(e){E.call(this),this.h=e,this.g={}}j(He,E);var We=[];function Ke(e,t,n,r){Array.isArray(n)||(n&&(We[0]=n.toString()),n=We);for(var i=0;i<n.length;i++){var a=ge(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ge(e){U(e.g,function(e,t){this.g.hasOwnProperty(t)&&ke(e)},e),e.g={}}function Qe(){this.g=!0}function Ye(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Se(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}He.prototype.M=function(){He.Z.M.call(this),Ge(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qe.prototype.Aa=function(){this.g=!1},Qe.prototype.info=function(){};var $e={},Xe=null;function Je(){return Xe=Xe||new xe}function Ze(e){oe.call(this,$e.Ma,e)}function et(e){var t=Je();Te(t,new Ze(t,e))}function tt(e,t){oe.call(this,$e.STAT_EVENT,e),this.stat=t}function nt(e){var t=Je();Te(t,new tt(t,e))}function rt(e,t){oe.call(this,$e.Na,e),this.size=t}function it(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){e()},t)}$e.Ma="serverreachability",j(Ze,oe),$e.STAT_EVENT="statevent",j(tt,oe),$e.Na="timingevent",j(rt,oe);var at={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ot={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function st(){}function ut(e){return e.h||(e.h=e.i())}function ct(){}st.prototype.h=null;var lt,ft={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ht(){oe.call(this,"d")}function dt(){oe.call(this,"c")}function pt(){}function vt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new He(this),this.P=yt,e=G?125:void 0,this.W=new Ve(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}j(ht,oe),j(dt,oe),j(pt,st),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},lt=new pt;var yt=45e3,gt={},bt={};function kt(e,t,n){e.K=1,e.v=zt(Mt(t)),e.s=n,e.U=!0,wt(e,null)}function wt(e,t){e.F=Date.now(),Et(e),e.A=Mt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),nn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new mt,e.g=ar(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ze(_(e.Ia,e,e.g),e.O)),Ke(e.V,e.g,"readystatechange",e.gb),t=e.H?F(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),et(1),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function _t(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ot(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=jt(e,n))==bt){4==t&&(e.o=4,nt(14),i=!1),Ye(e.j,e.m,null,"[Incomplete Response]");break}if(r==gt){e.o=4,nt(15),Ye(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ye(e.j,e.m,r,null),Ct(e,r)}_t(e)&&r!=bt&&r!=gt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,nt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xn(t),t.L=!0,nt(11))):(Ye(e.j,e.m,n,"[Invalid Chunked Response]"),St(e),It(e))}function jt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?bt:(n=Number(t.substring(n,r)),isNaN(n)?gt:(r+=1)+n>t.length?bt:(t=t.substr(r,n),e.C=r+n,t))}function Et(e){e.Y=Date.now()+e.P,xt(e,e.P)}function xt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=it(_(e.eb,e),t)}function Tt(e){e.B&&(p.clearTimeout(e.B),e.B=null)}function It(e){0==e.l.G||e.I||er(e.l,e)}function St(e){Tt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Be(e.W),Ge(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ct(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||fn(n.i,e)))if(n.I=e.N,!e.J&&fn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zn(n),qn(n)}$n(n),nt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=it(_(n.ab,n),6e3));if(1>=ln(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else nr(n,11)}else if((e.J||n.g==e)&&Zn(n),!A(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(P(l,"spdy")||P(l,"quic")||P(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(hn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,qt(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ir(r,r.H?r.la:null,r.W),d.J){dn(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Tt(p),Et(p)),r.g=d}else Yn(r);0<n.l.length&&Wn(n)}else"stop"!=a[0]&&"close"!=a[0]||nr(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?nr(n,7):Bn(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}et(4)}catch(a){}}function At(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(m(e)||"string"===typeof e)I(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(m(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(m(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Nt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Nt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Rt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Pt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Pt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=vt.prototype).setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;var t=this.L;t&&3==Ln(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{var t=Ln(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||G||this.g&&(this.h.h||this.g.ga()||Mn(this.g)))){this.I||4!=t||7==n||et(8==n||0>=r?3:2),Tt(this);var i=this.g.ba();this.N=i;t:if(_t(this)){var a=Mn(this.g);e="";var o=a.length,s=4==Ln(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){St(this),It(this);var u="";break t}this.h.i=new p.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,nt(12),St(this),It(this);break e}Ye(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ct(this,i)}this.U?(Ot(this,t,u),G&&this.i&&3==t&&(Ke(this.V,this.W,"tick",this.fb),this.W.start())):(Ye(this.j,this.m,u,null),Ct(this,u)),4==t&&St(this),this.i&&!this.I&&(4==t?er(this.l,this):(this.i=!1,Et(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,nt(12)):(this.o=0,nt(13)),St(this),It(this)}}}catch(t){}},r.fb=function(){if(this.g){var e=Ln(this.g),t=this.g.ga();this.C<t.length&&(Tt(this),Ot(this,e,t),this.i&&4!=e&&Et(this))}},r.cancel=function(){this.I=!0,St(this)},r.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(et(3),nt(17)),St(this),this.o=2,It(this)):xt(this,this.Y-e)},(r=Nt.prototype).R=function(){Rt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return Rt(this),this.g.concat()},r.get=function(e,t){return Pt(this.h,e)?this.h[e]:t},r.set=function(e,t){Pt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Dt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Lt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Lt){this.g=void 0!==t?t:e.g,Ut(this,e.j),this.s=e.s,Ft(this,e.i),Vt(this,e.m),this.l=e.l,t=e.h;var n=new Jt;n.i=t.i,t.g&&(n.g=new Nt(t.g),n.h=t.h),Bt(this,n),this.o=e.o}else e&&(n=String(e).match(Dt))?(this.g=!!t,Ut(this,n[1]||"",!0),this.s=Ht(n[2]||""),Ft(this,n[3]||"",!0),Vt(this,n[4]),this.l=Ht(n[5]||"",!0),Bt(this,n[6]||"",!0),this.o=Ht(n[7]||"")):(this.g=!!t,this.h=new Jt(null,this.g))}function Mt(e){return new Lt(e)}function Ut(e,t,n){e.j=n?Ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ft(e,t,n){e.i=n?Ht(t,!0):t}function Vt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Bt(e,t,n){t instanceof Jt?(e.h=t,function(e,t){t&&!e.j&&(Zt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(en(this,t),nn(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Wt(t,$t)),e.h=new Jt(t,e.g))}function qt(e,t,n){e.h.set(t,n)}function zt(e){return qt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Kt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wt(t,Gt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Wt(t,Gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wt(n,"/"==n.charAt(0)?Yt:Qt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wt(n,Xt)),e.join("")};var Gt=/[#\/\?@]/g,Qt=/[#\?:]/g,Yt=/[#\?]/g,$t=/[#\?@]/g,Xt=/#/g;function Jt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zt(e){e.g||(e.g=new Nt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function en(e,t){Zt(e),t=rn(e,t),Pt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Pt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Rt(e)))}function tn(e,t){return Zt(e),t=rn(e,t),Pt(e.g.h,t)}function nn(e,t,n){en(e,t),0<n.length&&(e.i=null,e.g.set(rn(e,t),C(n)),e.h+=n.length)}function rn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Jt.prototype).add=function(e,t){Zt(this),this.i=null,e=rn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Zt(this),this.g.forEach(function(n,r){I(n,function(n){e.call(t,n,r,this)},this)},this)},r.T=function(){Zt(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},r.R=function(e){Zt(this);var t=[];if("string"===typeof e)tn(this,e)&&(t=S(t,this.g.get(rn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=S(t,e[n])}return t},r.set=function(e,t){return Zt(this),this.i=null,tn(this,e=rn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var an=Object(l.a)(function e(t,n){Object(c.a)(this,e),this.h=t,this.g=n});function on(e){this.l=e||un,p.PerformanceNavigationTiming?e=0<(e=p.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(p.g&&p.g.Ea&&p.g.Ea()&&p.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sn,un=10;function cn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ln(e){return e.h?1:e.g?e.g.size:0}function fn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function hn(e,t){e.g?e.g.add(t):e.h=t}function dn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function pn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Object(i.a)(e.g.values());try{for(r.s();!(t=r.n()).done;){var a=t.value;n=n.concat(a.D)}}catch(o){r.e(o)}finally{r.f()}return n}return C(e.i)}function vn(){}function mn(){this.g=new vn}function yn(e,t,n){var r=n||"";try{At(e,function(e,n){var i=e;y(e)&&(i=Se(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function gn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function bn(e){this.l=e.$b||null,this.j=e.ib||!1}function kn(e,t){xe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=wn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}on.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Object(i.a)(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},vn.prototype.stringify=function(e){return p.JSON.stringify(e,void 0)},vn.prototype.parse=function(e){return p.JSON.parse(e,void 0)},j(bn,st),bn.prototype.g=function(){return new kn(this.l,this.j)},bn.prototype.i=(sn={},function(){return sn}),j(kn,xe);var wn=0;function _n(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function On(e){e.readyState=4,e.l=null,e.j=null,e.A=null,jn(e)}function jn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=kn.prototype).open=function(e,t){if(this.readyState!=wn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,jn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||p).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,On(this)),this.readyState=wn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof p.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_n(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?On(this):jn(this),3==this.readyState&&_n(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,On(this))},r.Ta=function(e){this.g&&(this.response=e,On(this))},r.ha=function(){this.g&&On(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var En=p.JSON.parse;function xn(e){xe.call(this),this.headers=new Nt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tn,this.K=this.L=!1}j(xn,xe);var Tn="",In=/^https?$/i,Sn=["POST","PUT"];function Cn(e){return"content-type"==e.toLowerCase()}function An(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Nn(e),Pn(e)}function Nn(e){e.D||(e.D=!0,Te(e,"complete"),Te(e,"error"))}function Rn(e){if(e.h&&"undefined"!=typeof d&&(!e.C[1]||4!=Ln(e)||2!=e.ba()))if(e.v&&4==Ln(e))qe(e.Fa,0,e);else if(Te(e,"readystatechange"),4==Ln(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Dt)[1]||null;if(!a&&p.self&&p.self.location){var o=p.self.location.protocol;a=o.substr(0,o.length-1)}i=!In.test(a?a.toLowerCase():"")}t=i}if(t)Te(e,"complete"),Te(e,"success");else{e.m=6;try{var s=2<Ln(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Nn(e)}}finally{Pn(e)}}}function Pn(e,t){if(e.g){Dn(e);var n=e.g,r=e.C[0]?v:null;e.g=null,e.C=null,t||Te(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Dn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(p.clearTimeout(e.A),e.A=null)}function Ln(e){return e.g?e.g.readyState:0}function Mn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Tn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Un(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return U(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):qt(e,t,n))}function Fn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vn(e){this.za=0,this.l=[],this.h=new Qe,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fn("baseRetryDelayMs",5e3,e),this.$a=Fn("retryDelaySeedMs",1e4,e),this.Ya=Fn("forwardChannelMaxRetries",2,e),this.ra=Fn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new on(e&&e.concurrentRequestLimit),this.Ca=new mn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Bn(e){if(zn(e),3==e.G){var t=e.V++,n=Mt(e.F);qt(n,"SID",e.J),qt(n,"RID",t),qt(n,"TYPE","terminate"),Gn(e,n),(t=new vt(e,e.h,t,void 0)).K=2,t.v=zt(Mt(n)),n=!1,p.navigator&&p.navigator.sendBeacon&&(n=p.navigator.sendBeacon(t.v.toString(),"")),!n&&p.Image&&((new Image).src=t.v,n=!0),n||(t.g=ar(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Et(t)}rr(e)}function qn(e){e.g&&(Xn(e),e.g.cancel(),e.g=null)}function zn(e){qn(e),e.u&&(p.clearTimeout(e.u),e.u=null),Zn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&p.clearTimeout(e.m),e.m=null)}function Hn(e,t){e.l.push(new an(e.Za++,t)),3==e.G&&Wn(e)}function Wn(e){cn(e.i)||e.m||(e.m=!0,Le(e.Ha,e),e.C=0)}function Kn(e,t){var n;n=t?t.m:e.V++;var r=Mt(e.F);qt(r,"SID",e.J),qt(r,"RID",n),qt(r,"AID",e.U),Gn(e,r),e.o&&e.s&&Un(r,e.o,e.s),n=new vt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Qn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),hn(e.i,n),kt(n,r,t)}function Gn(e,t){e.j&&At({},function(e,n){qt(t,n,e)})}function Qn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?_(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{yn(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Yn(e){e.g||e.u||(e.Y=1,Le(e.Ga,e),e.A=0)}function $n(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=it(_(e.Ga,e),tr(e,e.A)),e.A++,!0)}function Xn(e){null!=e.B&&(p.clearTimeout(e.B),e.B=null)}function Jn(e){e.g=new vt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Mt(e.oa);qt(t,"RID","rpc"),qt(t,"SID",e.J),qt(t,"CI",e.N?"0":"1"),qt(t,"AID",e.U),Gn(e,t),qt(t,"TYPE","xmlhttp"),e.o&&e.s&&Un(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=zt(Mt(t)),n.s=null,n.U=!0,wt(n,e)}function Zn(e){null!=e.v&&(p.clearTimeout(e.v),e.v=null)}function er(e,t){var n=null;if(e.g==t){Zn(e),Xn(e),e.g=null;var r=2}else{if(!fn(e.i,t))return;n=t.D,dn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Te(r=Je(),new rt(r,n,t,i)),Wn(e)}else Yn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ln(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=it(_(e.Ha,e,t),tr(e,e.C)),e.C++,!0))}(e,t)||2==r&&$n(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:nr(e,5);break;case 4:nr(e,10);break;case 3:nr(e,6);break;default:nr(e,2)}}function tr(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function nr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=_(e.jb,e);n||(n=new Lt("//www.google.com/images/cleardot.gif"),p.location&&"http"==p.location.protocol||Ut(n,"https"),zt(n)),function(e,t){var n=new Qe;if(p.Image){var r=new Image;r.onload=O(gn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=O(gn,n,r,"TestLoadImage: error",!1,t),r.onabort=O(gn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=O(gn,n,r,"TestLoadImage: timeout",!1,t),p.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else nt(2);e.G=0,e.j&&e.j.va(t),rr(e),zn(e)}function rr(e){e.G=0,e.I=-1,e.j&&(0==pn(e.i).length&&0==e.l.length||(e.i.i.length=0,C(e.l),e.l.length=0),e.j.ua())}function ir(e,t,n){var r=function(e){return e instanceof Lt?Mt(e):new Lt(e,void 0)}(n);if(""!=r.i)t&&Ft(r,t+"."+r.i),Vt(r,r.m);else{var i=p.location;r=function(e,t,n,r){var i=new Lt(null,void 0);return e&&Ut(i,e),t&&Ft(i,t),n&&Vt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&U(e.aa,function(e,t){qt(r,t,e)}),t=e.D,n=e.sa,t&&n&&qt(r,t,n),qt(r,"VER",e.ma),Gn(e,r),r}function ar(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new xn(new bn({ib:!0})):new xn(e.qa)).L=e.H,t}function or(){}function sr(){if(W&&!(10<=Number(ie)))throw Error("Environmental error: no available transport.")}function ur(e,t){xe.call(this),this.g=new Vn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!A(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fr(this)}function cr(e){ht.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function lr(){dt.call(this),this.status=1}function fr(e){this.g=e}(r=xn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lt.g(),this.C=this.u?ut(this.u):ut(lt),this.g.onreadystatechange=_(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void An(this,a)}e=n||"";var i=new Nt(this.headers);r&&At(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=Cn,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=p.FormData&&e instanceof p.FormData,!(0<=T(Sn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dn(this),0<this.B&&((this.K=function(e){return W&&ne()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_(this.pa,this)):this.A=qe(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){An(this,a)}},r.pa=function(){"undefined"!=typeof d&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Te(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Te(this,"complete"),Te(this,"abort"),Pn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pn(this,!0)),xn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?Rn(this):this.cb())},r.cb=function(){Rn(this)},r.ba=function(){try{return 2<Ln(this)?this.g.status:-1}catch(sn){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(sn){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),En(t)}},r.Da=function(){return this.m},r.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Vn.prototype).ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new vt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?B(n=F(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Qn(this,t,r),qt(i=Mt(this.F),"RID",e),qt(i,"CVER",22),this.D&&qt(i,"X-HTTP-Session-Id",this.D),Gn(this,i),this.o&&n&&Un(i,this.o,n),hn(this.i,t),this.Ra&&qt(i,"TYPE","init"),this.ja?(qt(i,"$req",r),qt(i,"SID","null"),t.$=!0,kt(t,i,null)):kt(t,i,r),this.G=2}}else 3==this.G&&(e?Kn(this,e):0==this.l.length||cn(this.i)||Kn(this))},r.Ga=function(){if(this.u=null,Jn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=it(_(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,nt(10),qn(this),Jn(this))},r.ab=function(){null!=this.v&&(this.v=null,qn(this),$n(this),nt(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),nt(2)):(this.h.info("Failed to ping google.com"),nt(1))},(r=or.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},sr.prototype.g=function(e,t){return new ur(e,t)},j(ur,xe),ur.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Le(_(e.hb,e,t))),nt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ir(e,null,e.W),Wn(e)},ur.prototype.close=function(){Bn(this.g)},ur.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Hn(this.g,t)}else this.v?((t={}).__data__=Se(e),Hn(this.g,t)):Hn(this.g,e)},ur.prototype.M=function(){this.g.j=null,delete this.j,Bn(this.g),delete this.g,ur.Z.M.call(this)},j(cr,ht),j(lr,dt),j(fr,or),fr.prototype.xa=function(){Te(this.g,"a")},fr.prototype.wa=function(e){Te(this.g,new cr(e))},fr.prototype.va=function(e){Te(this.g,new lr(e))},fr.prototype.ua=function(){Te(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,ur.prototype.send=ur.prototype.u,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,at.NO_ERROR=0,at.TIMEOUT=8,at.HTTP_ERROR=6,ot.COMPLETE="complete",ct.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",xe.prototype.listen=xe.prototype.N,xn.prototype.listenOnce=xn.prototype.O,xn.prototype.getLastError=xn.prototype.La,xn.prototype.getLastErrorCode=xn.prototype.Da,xn.prototype.getStatus=xn.prototype.ba,xn.prototype.getResponseJson=xn.prototype.Qa,xn.prototype.getResponseText=xn.prototype.ga,xn.prototype.send=xn.prototype.ea;var hr=h.createWebChannelTransport=function(){return new sr},dr=h.getStatEventTarget=function(){return Je()},pr=h.ErrorCode=at,vr=h.EventType=ot,mr=h.Event=$e,yr=h.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gr=h.FetchXmlHttpFactory=bn,br=h.WebChannel=ct,kr=h.XhrIo=xn}).call(this,n(37))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return f});var i,a=i||(i={});a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE";var o=function(e){return e};function s(e){e.preventDefault(),e.returnValue=""}function u(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter(function(e){return e!==t})}},call:function(t){e.forEach(function(e){return e&&e(t)})}}}function c(){return Math.random().toString(36).substr(2,8)}function l(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function f(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function h(e){function t(){var e=p.location,t=v.state||{};return[t.idx,o({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:l(e)}function a(e,t){return void 0===t&&(t=null),o(r({pathname:b.pathname,hash:"",search:""},"string"===typeof e?f(e):e,{state:t,key:c()}))}function h(e){y=e,e=t(),g=e[0],b=e[1],k.call({action:y,location:b})}function d(e){v.go(e)}void 0===e&&(e={});var p=void 0===(e=e.window)?document.defaultView:e,v=p.history,m=null;p.addEventListener("popstate",function(){if(m)w.call(m),m=null;else{var e=i.Pop,n=t(),r=n[0];if(n=n[1],w.length){if(null!=r){var a=g-r;a&&(m={action:e,location:n,retry:function(){d(-1*a)}},d(a))}}else h(e)}});var y=i.Pop,g=(e=t())[0],b=e[1],k=u(),w=u();return null==g&&(g=0,v.replaceState(r({},v.state,{idx:g}),"")),{get action(){return y},get location(){return b},createHref:n,push:function e(t,r){var o=i.Push,s=a(t,r);if(!w.length||(w.call({action:o,location:s,retry:function(){e(t,r)}}),0)){var u=[{usr:s.state,key:s.key,idx:g+1},n(s)];s=u[0],u=u[1];try{v.pushState(s,"",u)}catch(c){p.location.assign(u)}h(o)}},replace:function e(t,r){var o=i.Replace,s=a(t,r);w.length&&(w.call({action:o,location:s,retry:function(){e(t,r)}}),1)||(s=[{usr:s.state,key:s.key,idx:g},n(s)],v.replaceState(s[0],"",s[1]),h(o))},go:d,back:function(){d(-1)},forward:function(){d(1)},listen:function(e){return k.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&p.addEventListener("beforeunload",s),function(){t(),w.length||p.removeEventListener("beforeunload",s)}}}}function d(e){function t(){var e=f(v.location.hash.substr(1)),t=e.pathname,n=e.search;e=e.hash;var r=m.state||{};return[r.idx,o({pathname:void 0===t?"/":t,search:void 0===n?"":n,hash:void 0===e?"":e,state:r.usr||null,key:r.key||"default"})]}function n(){if(y)_.call(y),y=null;else{var e=i.Pop,n=t(),r=n[0];if(n=n[1],_.length){if(null!=r){var a=b-r;a&&(y={action:e,location:n,retry:function(){p(-1*a)}},p(a))}}else d(e)}}function a(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=-1===(n=(t=v.location.href).indexOf("#"))?t:t.slice(0,n)),n+"#"+("string"===typeof e?e:l(e))}function h(e,t){return void 0===t&&(t=null),o(r({pathname:k.pathname,hash:"",search:""},"string"===typeof e?f(e):e,{state:t,key:c()}))}function d(e){g=e,e=t(),b=e[0],k=e[1],w.call({action:g,location:k})}function p(e){m.go(e)}void 0===e&&(e={});var v=void 0===(e=e.window)?document.defaultView:e,m=v.history,y=null;v.addEventListener("popstate",n),v.addEventListener("hashchange",function(){l(t()[1])!==l(k)&&n()});var g=i.Pop,b=(e=t())[0],k=e[1],w=u(),_=u();return null==b&&(b=0,m.replaceState(r({},m.state,{idx:b}),"")),{get action(){return g},get location(){return k},createHref:a,push:function e(t,n){var r=i.Push,o=h(t,n);if(!_.length||(_.call({action:r,location:o,retry:function(){e(t,n)}}),0)){var s=[{usr:o.state,key:o.key,idx:b+1},a(o)];o=s[0],s=s[1];try{m.pushState(o,"",s)}catch(u){v.location.assign(s)}d(r)}},replace:function e(t,n){var r=i.Replace,o=h(t,n);_.length&&(_.call({action:r,location:o,retry:function(){e(t,n)}}),1)||(o=[{usr:o.state,key:o.key,idx:b},a(o)],m.replaceState(o[0],"",o[1]),d(r))},go:p,back:function(){p(-1)},forward:function(){p(1)},listen:function(e){return w.push(e)},block:function(e){var t=_.push(e);return 1===_.length&&v.addEventListener("beforeunload",s),function(){t(),_.length||v.removeEventListener("beforeunload",s)}}}}function p(e){function t(e,t){return void 0===t&&(t=null),o(r({pathname:m.pathname,search:"",hash:""},"string"===typeof e?f(e):e,{state:t,key:c()}))}function n(e,t,n){return!g.length||(g.call({action:e,location:t,retry:n}),!1)}function a(e,t){v=e,m=t,y.call({action:v,location:m})}function s(e){var t=Math.min(Math.max(p+e,0),d.length-1),r=i.Pop,o=d[t];n(r,o,function(){s(e)})&&(p=t,a(r,o))}void 0===e&&(e={});var h=e;e=h.initialEntries,h=h.initialIndex;var d=(void 0===e?["/"]:e).map(function(e){return o(r({pathname:"/",search:"",hash:"",state:null,key:c()},"string"===typeof e?f(e):e))}),p=Math.min(Math.max(null==h?d.length-1:h,0),d.length-1),v=i.Pop,m=d[p],y=u(),g=u();return{get index(){return p},get action(){return v},get location(){return m},createHref:function(e){return"string"===typeof e?e:l(e)},push:function e(r,o){var s=i.Push,u=t(r,o);n(s,u,function(){e(r,o)})&&(p+=1,d.splice(p,d.length,u),a(s,u))},replace:function e(r,o){var s=i.Replace,u=t(r,o);n(s,u,function(){e(r,o)})&&(d[p]=u,a(s,u))},go:s,back:function(){s(-1)},forward:function(){s(1)},listen:function(e){return y.push(e)},block:function(e){return g.push(e)}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r,i=n(5),a=n(2),o=n(3),s=n(6),u=n(20),c=n(14),l=n(21),f=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.firebase=n,Object(c._addComponent)(t,new u.a("app-compat",function(){return r},"PUBLIC")),this.container=t.container}return Object(o.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise(function(t){e._delegate.checkDestroyed(),t()}).then(function(){return e.firebase.INTERNAL.removeApp(e.name),Object(c.deleteApp)(e._delegate)})}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Object(c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Object(c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),h=(r={},Object(i.a)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(i.a)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new s.b("app-compat","Firebase",h);var p=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.initializeApp(r,i);if(Object(s.e)(t,a.name))return t[a.name];var o=new e(a,n);return t[a.name]=o,o},app:r,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:function(t){var i=t.name,a=i.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[a])throw d.create("invalid-app-argument",{appName:i});return e[a]()};void 0!==t.serviceProps&&Object(s.i)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,i),n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:c}};function r(e){if(e=e||c._DEFAULT_ENTRY_NAME,!Object(s.e)(t,e))throw d.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),r.App=e,n}(f);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(s.i)(t,e)},createSubscribe:s.g,ErrorFactory:s.b,deepExtend:s.i}),t}(),v=new l.b("@firebase/app-compat"),m="@firebase/app-compat",y="0.1.16";if(Object(s.m)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b,k=p;Object(c.registerVersion)(m,y,b)},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){var r=n(39),i=n(1),a=n.n(i),o=n(49),s=n.n(o),u=n(50),c=n(51),l=n(41),f=n(40),h=n.n(f);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},v=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},m=Object.freeze([]),y=Object.freeze({});function g(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function k(e){return e&&"string"==typeof e.styledComponentId}var w="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_ATTR)||"data-styled",_="undefined"!=typeof window&&"HTMLElement"in window,O=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY));function j(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var E=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&j(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),x=new Map,T=new Map,I=1,S=function(e){if(x.has(e))return x.get(e);for(;T.has(I);)I++;var t=I++;return x.set(e,t),T.set(t,e),t},C=function(e){return T.get(e)},A=function(e,t){t>=I&&(I=t+1),x.set(e,t),T.set(t,e)},N="style["+w+'][data-styled-version="5.3.3"]',R=new RegExp("^"+w+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),P=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},D=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(R);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(A(c,u),P(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},L=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},M=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(w))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(w,"active"),r.setAttribute("data-styled-version","5.3.3");var o=L();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},U=function(){function e(e){var t=this.element=M(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}j(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),F=function(){function e(e){var t=this.element=M(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),V=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),B=_,q={isServer:!_,useCSSOMInjection:!O},z=function(){function e(e,t,n){void 0===e&&(e=y),void 0===t&&(t={}),this.options=d({},q,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&_&&B&&(B=!1,function(e){for(var t=document.querySelectorAll(N),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(w)&&(D(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return S(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(d({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new V(i):r?new U(i):new F(i),new E(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(S(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(S(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(S(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=C(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=w+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach(function(e){e.length>0&&(c+=e+",")}),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),H=/(a)(d)/gi,W=function(e){return String.fromCharCode(e+(e>25?39:97))};function K(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=W(t%52)+n;return(W(t%52)+n).replace(H,"$1-$2")}var G=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Q=function(e){return G(5381,e)};function Y(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(g(n)&&!k(n))return!1}return!0}var $=Q("5.3.3"),X=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Y(e),this.componentId=t,this.baseHash=G($,t),this.baseStyle=n,z.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=ve(this.rules,e,t,n).join(""),o=K(G(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=G(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=ve(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=G(c,p+f),l+=p}}if(l){var v=K(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),J=/^\s*\/\/.*$/gm,Z=[":","[",".","#"];function ee(e){var t,n,r,i,a=void 0===e?y:e,o=a.options,s=void 0===o?y:o,c=a.plugins,l=void 0===c?m:c,f=new u.a(s),h=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}(function(e){h.push(e)}),p=function(e,r,a){return 0===r&&-1!==Z.indexOf(a[n.length])||a.match(i)?e:"."+t};function v(e,a,o,s){void 0===s&&(s="&");var u=e.replace(J,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),f(o||!a?"":a,c)}return f.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=h;return h=[],t}}])),v.hash=l.length?l.reduce(function(e,t){return t.name||j(15),G(e,t.name)},5381).toString():"",v}var te=a.a.createContext(),ne=(te.Consumer,a.a.createContext()),re=(ne.Consumer,new z),ie=ee();function ae(){return Object(i.useContext)(te)||re}function oe(){return Object(i.useContext)(ne)||ie}function se(e){var t=Object(i.useState)(e.stylisPlugins),n=t[0],r=t[1],o=ae(),u=Object(i.useMemo)(function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target]),c=Object(i.useMemo)(function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:n})},[e.disableVendorPrefixes,n]);return Object(i.useEffect)(function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)},[e.stylisPlugins]),a.a.createElement(te.Provider,{value:u},a.a.createElement(ne.Provider,{value:c},e.children))}var ue=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ie);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return j(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ie),this.name+e.hash},e}(),ce=/([A-Z])/,le=/([A-Z])/g,fe=/^ms-/,he=function(e){return"-"+e.toLowerCase()};function de(e){return ce.test(e)?e.replace(le,he).replace(fe,"-ms-"):e}var pe=function(e){return null==e||!1===e||""===e};function ve(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=ve(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return pe(e)?"":k(e)?"."+e.styledComponentId:g(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:ve(e(t),t,n,r):e instanceof ue?n?(e.inject(n,r),e.getName(r)):e:v(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!pe(t[o])&&(Array.isArray(t[o])&&t[o].isCss||g(t[o])?a.push(de(o)+":",t[o],";"):v(t[o])?a.push.apply(a,e(t[o],o)):a.push(de(o)+": "+(r=o,null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in c.a?String(i).trim():i+"px")+";"));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var me=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ye(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return g(e)||v(e)?me(ve(p(m,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:me(ve(p(e,n)))}new Set;var ge=function(e,t,n){return void 0===n&&(n=y),e.theme!==n.theme&&e.theme||t||n.theme},be=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ke=/(^-|-$)/g;function we(e){return e.replace(be,"-").replace(ke,"")}var _e=function(e){return K(Q(e)>>>0)};function Oe(e){return"string"==typeof e&&!0}var je=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ee=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function xe(e,t,n){var r=e[n];je(t)&&je(r)?Te(r,t):e[n]=t}function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(je(o))for(var s in o)Ee(s)&&xe(e,o[s],s)}return e}var Ie=a.a.createContext();Ie.Consumer;var Se={};function Ce(e,t,n){var r=k(e),o=!Oe(e),s=t.attrs,u=void 0===s?m:s,c=t.componentId,f=void 0===c?function(e,t){var n="string"!=typeof e?"sc":we(e);Se[n]=(Se[n]||0)+1;var r=n+"-"+_e("5.3.3"+n+Se[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):c,p=t.displayName,v=void 0===p?function(e){return Oe(e)?"styled."+e:"Styled("+b(e)+")"}(e):p,w=t.displayName&&t.componentId?we(t.displayName)+"-"+t.componentId:t.componentId||f,_=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,O=t.shouldForwardProp;r&&e.shouldForwardProp&&(O=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var j,E=new X(n,w,r?e.componentStyle:void 0),x=E.isStatic&&0===u.length,T=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,f=e.styledComponentId,h=e.target,p=function(e,t,n){void 0===e&&(e=y);var r=d({},t,{theme:e}),i={};return n.forEach(function(e){var t,n,a,o=e;for(t in g(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]}),[r,i]}(ge(t,Object(i.useContext)(Ie),s)||y,t,a),v=p[0],m=p[1],b=function(e,t,n,r){var i=ae(),a=oe();return t?e.generateAndInjectStyles(y,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,v),k=n,w=m.$as||t.$as||m.as||t.as||h,_=Oe(w),O=m!==t?d({},t,{},m):t,j={};for(var E in O)"$"!==E[0]&&"as"!==E&&("forwardedAs"===E?j.as=O[E]:(c?c(E,l.a,w):!_||Object(l.a)(E))&&(j[E]=O[E]));return t.style&&m.style!==t.style&&(j.style=d({},t.style,{},m.style)),j.className=Array.prototype.concat(u,f,b!==f?b:null,t.className,m.className).filter(Boolean).join(" "),j.ref=k,Object(i.createElement)(w,j)}(j,e,t,x)};return T.displayName=v,(j=a.a.forwardRef(T)).attrs=_,j.componentStyle=E,j.displayName=v,j.shouldForwardProp=O,j.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,j.styledComponentId=w,j.target=r?e.target:e,j.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Oe(e)?e:we(b(e)));return Ce(e,d({},i,{attrs:_,componentId:a}),n)},Object.defineProperty(j,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Te({},e.defaultProps,t):t}}),j.toString=function(){return"."+j.styledComponentId},o&&h()(j,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),j}var Ae=function(e){return function e(t,n,i){if(void 0===i&&(i=y),!Object(r.isValidElementType)(n))return j(1,String(n));var a=function(){return t(n,i,ye.apply(void 0,arguments))};return a.withConfig=function(r){return e(t,n,d({},i,{},r))},a.attrs=function(r){return e(t,n,d({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},a}(Ce,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Ae[e]=Ae(e)});!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Y(e),z.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(ve(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&z.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=L();return"<style "+[n&&'nonce="'+n+'"',w+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?j(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return j(2);var n=((t={})[w]="",t["data-styled-version"]="5.3.3",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=L();return r&&(n.nonce=r),[a.a.createElement("style",d({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new z({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?j(2):a.a.createElement(se,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return j(3)}}();t.a=Ae}).call(this,n(45))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(31);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(29),i=n(33);function a(e,t,n){return(a=Object(i.a)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a}).apply(null,arguments)}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(24);n.d(t,"a",function(){return r.a});r.a.registerVersion("firebase","9.6.5","app-compat")},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",function(){return r})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(56)},function(e,t,n){"use strict";e.exports=n(60)},function(e,t,n){"use strict";var r=n(61),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});t.a=i},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){o=r(n);for(var l=0;l<o.length;l++)a.call(n,o[l])&&(s[o[l]]=n[o[l]])}}return s}},,function(e,t,n){},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){e.exports=n(68)()},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"popperGenerator",function(){return Ve}),n.d(r,"detectOverflow",function(){return Te}),n.d(r,"createPopperBase",function(){return qe}),n.d(r,"createPopper",function(){return ze}),n.d(r,"createPopperLite",function(){return He}),n.d(r,"top",function(){return p}),n.d(r,"bottom",function(){return v}),n.d(r,"right",function(){return m}),n.d(r,"left",function(){return y}),n.d(r,"auto",function(){return g}),n.d(r,"basePlacements",function(){return b}),n.d(r,"start",function(){return k}),n.d(r,"end",function(){return w}),n.d(r,"clippingParents",function(){return _}),n.d(r,"viewport",function(){return O}),n.d(r,"popper",function(){return j}),n.d(r,"reference",function(){return E}),n.d(r,"variationPlacements",function(){return x}),n.d(r,"placements",function(){return T}),n.d(r,"beforeRead",function(){return I}),n.d(r,"read",function(){return S}),n.d(r,"afterRead",function(){return C}),n.d(r,"beforeMain",function(){return A}),n.d(r,"main",function(){return N}),n.d(r,"afterMain",function(){return R}),n.d(r,"beforeWrite",function(){return P}),n.d(r,"write",function(){return D}),n.d(r,"afterWrite",function(){return L}),n.d(r,"modifierPhases",function(){return M}),n.d(r,"applyStyles",function(){return z}),n.d(r,"arrow",function(){return ue}),n.d(r,"computeStyles",function(){return he}),n.d(r,"eventListeners",function(){return pe}),n.d(r,"flip",function(){return Ie}),n.d(r,"hide",function(){return Ae}),n.d(r,"offset",function(){return Ne}),n.d(r,"popperOffsets",function(){return Re}),n.d(r,"preventOverflow",function(){return Pe});var i=n(18),a=n(17),o=n(13),s=n(5),u=n(15),c=n(7),l=n(8),f=n(2),h=n(3),d=n(12),p="top",v="bottom",m="right",y="left",g="auto",b=[p,v,m,y],k="start",w="end",_="clippingParents",O="viewport",j="popper",E="reference",x=b.reduce(function(e,t){return e.concat([t+"-"+k,t+"-"+w])},[]),T=[].concat(b,[g]).reduce(function(e,t){return e.concat([t,t+"-"+k,t+"-"+w])},[]),I="beforeRead",S="read",C="afterRead",A="beforeMain",N="main",R="afterMain",P="beforeWrite",D="write",L="afterWrite",M=[I,S,C,A,N,R,P,D,L];function U(e){return e?(e.nodeName||"").toLowerCase():null}function F(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function V(e){return e instanceof F(e).Element||e instanceof Element}function B(e){return e instanceof F(e).HTMLElement||e instanceof HTMLElement}function q(e){return"undefined"!==typeof ShadowRoot&&(e instanceof F(e).ShadowRoot||e instanceof ShadowRoot)}var z={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];B(i)&&U(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});B(r)&&U(r)&&(Object.assign(r.style,a),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};function H(e){return e.split("-")[0]}var W=Math.max,K=Math.min,G=Math.round;function Q(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(B(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=G(n.width)/o||1),a>0&&(i=G(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Y(e){var t=Q(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function $(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&q(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function X(e){return F(e).getComputedStyle(e)}function J(e){return["table","td","th"].indexOf(U(e))>=0}function Z(e){return((V(e)?e.ownerDocument:e.document)||window.document).documentElement}function ee(e){return"html"===U(e)?e:e.assignedSlot||e.parentNode||(q(e)?e.host:null)||Z(e)}function te(e){return B(e)&&"fixed"!==X(e).position?e.offsetParent:null}function ne(e){for(var t=F(e),n=te(e);n&&J(n)&&"static"===X(n).position;)n=te(n);return n&&("html"===U(n)||"body"===U(n)&&"static"===X(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&B(e)&&"fixed"===X(e).position)return null;for(var n=ee(e);B(n)&&["html","body"].indexOf(U(n))<0;){var r=X(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function re(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ie(e,t,n){return W(e,K(t,n))}function ae(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function oe(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}var se=function(e,t){return ae("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:oe(e,b))};var ue={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=H(n.placement),u=re(s),c=[y,m].indexOf(s)>=0?"height":"width";if(a&&o){var l=se(i.padding,n),f=Y(a),h="y"===u?p:y,d="y"===u?v:m,g=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],b=o[u]-n.rects.reference[u],k=ne(a),w=k?"y"===u?k.clientHeight||0:k.clientWidth||0:0,_=g/2-b/2,O=l[h],j=w-f[c]-l[d],E=w/2-f[c]/2+_,x=ie(O,E,j),T=u;n.modifiersData[r]=((t={})[T]=x,t.centerOffset=x-E,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&$(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ce(e){return e.split("-")[1]}var le={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fe(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,g=o.y,b=void 0===g?0:g,k="function"===typeof l?l({x:d,y:b}):{x:d,y:b};d=k.x,b=k.y;var _=o.hasOwnProperty("x"),O=o.hasOwnProperty("y"),j=y,E=p,x=window;if(c){var T=ne(n),I="clientHeight",S="clientWidth";if(T===F(n)&&"static"!==X(T=Z(n)).position&&"absolute"===s&&(I="scrollHeight",S="scrollWidth"),T=T,i===p||(i===y||i===m)&&a===w)E=v,b-=(f&&x.visualViewport?x.visualViewport.height:T[I])-r.height,b*=u?1:-1;if(i===y||(i===p||i===v)&&a===w)j=m,d-=(f&&x.visualViewport?x.visualViewport.width:T[S])-r.width,d*=u?1:-1}var C,A=Object.assign({position:s},c&&le),N=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:G(t*r)/r||0,y:G(n*r)/r||0}}({x:d,y:b}):{x:d,y:b};return d=N.x,b=N.y,u?Object.assign({},A,((C={})[E]=O?"0":"",C[j]=_?"0":"",C.transform=(x.devicePixelRatio||1)<=1?"translate("+d+"px, "+b+"px)":"translate3d("+d+"px, "+b+"px, 0)",C)):Object.assign({},A,((t={})[E]=O?b+"px":"",t[j]=_?d+"px":"",t.transform="",t))}var he={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,c={placement:H(t.placement),variation:ce(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,fe(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,fe(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},de={passive:!0};var pe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=F(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach(function(e){e.addEventListener("scroll",n.update,de)}),s&&u.addEventListener("resize",n.update,de),function(){a&&c.forEach(function(e){e.removeEventListener("scroll",n.update,de)}),s&&u.removeEventListener("resize",n.update,de)}},data:{}},ve={left:"right",right:"left",bottom:"top",top:"bottom"};function me(e){return e.replace(/left|right|bottom|top/g,function(e){return ve[e]})}var ye={start:"end",end:"start"};function ge(e){return e.replace(/start|end/g,function(e){return ye[e]})}function be(e){var t=F(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ke(e){return Q(Z(e)).left+be(e).scrollLeft}function we(e){var t=X(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function _e(e,t){var n;void 0===t&&(t=[]);var r=function e(t){return["html","body","#document"].indexOf(U(t))>=0?t.ownerDocument.body:B(t)&&we(t)?t:e(ee(t))}(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=F(r),o=i?[a].concat(a.visualViewport||[],we(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(_e(ee(o)))}function Oe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function je(e,t){return t===O?Oe(function(e){var t=F(e),n=Z(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,s=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:i,height:a,x:o+ke(e),y:s}}(e)):V(t)?function(e){var t=Q(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Oe(function(e){var t,n=Z(e),r=be(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=W(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=W(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+ke(e),u=-r.scrollTop;return"rtl"===X(i||n).direction&&(s+=W(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(Z(e)))}function Ee(e,t,n){var r="clippingParents"===t?function(e){var t=_e(ee(e)),n=["absolute","fixed"].indexOf(X(e).position)>=0&&B(e)?ne(e):e;return V(n)?t.filter(function(e){return V(e)&&$(e,n)&&"body"!==U(e)}):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce(function(t,n){var r=je(e,n);return t.top=W(r.top,t.top),t.right=K(r.right,t.right),t.bottom=K(r.bottom,t.bottom),t.left=W(r.left,t.left),t},je(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function xe(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?H(i):null,o=i?ce(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case p:t={x:s,y:n.y-r.height};break;case v:t={x:s,y:n.y+n.height};break;case m:t={x:n.x+n.width,y:u};break;case y:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=a?re(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case k:t[c]=t[c]-(n[l]/2-r[l]/2);break;case w:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function Te(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?_:a,s=n.rootBoundary,u=void 0===s?O:s,c=n.elementContext,l=void 0===c?j:c,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,y=void 0===d?0:d,g=ae("number"!==typeof y?y:oe(y,b)),k=l===j?E:j,w=e.rects.popper,x=e.elements[h?k:l],T=Ee(V(x)?x:x.contextElement||Z(e.elements.popper),o,u),I=Q(e.elements.reference),S=xe({reference:I,element:w,strategy:"absolute",placement:i}),C=Oe(Object.assign({},w,S)),A=l===j?C:I,N={top:T.top-A.top+g.top,bottom:A.bottom-T.bottom+g.bottom,left:T.left-A.left+g.left,right:A.right-T.right+g.right},R=e.modifiersData.offset;if(l===j&&R){var P=R[i];Object.keys(N).forEach(function(e){var t=[m,v].indexOf(e)>=0?1:-1,n=[p,v].indexOf(e)>=0?"y":"x";N[e]+=P[n]*t})}return N}var Ie={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,w=void 0===d||d,_=n.allowedAutoPlacements,O=t.options.placement,j=H(O),E=u||(j!==O&&w?function(e){if(H(e)===g)return[];var t=me(e);return[ge(e),t,ge(t)]}(O):[me(O)]),I=[O].concat(E).reduce(function(e,n){return e.concat(H(n)===g?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?T:u,l=ce(r),f=l?s?x:x.filter(function(e){return ce(e)===l}):b,h=f.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=f);var d=h.reduce(function(t,n){return t[n]=Te(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[H(n)],t},{});return Object.keys(d).sort(function(e,t){return d[e]-d[t]})}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:w,allowedAutoPlacements:_}):n)},[]),S=t.rects.reference,C=t.rects.popper,A=new Map,N=!0,R=I[0],P=0;P<I.length;P++){var D=I[P],L=H(D),M=ce(D)===k,U=[p,v].indexOf(L)>=0,F=U?"width":"height",V=Te(t,{placement:D,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),B=U?M?m:y:M?v:p;S[F]>C[F]&&(B=me(B));var q=me(B),z=[];if(a&&z.push(V[L]<=0),s&&z.push(V[B]<=0,V[q]<=0),z.every(function(e){return e})){R=D,N=!1;break}A.set(D,z)}if(N)for(var W=function(e){var t=I.find(function(t){var n=A.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return R=t,"break"},K=w?3:1;K>0&&"break"!==W(K);K--);t.placement!==R&&(t.modifiersData[r]._skip=!0,t.placement=R,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Se(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ce(e){return[p,m,v,y].some(function(t){return e[t]>=0})}var Ae={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Te(t,{elementContext:"reference"}),s=Te(t,{altBoundary:!0}),u=Se(o,r),c=Se(s,i,a),l=Ce(u),f=Ce(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}};var Ne={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=T.reduce(function(e,n){return e[n]=function(e,t,n){var r=H(e),i=[y,p].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[y,m].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e},{}),s=o[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var Re={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=xe({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var Pe={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,g=n.tetherOffset,b=void 0===g?0:g,w=Te(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),_=H(t.placement),O=ce(t.placement),j=!O,E=re(_),x="x"===E?"y":"x",T=t.modifiersData.popperOffsets,I=t.rects.reference,S=t.rects.popper,C="function"===typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,A="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(T){if(a){var P,D="y"===E?p:y,L="y"===E?v:m,M="y"===E?"height":"width",U=T[E],F=U+w[D],V=U-w[L],B=d?-S[M]/2:0,q=O===k?I[M]:S[M],z=O===k?-S[M]:-I[M],G=t.elements.arrow,Q=d&&G?Y(G):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},X=$[D],J=$[L],Z=ie(0,I[M],Q[M]),ee=j?I[M]/2-B-Z-X-A.mainAxis:q-Z-X-A.mainAxis,te=j?-I[M]/2+B+Z+J+A.mainAxis:z+Z+J+A.mainAxis,ae=t.elements.arrow&&ne(t.elements.arrow),oe=ae?"y"===E?ae.clientTop||0:ae.clientLeft||0:0,se=null!=(P=null==N?void 0:N[E])?P:0,ue=U+te-se,le=ie(d?K(F,U+ee-se-oe):F,U,d?W(V,ue):V);T[E]=le,R[E]=le-U}if(s){var fe,he="x"===E?p:y,de="x"===E?v:m,pe=T[x],ve="y"===x?"height":"width",me=pe+w[he],ye=pe-w[de],ge=-1!==[p,y].indexOf(_),be=null!=(fe=null==N?void 0:N[x])?fe:0,ke=ge?me:pe-I[ve]-S[ve]-be+A.altAxis,we=ge?pe+I[ve]+S[ve]-be-A.altAxis:ye,_e=d&&ge?function(e,t,n){var r=ie(e,t,n);return r>n?n:r}(ke,pe,we):ie(d?ke:me,pe,d?we:ye);T[x]=_e,R[x]=_e-pe}t.modifiersData[r]=R}},requiresIfExists:["offset"]};function De(e,t,n){void 0===n&&(n=!1);var r=B(t),i=B(t)&&function(e){var t=e.getBoundingClientRect(),n=G(t.width)/e.offsetWidth||1,r=G(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=Z(t),o=Q(e,i),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==U(t)||we(a))&&(s=function(e){return e!==F(e)&&B(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:be(e);var t}(t)),B(t)?((u=Q(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=ke(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function Le(e){var t=new Map,n=new Set,r=[];return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||function e(i){n.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach(function(r){if(!n.has(r)){var i=t.get(r);i&&e(i)}}),r.push(i)}(e)}),r}function Me(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var Ue={placement:"bottom",modifiers:[],strategy:"absolute"};function Fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function Ve(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Ue:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ue,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:V(e)?_e(e):e.contextElement?_e(e.contextElement):[],popper:_e(t)};var l=function(e){var t=Le(e);return M.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter(function(e){return e.enabled}),i.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:u,options:r});o.push(s||function(){})}}),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(Fe(t,n)){i.rects={reference:De(t,ne(n),"fixed"===i.options.strategy),popper:Y(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach(function(e){return i.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:Me(function(){return new Promise(function(e){u.forceUpdate(),e(i)})}),destroy:function(){c(),s=!0}};if(!Fe(e,t))return u;function c(){o.forEach(function(e){return e()}),o=[]}return u.setOptions(n).then(function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)}),u}}var Be,qe=Ve(),ze=Ve({defaultModifiers:[pe,Re,he,z,Ne,Ie,Pe,ue,Ae]}),He=Ve({defaultModifiers:[pe,Re,he,z]}),We=function(e){var t=e.getAttribute("data-bs-target");if(!t||"#"===t){var n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#".concat(n.split("#")[1])),t=n&&"#"!==n?n.trim():null}return t},Ke=function(e){var t=We(e);return t&&document.querySelector(t)?t:null},Ge=function(e){var t=We(e);return t?document.querySelector(t):null},Qe=function(e){e.dispatchEvent(new Event("transitionend"))},Ye=function(e){return!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType)},$e=function(e){return Ye(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?document.querySelector(e):null},Xe=function(e,t,n){Object.keys(n).forEach(function(r){var i,a=n[r],o=t[r],s=o&&Ye(o)?"element":null===(i=o)||void 0===i?"".concat(i):{}.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(a).test(s))throw new TypeError("".concat(e.toUpperCase(),': Option "').concat(r,'" provided type "').concat(s,'" but expected type "').concat(a,'".'))})},Je=function(e){return!(!Ye(e)||0===e.getClientRects().length)&&"visible"===getComputedStyle(e).getPropertyValue("visibility")},Ze=function(e){return!e||e.nodeType!==Node.ELEMENT_NODE||(!!e.classList.contains("disabled")||("undefined"!==typeof e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")))},et=function(){},tt=function(e){e.offsetHeight},nt=function(){var e=window.jQuery;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null},rt=[],it=function(){return"rtl"===document.documentElement.dir},at=function(e){var t;t=function(){var t=nt();if(t){var n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=function(){return t.fn[n]=r,e.jQueryInterface}}},"loading"===document.readyState?(rt.length||document.addEventListener("DOMContentLoaded",function(){rt.forEach(function(e){return e()})}),rt.push(t)):t()},ot=function(e){"function"===typeof e&&e()},st=function(e,t){if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){var n=function(e){if(!e)return 0;var t=window.getComputedStyle(e),n=t.transitionDuration,r=t.transitionDelay,i=Number.parseFloat(n),a=Number.parseFloat(r);return i||a?(n=n.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(r))):0}(t)+5,r=!1;t.addEventListener("transitionend",function n(i){i.target===t&&(r=!0,t.removeEventListener("transitionend",n),ot(e))}),setTimeout(function(){r||Qe(t)},n)}else ot(e)},ut=function(e,t,n,r){var i=e.indexOf(t);if(-1===i)return e[!n&&r?e.length-1:0];var a=e.length;return i+=n?1:-1,r&&(i=(i+a)%a),e[Math.max(0,Math.min(i,a-1))]},ct=/[^.]*(?=\..*)\.|.*/,lt=/\..*/,ft=/::\d+$/,ht={},dt=1,pt={mouseenter:"mouseover",mouseleave:"mouseout"},vt=/^(mouseenter|mouseleave)/i,mt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function yt(e,t){return t&&"".concat(t,"::").concat(dt++)||e.uidEvent||dt++}function gt(e){var t=yt(e);return e.uidEvent=t,ht[t]=ht[t]||{},ht[t]}function bt(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Object.keys(e),i=0,a=r.length;i<a;i++){var o=e[r[i]];if(o.originalHandler===t&&o.delegationSelector===n)return o}return null}function kt(e,t,n){var r="string"===typeof t,i=r?n:t,a=Ot(e);return mt.has(a)||(a=e),[r,i,a]}function wt(e,t,n,r,i){if("string"===typeof t&&e){if(n||(n=r,r=null),vt.test(t)){var a=function(e){return function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}};r?r=a(r):n=a(n)}var o=kt(t,n,r),s=Object(d.a)(o,3),u=s[0],c=s[1],l=s[2],f=gt(e),h=f[l]||(f[l]={}),p=bt(h,c,u?n:null);if(p)p.oneOff=p.oneOff&&i;else{var v=yt(c,t.replace(ct,"")),m=u?function(e,t,n){return function r(i){for(var a=e.querySelectorAll(t),o=i.target;o&&o!==this;o=o.parentNode)for(var s=a.length;s--;)if(a[s]===o)return i.delegateTarget=o,r.oneOff&&jt.off(e,i.type,t,n),n.apply(o,[i]);return null}}(e,n,r):function(e,t){return function n(r){return r.delegateTarget=e,n.oneOff&&jt.off(e,r.type,t),t.apply(e,[r])}}(e,n);m.delegationSelector=u?n:null,m.originalHandler=c,m.oneOff=i,m.uidEvent=v,h[v]=m,e.addEventListener(l,m,u)}}}function _t(e,t,n,r,i){var a=bt(t[n],r,i);a&&(e.removeEventListener(n,a,Boolean(i)),delete t[n][a.uidEvent])}function Ot(e){return e=e.replace(lt,""),pt[e]||e}var jt={on:function(e,t,n,r){wt(e,t,n,r,!1)},one:function(e,t,n,r){wt(e,t,n,r,!0)},off:function(e,t,n,r){if("string"===typeof t&&e){var i=kt(t,n,r),a=Object(d.a)(i,3),o=a[0],s=a[1],u=a[2],c=u!==t,l=gt(e),f=t.startsWith(".");if("undefined"===typeof s){f&&Object.keys(l).forEach(function(n){!function(e,t,n,r){var i=t[n]||{};Object.keys(i).forEach(function(a){if(a.includes(r)){var o=i[a];_t(e,t,n,o.originalHandler,o.delegationSelector)}})}(e,l,n,t.slice(1))});var h=l[u]||{};Object.keys(h).forEach(function(n){var r=n.replace(ft,"");if(!c||t.includes(r)){var i=h[n];_t(e,l,u,i.originalHandler,i.delegationSelector)}})}else{if(!l||!l[u])return;_t(e,l,u,s,o?n:null)}}},trigger:function(e,t,n){if("string"!==typeof t||!e)return null;var r,i=nt(),a=Ot(t),o=t!==a,s=mt.has(a),u=!0,c=!0,l=!1,f=null;return o&&i&&(r=i.Event(t,n),i(e).trigger(r),u=!r.isPropagationStopped(),c=!r.isImmediatePropagationStopped(),l=r.isDefaultPrevented()),s?(f=document.createEvent("HTMLEvents")).initEvent(a,u,!0):f=new CustomEvent(t,{bubbles:u,cancelable:!0}),"undefined"!==typeof n&&Object.keys(n).forEach(function(e){Object.defineProperty(f,e,{get:function(){return n[e]}})}),l&&f.preventDefault(),c&&e.dispatchEvent(f),f.defaultPrevented&&"undefined"!==typeof r&&r.preventDefault(),f}},Et=new Map,xt={set:function(e,t,n){Et.has(e)||Et.set(e,new Map);var r=Et.get(e);r.has(t)||0===r.size?r.set(t,n):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(r.keys())[0],"."))},get:function(e,t){return Et.has(e)&&Et.get(e).get(t)||null},remove:function(e,t){if(Et.has(e)){var n=Et.get(e);n.delete(t),0===n.size&&Et.delete(e)}}},Tt=function(){function e(t){Object(f.a)(this,e),(t=$e(t))&&(this._element=t,xt.set(this._element,this.constructor.DATA_KEY,this))}return Object(h.a)(e,[{key:"dispose",value:function(){var e=this;xt.remove(this._element,this.constructor.DATA_KEY),jt.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(function(t){e[t]=null})}},{key:"_queueCallback",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];st(e,t,n)}}],[{key:"getInstance",value:function(e){return xt.get($e(e),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"===typeof t?t:null)}},{key:"VERSION",get:function(){return"5.1.3"}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}}]),e}(),It=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide",n="click.dismiss".concat(e.EVENT_KEY),r=e.NAME;jt.on(document,n,'[data-bs-dismiss="'.concat(r,'"]'),function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Ze(this)){var i=Ge(this)||this.closest(".".concat(r));e.getOrCreateInstance(i)[t]()}})},St=".".concat("bs.alert"),Ct="close".concat(St),At="closed".concat(St),Nt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"close",value:function(){var e=this;if(!jt.trigger(this._element,Ct).defaultPrevented){this._element.classList.remove("show");var t=this._element.classList.contains("fade");this._queueCallback(function(){return e._destroyElement()},this._element,t)}}},{key:"_destroyElement",value:function(){this._element.remove(),jt.trigger(this._element,At),this.dispose()}}],[{key:"NAME",get:function(){return"alert"}},{key:"jQueryInterface",value:function(e){return this.each(function(){var t=n.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}})}}]),n}(Tt);It(Nt,"close"),at(Nt);var Rt=".".concat("bs.button"),Pt="click".concat(Rt).concat(".data-api"),Dt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}}],[{key:"NAME",get:function(){return"button"}},{key:"jQueryInterface",value:function(e){return this.each(function(){var t=n.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}]),n}(Tt);function Lt(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function Mt(e){return e.replace(/[A-Z]/g,function(e){return"-".concat(e.toLowerCase())})}jt.on(document,Pt,'[data-bs-toggle="button"]',function(e){e.preventDefault();var t=e.target.closest('[data-bs-toggle="button"]');Dt.getOrCreateInstance(t).toggle()}),at(Dt);var Ut={setDataAttribute:function(e,t,n){e.setAttribute("data-bs-".concat(Mt(t)),n)},removeDataAttribute:function(e,t){e.removeAttribute("data-bs-".concat(Mt(t)))},getDataAttributes:function(e){if(!e)return{};var t={};return Object.keys(e.dataset).filter(function(e){return e.startsWith("bs")}).forEach(function(n){var r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=Lt(e.dataset[n])}),t},getDataAttribute:function(e,t){return Lt(e.getAttribute("data-bs-".concat(Mt(t))))},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},position:function(e){return{top:e.offsetTop,left:e.offsetLeft}}},Ft={find:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return(t=[]).concat.apply(t,Object(u.a)(Element.prototype.querySelectorAll.call(n,e)))},findOne:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:function(e,t){var n;return(n=[]).concat.apply(n,Object(u.a)(e.children)).filter(function(e){return e.matches(t)})},parents:function(e,t){for(var n=[],r=e.parentNode;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)r.matches(t)&&n.push(r),r=r.parentNode;return n},prev:function(e,t){for(var n=e.previousElementSibling;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next:function(e,t){for(var n=e.nextElementSibling;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren:function(e){var t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(function(e){return"".concat(e,':not([tabindex^="-"])')}).join(", ");return this.find(t,e).filter(function(e){return!Ze(e)&&Je(e)})}},Vt=".".concat("bs.carousel"),Bt={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},qt={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},zt="next",Ht="prev",Wt="left",Kt="right",Gt=(Be={},Object(s.a)(Be,"ArrowLeft",Kt),Object(s.a)(Be,"ArrowRight",Wt),Be),Qt="slide".concat(Vt),Yt="slid".concat(Vt),$t="keydown".concat(Vt),Xt="mouseenter".concat(Vt),Jt="mouseleave".concat(Vt),Zt="touchstart".concat(Vt),en="touchmove".concat(Vt),tn="touchend".concat(Vt),nn="pointerdown".concat(Vt),rn="pointerup".concat(Vt),an="dragstart".concat(Vt),on="load".concat(Vt).concat(".data-api"),sn="click".concat(Vt).concat(".data-api"),un=".carousel-indicators",cn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(f.a)(this,n),(i=t.call(this,e))._items=null,i._interval=null,i._activeElement=null,i._isPaused=!1,i._isSliding=!1,i.touchTimeout=null,i.touchStartX=0,i.touchDeltaX=0,i._config=i._getConfig(r),i._indicatorsElement=Ft.findOne(un,i._element),i._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,i._pointerEvent=Boolean(window.PointerEvent),i._addEventListeners(),i}return Object(h.a)(n,[{key:"next",value:function(){this._slide(zt)}},{key:"nextWhenVisible",value:function(){!document.hidden&&Je(this._element)&&this.next()}},{key:"prev",value:function(){this._slide(Ht)}},{key:"pause",value:function(e){e||(this._isPaused=!0),Ft.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(Qe(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(e){var t=this;this._activeElement=Ft.findOne(".active.carousel-item",this._element);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)jt.one(this._element,Yt,function(){return t.to(e)});else{if(n===e)return this.pause(),void this.cycle();var r=e>n?zt:Ht;this._slide(r,this._items[e])}}},{key:"_getConfig",value:function(e){return e=Object(o.a)(Object(o.a)(Object(o.a)({},Bt),Ut.getDataAttributes(this._element)),"object"===typeof e?e:{}),Xe("carousel",e,qt),e}},{key:"_handleSwipe",value:function(){var e=Math.abs(this.touchDeltaX);if(!(e<=40)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t&&this._slide(t>0?Kt:Wt)}}},{key:"_addEventListeners",value:function(){var e=this;this._config.keyboard&&jt.on(this._element,$t,function(t){return e._keydown(t)}),"hover"===this._config.pause&&(jt.on(this._element,Xt,function(t){return e.pause(t)}),jt.on(this._element,Jt,function(t){return e.cycle(t)})),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){var e=this,t=function(t){return e._pointerEvent&&("pen"===t.pointerType||"touch"===t.pointerType)},n=function(n){t(n)?e.touchStartX=n.clientX:e._pointerEvent||(e.touchStartX=n.touches[0].clientX)},r=function(n){t(n)&&(e.touchDeltaX=n.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval))};Ft.find(".carousel-item img",this._element).forEach(function(e){jt.on(e,an,function(e){return e.preventDefault()})}),this._pointerEvent?(jt.on(this._element,nn,function(e){return n(e)}),jt.on(this._element,rn,function(e){return r(e)}),this._element.classList.add("pointer-event")):(jt.on(this._element,Zt,function(e){return n(e)}),jt.on(this._element,en,function(t){return function(t){e.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-e.touchStartX}(t)}),jt.on(this._element,tn,function(e){return r(e)}))}},{key:"_keydown",value:function(e){if(!/input|textarea/i.test(e.target.tagName)){var t=Gt[e.key];t&&(e.preventDefault(),this._slide(t))}}},{key:"_getItemIndex",value:function(e){return this._items=e&&e.parentNode?Ft.find(".carousel-item",e.parentNode):[],this._items.indexOf(e)}},{key:"_getItemByOrder",value:function(e,t){var n=e===zt;return ut(this._items,t,n,this._config.wrap)}},{key:"_triggerSlideEvent",value:function(e,t){var n=this._getItemIndex(e),r=this._getItemIndex(Ft.findOne(".active.carousel-item",this._element));return jt.trigger(this._element,Qt,{relatedTarget:e,direction:t,from:r,to:n})}},{key:"_setActiveIndicatorElement",value:function(e){if(this._indicatorsElement){var t=Ft.findOne(".active",this._indicatorsElement);t.classList.remove("active"),t.removeAttribute("aria-current");for(var n=Ft.find("[data-bs-target]",this._indicatorsElement),r=0;r<n.length;r++)if(Number.parseInt(n[r].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){n[r].classList.add("active"),n[r].setAttribute("aria-current","true");break}}}},{key:"_updateInterval",value:function(){var e=this._activeElement||Ft.findOne(".active.carousel-item",this._element);if(e){var t=Number.parseInt(e.getAttribute("data-bs-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}}},{key:"_slide",value:function(e,t){var n=this,r=this._directionToOrder(e),i=Ft.findOne(".active.carousel-item",this._element),a=this._getItemIndex(i),o=t||this._getItemByOrder(r,i),s=this._getItemIndex(o),u=Boolean(this._interval),c=r===zt,l=c?"carousel-item-start":"carousel-item-end",f=c?"carousel-item-next":"carousel-item-prev",h=this._orderToDirection(r);if(o&&o.classList.contains("active"))this._isSliding=!1;else if(!this._isSliding&&!this._triggerSlideEvent(o,h).defaultPrevented&&i&&o){this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o;var d=function(){jt.trigger(n._element,Yt,{relatedTarget:o,direction:h,from:a,to:s})};if(this._element.classList.contains("slide")){o.classList.add(f),tt(o),i.classList.add(l),o.classList.add(l);this._queueCallback(function(){o.classList.remove(l,f),o.classList.add("active"),i.classList.remove("active",f,l),n._isSliding=!1,setTimeout(d,0)},i,!0)}else i.classList.remove("active"),o.classList.add("active"),this._isSliding=!1,d();u&&this.cycle()}}},{key:"_directionToOrder",value:function(e){return[Kt,Wt].includes(e)?it()?e===Wt?Ht:zt:e===Wt?zt:Ht:e}},{key:"_orderToDirection",value:function(e){return[zt,Ht].includes(e)?it()?e===Ht?Wt:Kt:e===Ht?Kt:Wt:e}}],[{key:"Default",get:function(){return Bt}},{key:"NAME",get:function(){return"carousel"}},{key:"carouselInterface",value:function(e,t){var r=n.getOrCreateInstance(e,t),i=r._config;"object"===typeof t&&(i=Object(o.a)(Object(o.a)({},i),t));var a="string"===typeof t?t:i.slide;if("number"===typeof t)r.to(t);else if("string"===typeof a){if("undefined"===typeof r[a])throw new TypeError('No method named "'.concat(a,'"'));r[a]()}else i.interval&&i.ride&&(r.pause(),r.cycle())}},{key:"jQueryInterface",value:function(e){return this.each(function(){n.carouselInterface(this,e)})}},{key:"dataApiClickHandler",value:function(e){var t=Ge(this);if(t&&t.classList.contains("carousel")){var r=Object(o.a)(Object(o.a)({},Ut.getDataAttributes(t)),Ut.getDataAttributes(this)),i=this.getAttribute("data-bs-slide-to");i&&(r.interval=!1),n.carouselInterface(t,r),i&&n.getInstance(t).to(i),e.preventDefault()}}}]),n}(Tt);jt.on(document,sn,"[data-bs-slide], [data-bs-slide-to]",cn.dataApiClickHandler),jt.on(window,on,function(){for(var e=Ft.find('[data-bs-ride="carousel"]'),t=0,n=e.length;t<n;t++)cn.carouselInterface(e[t],cn.getInstance(e[t]))}),at(cn);var ln=".".concat("bs.collapse"),fn={toggle:!0,parent:null},hn={toggle:"boolean",parent:"(null|element)"},dn="show".concat(ln),pn="shown".concat(ln),vn="hide".concat(ln),mn="hidden".concat(ln),yn="click".concat(ln).concat(".data-api"),gn=":scope .".concat("collapse"," .").concat("collapse"),bn='[data-bs-toggle="collapse"]',kn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;Object(f.a)(this,n),(i=t.call(this,e))._isTransitioning=!1,i._config=i._getConfig(r),i._triggerArray=[];for(var a=Ft.find(bn),o=0,s=a.length;o<s;o++){var u=a[o],c=Ke(u),l=Ft.find(c).filter(function(e){return e===i._element});null!==c&&l.length&&(i._selector=c,i._triggerArray.push(u))}return i._initializeChildren(),i._config.parent||i._addAriaAndCollapsedClass(i._triggerArray,i._isShown()),i._config.toggle&&i.toggle(),i}return Object(h.a)(n,[{key:"toggle",value:function(){this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var e=this;if(!this._isTransitioning&&!this._isShown()){var t,r=[];if(this._config.parent){var i=Ft.find(gn,this._config.parent);r=Ft.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(function(e){return!i.includes(e)})}var a=Ft.findOne(this._selector);if(r.length){var o=r.find(function(e){return a!==e});if((t=o?n.getInstance(o):null)&&t._isTransitioning)return}if(!jt.trigger(this._element,dn).defaultPrevented){r.forEach(function(e){a!==e&&n.getOrCreateInstance(e,{toggle:!1}).hide(),t||xt.set(e,"bs.collapse",null)});var s=this._getDimension();this._element.classList.remove("collapse"),this._element.classList.add("collapsing"),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;var u=s[0].toUpperCase()+s.slice(1),c="scroll".concat(u);this._queueCallback(function(){e._isTransitioning=!1,e._element.classList.remove("collapsing"),e._element.classList.add("collapse","show"),e._element.style[s]="",jt.trigger(e._element,pn)},this._element,!0),this._element.style[s]="".concat(this._element[c],"px")}}}},{key:"hide",value:function(){var e=this;if(!this._isTransitioning&&this._isShown()&&!jt.trigger(this._element,vn).defaultPrevented){var t=this._getDimension();this._element.style[t]="".concat(this._element.getBoundingClientRect()[t],"px"),tt(this._element),this._element.classList.add("collapsing"),this._element.classList.remove("collapse","show");for(var n=this._triggerArray.length,r=0;r<n;r++){var i=this._triggerArray[r],a=Ge(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;this._element.style[t]="",this._queueCallback(function(){e._isTransitioning=!1,e._element.classList.remove("collapsing"),e._element.classList.add("collapse"),jt.trigger(e._element,mn)},this._element,!0)}}},{key:"_isShown",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains("show")}},{key:"_getConfig",value:function(e){return(e=Object(o.a)(Object(o.a)(Object(o.a)({},fn),Ut.getDataAttributes(this._element)),e)).toggle=Boolean(e.toggle),e.parent=$e(e.parent),Xe("collapse",e,hn),e}},{key:"_getDimension",value:function(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}},{key:"_initializeChildren",value:function(){var e=this;if(this._config.parent){var t=Ft.find(gn,this._config.parent);Ft.find(bn,this._config.parent).filter(function(e){return!t.includes(e)}).forEach(function(t){var n=Ge(t);n&&e._addAriaAndCollapsedClass([t],e._isShown(n))})}}},{key:"_addAriaAndCollapsedClass",value:function(e,t){e.length&&e.forEach(function(e){t?e.classList.remove("collapsed"):e.classList.add("collapsed"),e.setAttribute("aria-expanded",t)})}}],[{key:"Default",get:function(){return fn}},{key:"NAME",get:function(){return"collapse"}},{key:"jQueryInterface",value:function(e){return this.each(function(){var t={};"string"===typeof e&&/show|hide/.test(e)&&(t.toggle=!1);var r=n.getOrCreateInstance(this,t);if("string"===typeof e){if("undefined"===typeof r[e])throw new TypeError('No method named "'.concat(e,'"'));r[e]()}})}}]),n}(Tt);jt.on(document,yn,bn,function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();var t=Ke(this);Ft.find(t).forEach(function(e){kn.getOrCreateInstance(e,{toggle:!1}).toggle()})}),at(kn);var wn=".".concat("bs.dropdown"),_n=new RegExp("".concat("ArrowUp","|").concat("ArrowDown","|").concat("Escape")),On="hide".concat(wn),jn="hidden".concat(wn),En="show".concat(wn),xn="shown".concat(wn),Tn="click".concat(wn).concat(".data-api"),In="keydown".concat(wn).concat(".data-api"),Sn="keyup".concat(wn).concat(".data-api"),Cn=it()?"top-end":"top-start",An=it()?"top-start":"top-end",Nn=it()?"bottom-end":"bottom-start",Rn=it()?"bottom-start":"bottom-end",Pn=it()?"left-start":"right-start",Dn=it()?"right-start":"left-start",Ln={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Mn={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"},Un=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(f.a)(this,n),(i=t.call(this,e))._popper=null,i._config=i._getConfig(r),i._menu=i._getMenuElement(),i._inNavbar=i._detectNavbar(),i}return Object(h.a)(n,[{key:"toggle",value:function(){return this._isShown()?this.hide():this.show()}},{key:"show",value:function(){if(!Ze(this._element)&&!this._isShown(this._menu)){var e={relatedTarget:this._element};if(!jt.trigger(this._element,En,e).defaultPrevented){var t,r=n.getParentFromElement(this._element);if(this._inNavbar?Ut.setDataAttribute(this._menu,"popper","none"):this._createPopper(r),"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav"))(t=[]).concat.apply(t,Object(u.a)(document.body.children)).forEach(function(e){return jt.on(e,"mouseover",et)});this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add("show"),this._element.classList.add("show"),jt.trigger(this._element,xn,e)}}}},{key:"hide",value:function(){if(!Ze(this._element)&&this._isShown(this._menu)){var e={relatedTarget:this._element};this._completeHide(e)}}},{key:"dispose",value:function(){this._popper&&this._popper.destroy(),Object(i.a)(Object(a.a)(n.prototype),"dispose",this).call(this)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}},{key:"_completeHide",value:function(e){if(!jt.trigger(this._element,On,e).defaultPrevented){var t;if("ontouchstart"in document.documentElement)(t=[]).concat.apply(t,Object(u.a)(document.body.children)).forEach(function(e){return jt.off(e,"mouseover",et)});this._popper&&this._popper.destroy(),this._menu.classList.remove("show"),this._element.classList.remove("show"),this._element.setAttribute("aria-expanded","false"),Ut.removeDataAttribute(this._menu,"popper"),jt.trigger(this._element,jn,e)}}},{key:"_getConfig",value:function(e){if(e=Object(o.a)(Object(o.a)(Object(o.a)({},this.constructor.Default),Ut.getDataAttributes(this._element)),e),Xe("dropdown",e,this.constructor.DefaultType),"object"===typeof e.reference&&!Ye(e.reference)&&"function"!==typeof e.reference.getBoundingClientRect)throw new TypeError("".concat("dropdown".toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return e}},{key:"_createPopper",value:function(e){if("undefined"===typeof r)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var t=this._element;"parent"===this._config.reference?t=e:Ye(this._config.reference)?t=$e(this._config.reference):"object"===typeof this._config.reference&&(t=this._config.reference);var n=this._getPopperConfig(),i=n.modifiers.find(function(e){return"applyStyles"===e.name&&!1===e.enabled});this._popper=ze(t,this._menu,n),i&&Ut.setDataAttribute(this._menu,"popper","static")}},{key:"_isShown",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains("show")}},{key:"_getMenuElement",value:function(){return Ft.next(this._element,".dropdown-menu")[0]}},{key:"_getPlacement",value:function(){var e=this._element.parentNode;if(e.classList.contains("dropend"))return Pn;if(e.classList.contains("dropstart"))return Dn;var t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?An:Cn:t?Rn:Nn}},{key:"_detectNavbar",value:function(){return null!==this._element.closest(".".concat("navbar"))}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"===typeof t?t.split(",").map(function(e){return Number.parseInt(e,10)}):"function"===typeof t?function(n){return t(n,e._element)}:t}},{key:"_getPopperConfig",value:function(){var e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),Object(o.a)(Object(o.a)({},e),"function"===typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig)}},{key:"_selectMenuItem",value:function(e){var t=e.key,n=e.target,r=Ft.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Je);r.length&&ut(r,n,"ArrowDown"===t,!r.includes(n)).focus()}}],[{key:"Default",get:function(){return Ln}},{key:"DefaultType",get:function(){return Mn}},{key:"NAME",get:function(){return"dropdown"}},{key:"jQueryInterface",value:function(e){return this.each(function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}})}},{key:"clearMenus",value:function(e){if(!e||2!==e.button&&("keyup"!==e.type||"Tab"===e.key))for(var t=Ft.find('[data-bs-toggle="dropdown"]'),r=0,i=t.length;r<i;r++){var a=n.getInstance(t[r]);if(a&&!1!==a._config.autoClose&&a._isShown()){var o={relatedTarget:a._element};if(e){var s=e.composedPath(),u=s.includes(a._menu);if(s.includes(a._element)||"inside"===a._config.autoClose&&!u||"outside"===a._config.autoClose&&u)continue;if(a._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;"click"===e.type&&(o.clickEvent=e)}a._completeHide(o)}}}},{key:"getParentFromElement",value:function(e){return Ge(e)||e.parentNode}},{key:"dataApiKeydownHandler",value:function(e){if(/input|textarea/i.test(e.target.tagName)?!("Space"===e.key||"Escape"!==e.key&&("ArrowDown"!==e.key&&"ArrowUp"!==e.key||e.target.closest(".dropdown-menu"))):_n.test(e.key)){var t=this.classList.contains("show");if((t||"Escape"!==e.key)&&(e.preventDefault(),e.stopPropagation(),!Ze(this))){var r=this.matches('[data-bs-toggle="dropdown"]')?this:Ft.prev(this,'[data-bs-toggle="dropdown"]')[0],i=n.getOrCreateInstance(r);if("Escape"!==e.key)return"ArrowUp"===e.key||"ArrowDown"===e.key?(t||i.show(),void i._selectMenuItem(e)):void(t&&"Space"!==e.key||n.clearMenus());i.hide()}}}}]),n}(Tt);jt.on(document,In,'[data-bs-toggle="dropdown"]',Un.dataApiKeydownHandler),jt.on(document,In,".dropdown-menu",Un.dataApiKeydownHandler),jt.on(document,Tn,Un.clearMenus),jt.on(document,Sn,Un.clearMenus),jt.on(document,Tn,'[data-bs-toggle="dropdown"]',function(e){e.preventDefault(),Un.getOrCreateInstance(this).toggle()}),at(Un);var Fn=function(){function e(){Object(f.a)(this,e),this._element=document.body}return Object(h.a)(e,[{key:"getWidth",value:function(){var e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}},{key:"hide",value:function(){var e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",function(t){return t+e}),this._setElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","paddingRight",function(t){return t+e}),this._setElementAttributes(".sticky-top","marginRight",function(t){return t-e})}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(e,t,n){var r=this,i=this.getWidth();this._applyManipulationCallback(e,function(e){if(!(e!==r._element&&window.innerWidth>e.clientWidth+i)){r._saveInitialAttribute(e,t);var a=window.getComputedStyle(e)[t];e.style[t]="".concat(n(Number.parseFloat(a)),"px")}})}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","paddingRight"),this._resetElementAttributes(".sticky-top","marginRight")}},{key:"_saveInitialAttribute",value:function(e,t){var n=e.style[t];n&&Ut.setDataAttribute(e,t,n)}},{key:"_resetElementAttributes",value:function(e,t){this._applyManipulationCallback(e,function(e){var n=Ut.getDataAttribute(e,t);"undefined"===typeof n?e.style.removeProperty(t):(Ut.removeDataAttribute(e,t),e.style[t]=n)})}},{key:"_applyManipulationCallback",value:function(e,t){Ye(e)?t(e):Ft.find(e,this._element).forEach(t)}},{key:"isOverflowing",value:function(){return this.getWidth()>0}}]),e}(),Vn={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Bn={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},qn="mousedown.bs.".concat("backdrop"),zn=function(){function e(t){Object(f.a)(this,e),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}return Object(h.a)(e,[{key:"show",value:function(e){this._config.isVisible?(this._append(),this._config.isAnimated&&tt(this._getElement()),this._getElement().classList.add("show"),this._emulateAnimation(function(){ot(e)})):ot(e)}},{key:"hide",value:function(e){var t=this;this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(function(){t.dispose(),ot(e)})):ot(e)}},{key:"_getElement",value:function(){if(!this._element){var e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}},{key:"_getConfig",value:function(e){return(e=Object(o.a)(Object(o.a)({},Vn),"object"===typeof e?e:{})).rootElement=$e(e.rootElement),Xe("backdrop",e,Bn),e}},{key:"_append",value:function(){var e=this;this._isAppended||(this._config.rootElement.append(this._getElement()),jt.on(this._getElement(),qn,function(){ot(e._config.clickCallback)}),this._isAppended=!0)}},{key:"dispose",value:function(){this._isAppended&&(jt.off(this._element,qn),this._element.remove(),this._isAppended=!1)}},{key:"_emulateAnimation",value:function(e){st(e,this._getElement(),this._config.isAnimated)}}]),e}(),Hn={trapElement:null,autofocus:!0},Wn={trapElement:"element",autofocus:"boolean"},Kn=".".concat("bs.focustrap"),Gn="focusin".concat(Kn),Qn="keydown.tab".concat(Kn),Yn=function(){function e(t){Object(f.a)(this,e),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}return Object(h.a)(e,[{key:"activate",value:function(){var e=this,t=this._config,n=t.trapElement,r=t.autofocus;this._isActive||(r&&n.focus(),jt.off(document,Kn),jt.on(document,Gn,function(t){return e._handleFocusin(t)}),jt.on(document,Qn,function(t){return e._handleKeydown(t)}),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,jt.off(document,Kn))}},{key:"_handleFocusin",value:function(e){var t=e.target,n=this._config.trapElement;if(t!==document&&t!==n&&!n.contains(t)){var r=Ft.focusableChildren(n);0===r.length?n.focus():"backward"===this._lastTabNavDirection?r[r.length-1].focus():r[0].focus()}}},{key:"_handleKeydown",value:function(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?"backward":"forward")}},{key:"_getConfig",value:function(e){return e=Object(o.a)(Object(o.a)({},Hn),"object"===typeof e?e:{}),Xe("focustrap",e,Wn),e}}]),e}(),$n=".".concat("bs.modal"),Xn={backdrop:!0,keyboard:!0,focus:!0},Jn={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Zn="hide".concat($n),er="hidePrevented".concat($n),tr="hidden".concat($n),nr="show".concat($n),rr="shown".concat($n),ir="resize".concat($n),ar="click.dismiss".concat($n),or="keydown.dismiss".concat($n),sr="mouseup.dismiss".concat($n),ur="mousedown.dismiss".concat($n),cr="click".concat($n).concat(".data-api"),lr=".modal-dialog",fr=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(f.a)(this,n),(i=t.call(this,e))._config=i._getConfig(r),i._dialog=Ft.findOne(lr,i._element),i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._isShown=!1,i._ignoreBackdropClick=!1,i._isTransitioning=!1,i._scrollBar=new Fn,i}return Object(h.a)(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;this._isShown||this._isTransitioning||(jt.trigger(this._element,nr,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add("modal-open"),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),jt.on(this._dialog,ur,function(){jt.one(t._element,sr,function(e){e.target===t._element&&(t._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return t._showElement(e)})))}},{key:"hide",value:function(){var e=this;if(this._isShown&&!this._isTransitioning&&!jt.trigger(this._element,Zn).defaultPrevented){this._isShown=!1;var t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),jt.off(this._element,ar),jt.off(this._dialog,ur),this._queueCallback(function(){return e._hideModal()},this._element,t)}}},{key:"dispose",value:function(){[window,this._dialog].forEach(function(e){return jt.off(e,$n)}),this._backdrop.dispose(),this._focustrap.deactivate(),Object(i.a)(Object(a.a)(n.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new zn({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new Yn({trapElement:this._element})}},{key:"_getConfig",value:function(e){return e=Object(o.a)(Object(o.a)(Object(o.a)({},Xn),Ut.getDataAttributes(this._element)),"object"===typeof e?e:{}),Xe("modal",e,Jn),e}},{key:"_showElement",value:function(e){var t=this,n=this._isAnimated(),r=Ft.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,r&&(r.scrollTop=0),n&&tt(this._element),this._element.classList.add("show");this._queueCallback(function(){t._config.focus&&t._focustrap.activate(),t._isTransitioning=!1,jt.trigger(t._element,rr,{relatedTarget:e})},this._dialog,n)}},{key:"_setEscapeEvent",value:function(){var e=this;this._isShown?jt.on(this._element,or,function(t){e._config.keyboard&&"Escape"===t.key?(t.preventDefault(),e.hide()):e._config.keyboard||"Escape"!==t.key||e._triggerBackdropTransition()}):jt.off(this._element,or)}},{key:"_setResizeEvent",value:function(){var e=this;this._isShown?jt.on(window,ir,function(){return e._adjustDialog()}):jt.off(window,ir)}},{key:"_hideModal",value:function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(function(){document.body.classList.remove("modal-open"),e._resetAdjustments(),e._scrollBar.reset(),jt.trigger(e._element,tr)})}},{key:"_showBackdrop",value:function(e){var t=this;jt.on(this._element,ar,function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&(!0===t._config.backdrop?t.hide():"static"===t._config.backdrop&&t._triggerBackdropTransition())}),this._backdrop.show(e)}},{key:"_isAnimated",value:function(){return this._element.classList.contains("fade")}},{key:"_triggerBackdropTransition",value:function(){var e=this;if(!jt.trigger(this._element,er).defaultPrevented){var t=this._element,n=t.classList,r=t.scrollHeight,i=t.style,a=r>document.documentElement.clientHeight;!a&&"hidden"===i.overflowY||n.contains("modal-static")||(a||(i.overflowY="hidden"),n.add("modal-static"),this._queueCallback(function(){n.remove("modal-static"),a||e._queueCallback(function(){i.overflowY=""},e._dialog)},this._dialog),this._element.focus())}}},{key:"_adjustDialog",value:function(){var e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;(!n&&e&&!it()||n&&!e&&it())&&(this._element.style.paddingLeft="".concat(t,"px")),(n&&!e&&!it()||!n&&e&&it())&&(this._element.style.paddingRight="".concat(t,"px"))}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}],[{key:"Default",get:function(){return Xn}},{key:"NAME",get:function(){return"modal"}},{key:"jQueryInterface",value:function(e,t){return this.each(function(){var r=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof r[e])throw new TypeError('No method named "'.concat(e,'"'));r[e](t)}})}}]),n}(Tt);jt.on(document,cr,'[data-bs-toggle="modal"]',function(e){var t=this,n=Ge(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),jt.one(n,nr,function(e){e.defaultPrevented||jt.one(n,tr,function(){Je(t)&&t.focus()})});var r=Ft.findOne(".modal.show");r&&fr.getInstance(r).hide(),fr.getOrCreateInstance(n).toggle(this)}),It(fr),at(fr);var hr=".".concat("bs.offcanvas"),dr="load".concat(hr).concat(".data-api"),pr={backdrop:!0,keyboard:!0,scroll:!1},vr={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},mr="show".concat(hr),yr="shown".concat(hr),gr="hide".concat(hr),br="hidden".concat(hr),kr="click".concat(hr).concat(".data-api"),wr="keydown.dismiss".concat(hr),_r=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(f.a)(this,n),(i=t.call(this,e))._config=i._getConfig(r),i._isShown=!1,i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._addEventListeners(),i}return Object(h.a)(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;if(!this._isShown&&!jt.trigger(this._element,mr,{relatedTarget:e}).defaultPrevented){this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new Fn).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show");this._queueCallback(function(){t._config.scroll||t._focustrap.activate(),jt.trigger(t._element,yr,{relatedTarget:e})},this._element,!0)}}},{key:"hide",value:function(){var e=this;if(this._isShown&&!jt.trigger(this._element,gr).defaultPrevented){this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide();this._queueCallback(function(){e._element.setAttribute("aria-hidden",!0),e._element.removeAttribute("aria-modal"),e._element.removeAttribute("role"),e._element.style.visibility="hidden",e._config.scroll||(new Fn).reset(),jt.trigger(e._element,br)},this._element,!0)}}},{key:"dispose",value:function(){this._backdrop.dispose(),this._focustrap.deactivate(),Object(i.a)(Object(a.a)(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return e=Object(o.a)(Object(o.a)(Object(o.a)({},pr),Ut.getDataAttributes(this._element)),"object"===typeof e?e:{}),Xe("offcanvas",e,vr),e}},{key:"_initializeBackDrop",value:function(){var e=this;return new zn({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:function(){return e.hide()}})}},{key:"_initializeFocusTrap",value:function(){return new Yn({trapElement:this._element})}},{key:"_addEventListeners",value:function(){var e=this;jt.on(this._element,wr,function(t){e._config.keyboard&&"Escape"===t.key&&e.hide()})}}],[{key:"NAME",get:function(){return"offcanvas"}},{key:"Default",get:function(){return pr}},{key:"jQueryInterface",value:function(e){return this.each(function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}})}}]),n}(Tt);jt.on(document,kr,'[data-bs-toggle="offcanvas"]',function(e){var t=this,n=Ge(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),!Ze(this)){jt.one(n,br,function(){Je(t)&&t.focus()});var r=Ft.findOne(".offcanvas.show");r&&r!==n&&_r.getInstance(r).hide(),_r.getOrCreateInstance(n).toggle(this)}}),jt.on(window,dr,function(){return Ft.find(".offcanvas.show").forEach(function(e){return _r.getOrCreateInstance(e).show()})}),It(_r),at(_r);var Or=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),jr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Er=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,xr=function(e,t){var n=e.nodeName.toLowerCase();if(t.includes(n))return!Or.has(n)||Boolean(jr.test(e.nodeValue)||Er.test(e.nodeValue));for(var r=t.filter(function(e){return e instanceof RegExp}),i=0,a=r.length;i<a;i++)if(r[i].test(n))return!0;return!1},Tr={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Ir(e,t,n){var r;if(!e.length)return e;if(n&&"function"===typeof n)return n(e);for(var i=(new window.DOMParser).parseFromString(e,"text/html"),a=(r=[]).concat.apply(r,Object(u.a)(i.body.querySelectorAll("*"))),o=function(e,n){var r,i=a[e],o=i.nodeName.toLowerCase();if(!Object.keys(t).includes(o))return i.remove(),"continue";var s=(r=[]).concat.apply(r,Object(u.a)(i.attributes)),c=[].concat(t["*"]||[],t[o]||[]);s.forEach(function(e){xr(e,c)||i.removeAttribute(e.nodeName)})},s=0,c=a.length;s<c;s++)o(s);return i.body.innerHTML}var Sr=".".concat("bs.tooltip"),Cr=new Set(["sanitize","allowList","sanitizeFn"]),Ar={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Nr={AUTO:"auto",TOP:"top",RIGHT:it()?"left":"right",BOTTOM:"bottom",LEFT:it()?"right":"left"},Rr={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:Tr,popperConfig:null},Pr={HIDE:"hide".concat(Sr),HIDDEN:"hidden".concat(Sr),SHOW:"show".concat(Sr),SHOWN:"shown".concat(Sr),INSERTED:"inserted".concat(Sr),CLICK:"click".concat(Sr),FOCUSIN:"focusin".concat(Sr),FOCUSOUT:"focusout".concat(Sr),MOUSEENTER:"mouseenter".concat(Sr),MOUSELEAVE:"mouseleave".concat(Sr)},Dr=".".concat("modal"),Lr=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,i){var a;if(Object(f.a)(this,n),"undefined"===typeof r)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(a=t.call(this,e))._isEnabled=!0,a._timeout=0,a._hoverState="",a._activeTrigger={},a._popper=null,a._config=a._getConfig(i),a.tip=null,a._setListeners(),a}return Object(h.a)(n,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(e){if(this._isEnabled)if(e){var t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(this.getTipElement().classList.contains("show"))return void this._leave(null,this);this._enter(null,this)}}},{key:"dispose",value:function(){clearTimeout(this._timeout),jt.off(this._element.closest(Dr),"hide.bs.modal",this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),Object(i.a)(Object(a.a)(n.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var e=this;if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var t=jt.trigger(this._element,this.constructor.Event.SHOW),n=function e(t){if(!document.documentElement.attachShadow)return null;if("function"===typeof t.getRootNode){var n=t.getRootNode();return n instanceof ShadowRoot?n:null}return t instanceof ShadowRoot?t:t.parentNode?e(t.parentNode):null}(this._element),r=null===n?this._element.ownerDocument.documentElement.contains(this._element):n.contains(this._element);if(!t.defaultPrevented&&r){"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(".tooltip-inner").innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);var i=this.getTipElement(),a=function(e){do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e}(this.constructor.NAME);i.setAttribute("id",a),this._element.setAttribute("aria-describedby",a),this._config.animation&&i.classList.add("fade");var o="function"===typeof this._config.placement?this._config.placement.call(this,i,this._element):this._config.placement,s=this._getAttachment(o);this._addAttachmentClass(s);var c=this._config.container;xt.set(i,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(c.append(i),jt.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=ze(this._element,i,this._getPopperConfig(s)),i.classList.add("show");var l,f,h=this._resolvePossibleFunction(this._config.customClass);if(h)(l=i.classList).add.apply(l,Object(u.a)(h.split(" ")));if("ontouchstart"in document.documentElement)(f=[]).concat.apply(f,Object(u.a)(document.body.children)).forEach(function(e){jt.on(e,"mouseover",et)});var d=this.tip.classList.contains("fade");this._queueCallback(function(){var t=e._hoverState;e._hoverState=null,jt.trigger(e._element,e.constructor.Event.SHOWN),"out"===t&&e._leave(null,e)},this.tip,d)}}}},{key:"hide",value:function(){var e=this;if(this._popper){var t=this.getTipElement();if(!jt.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented){var n;if(t.classList.remove("show"),"ontouchstart"in document.documentElement)(n=[]).concat.apply(n,Object(u.a)(document.body.children)).forEach(function(e){return jt.off(e,"mouseover",et)});this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;var r=this.tip.classList.contains("fade");this._queueCallback(function(){e._isWithActiveTrigger()||("show"!==e._hoverState&&t.remove(),e._cleanTipClass(),e._element.removeAttribute("aria-describedby"),jt.trigger(e._element,e.constructor.Event.HIDDEN),e._disposePopper())},this.tip,r),this._hoverState=""}}}},{key:"update",value:function(){null!==this._popper&&this._popper.update()}},{key:"isWithContent",value:function(){return Boolean(this.getTitle())}},{key:"getTipElement",value:function(){if(this.tip)return this.tip;var e=document.createElement("div");e.innerHTML=this._config.template;var t=e.children[0];return this.setContent(t),t.classList.remove("fade","show"),this.tip=t,this.tip}},{key:"setContent",value:function(e){this._sanitizeAndSetContent(e,this.getTitle(),".tooltip-inner")}},{key:"_sanitizeAndSetContent",value:function(e,t,n){var r=Ft.findOne(n,e);t||!r?this.setElementContent(r,t):r.remove()}},{key:"setElementContent",value:function(e,t){if(null!==e)return Ye(t)?(t=$e(t),void(this._config.html?t.parentNode!==e&&(e.innerHTML="",e.append(t)):e.textContent=t.textContent)):void(this._config.html?(this._config.sanitize&&(t=Ir(t,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=t):e.textContent=t)}},{key:"getTitle",value:function(){var e=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(e)}},{key:"updateAttachment",value:function(e){return"right"===e?"end":"left"===e?"start":e}},{key:"_initializeOnDelegatedTarget",value:function(e,t){return t||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"===typeof t?t.split(",").map(function(e){return Number.parseInt(e,10)}):"function"===typeof t?function(n){return t(n,e._element)}:t}},{key:"_resolvePossibleFunction",value:function(e){return"function"===typeof e?e.call(this._element):e}},{key:"_getPopperConfig",value:function(e){var t=this,n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(e){return t._handlePopperPlacementChange(e)}}],onFirstUpdate:function(e){e.options.placement!==e.placement&&t._handlePopperPlacementChange(e)}};return Object(o.a)(Object(o.a)({},n),"function"===typeof this._config.popperConfig?this._config.popperConfig(n):this._config.popperConfig)}},{key:"_addAttachmentClass",value:function(e){this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(),"-").concat(this.updateAttachment(e)))}},{key:"_getAttachment",value:function(e){return Nr[e.toUpperCase()]}},{key:"_setListeners",value:function(){var e=this;this._config.trigger.split(" ").forEach(function(t){if("click"===t)jt.on(e._element,e.constructor.Event.CLICK,e._config.selector,function(t){return e.toggle(t)});else if("manual"!==t){var n="hover"===t?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r="hover"===t?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;jt.on(e._element,n,e._config.selector,function(t){return e._enter(t)}),jt.on(e._element,r,e._config.selector,function(t){return e._leave(t)})}}),this._hideModalHandler=function(){e._element&&e.hide()},jt.on(this._element.closest(Dr),"hide.bs.modal",this._hideModalHandler),this._config.selector?this._config=Object(o.a)(Object(o.a)({},this._config),{},{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var e=this._element.getAttribute("title"),t=typeof this._element.getAttribute("data-bs-original-title");(e||"string"!==t)&&(this._element.setAttribute("data-bs-original-title",e||""),!e||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}},{key:"_enter",value:function(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusin"===e.type?"focus":"hover"]=!0),t.getTipElement().classList.contains("show")||"show"===t._hoverState?t._hoverState="show":(clearTimeout(t._timeout),t._hoverState="show",t._config.delay&&t._config.delay.show?t._timeout=setTimeout(function(){"show"===t._hoverState&&t.show()},t._config.delay.show):t.show())}},{key:"_leave",value:function(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusout"===e.type?"focus":"hover"]=t._element.contains(e.relatedTarget)),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState="out",t._config.delay&&t._config.delay.hide?t._timeout=setTimeout(function(){"out"===t._hoverState&&t.hide()},t._config.delay.hide):t.hide())}},{key:"_isWithActiveTrigger",value:function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}},{key:"_getConfig",value:function(e){var t=Ut.getDataAttributes(this._element);return Object.keys(t).forEach(function(e){Cr.has(e)&&delete t[e]}),(e=Object(o.a)(Object(o.a)(Object(o.a)({},this.constructor.Default),t),"object"===typeof e&&e?e:{})).container=!1===e.container?document.body:$e(e.container),"number"===typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"===typeof e.title&&(e.title=e.title.toString()),"number"===typeof e.content&&(e.content=e.content.toString()),Xe("tooltip",e,this.constructor.DefaultType),e.sanitize&&(e.template=Ir(e.template,e.allowList,e.sanitizeFn)),e}},{key:"_getDelegateConfig",value:function(){var e={};for(var t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}},{key:"_cleanTipClass",value:function(){var e=this.getTipElement(),t=new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(),"\\S+"),"g"),n=e.getAttribute("class").match(t);null!==n&&n.length>0&&n.map(function(e){return e.trim()}).forEach(function(t){return e.classList.remove(t)})}},{key:"_getBasicClassPrefix",value:function(){return"bs-tooltip"}},{key:"_handlePopperPlacementChange",value:function(e){var t=e.state;t&&(this.tip=t.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement)))}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null)}}],[{key:"Default",get:function(){return Rr}},{key:"NAME",get:function(){return"tooltip"}},{key:"Event",get:function(){return Pr}},{key:"DefaultType",get:function(){return Ar}},{key:"jQueryInterface",value:function(e){return this.each(function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}})}}]),n}(Tt);at(Lr);var Mr=".".concat("bs.popover"),Ur=Object(o.a)(Object(o.a)({},Lr.Default),{},{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Fr=Object(o.a)(Object(o.a)({},Lr.DefaultType),{},{content:"(string|element|function)"}),Vr={HIDE:"hide".concat(Mr),HIDDEN:"hidden".concat(Mr),SHOW:"show".concat(Mr),SHOWN:"shown".concat(Mr),INSERTED:"inserted".concat(Mr),CLICK:"click".concat(Mr),FOCUSIN:"focusin".concat(Mr),FOCUSOUT:"focusout".concat(Mr),MOUSEENTER:"mouseenter".concat(Mr),MOUSELEAVE:"mouseleave".concat(Mr)};at(function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"setContent",value:function(e){this._sanitizeAndSetContent(e,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(e,this._getContent(),".popover-body")}},{key:"_getContent",value:function(){return this._resolvePossibleFunction(this._config.content)}},{key:"_getBasicClassPrefix",value:function(){return"bs-popover"}}],[{key:"Default",get:function(){return Ur}},{key:"NAME",get:function(){return"popover"}},{key:"Event",get:function(){return Vr}},{key:"DefaultType",get:function(){return Fr}},{key:"jQueryInterface",value:function(e){return this.each(function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}})}}]),n}(Lr));var Br=".".concat("bs.scrollspy"),qr={offset:10,method:"auto",target:""},zr={offset:"number",method:"string",target:"(string|element)"},Hr="activate".concat(Br),Wr="scroll".concat(Br),Kr="load".concat(Br).concat(".data-api"),Gr="".concat(".nav-link",", ").concat(".list-group-item",", .").concat("dropdown-item"),Qr=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(f.a)(this,n),(i=t.call(this,e))._scrollElement="BODY"===i._element.tagName?window:i._element,i._config=i._getConfig(r),i._offsets=[],i._targets=[],i._activeTarget=null,i._scrollHeight=0,jt.on(i._scrollElement,Wr,function(){return i._process()}),i.refresh(),i._process(),i}return Object(h.a)(n,[{key:"refresh",value:function(){var e=this,t=this._scrollElement===this._scrollElement.window?"offset":"position",n="auto"===this._config.method?t:this._config.method,r="position"===n?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),Ft.find(Gr,this._config.target).map(function(e){var t=Ke(e),i=t?Ft.findOne(t):null;if(i){var a=i.getBoundingClientRect();if(a.width||a.height)return[Ut[n](i).top+r,t]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})}},{key:"dispose",value:function(){jt.off(this._scrollElement,Br),Object(i.a)(Object(a.a)(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return(e=Object(o.a)(Object(o.a)(Object(o.a)({},qr),Ut.getDataAttributes(this._element)),"object"===typeof e&&e?e:{})).target=$e(e.target)||document.documentElement,Xe("scrollspy",e,zr),e}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;){this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&("undefined"===typeof this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])}}}},{key:"_activate",value:function(e){this._activeTarget=e,this._clear();var t=Gr.split(",").map(function(t){return"".concat(t,'[data-bs-target="').concat(e,'"],').concat(t,'[href="').concat(e,'"]')}),n=Ft.findOne(t.join(","),this._config.target);n.classList.add("active"),n.classList.contains("dropdown-item")?Ft.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add("active"):Ft.parents(n,".nav, .list-group").forEach(function(e){Ft.prev(e,"".concat(".nav-link",", ").concat(".list-group-item")).forEach(function(e){return e.classList.add("active")}),Ft.prev(e,".nav-item").forEach(function(e){Ft.children(e,".nav-link").forEach(function(e){return e.classList.add("active")})})}),jt.trigger(this._scrollElement,Hr,{relatedTarget:e})}},{key:"_clear",value:function(){Ft.find(Gr,this._config.target).filter(function(e){return e.classList.contains("active")}).forEach(function(e){return e.classList.remove("active")})}}],[{key:"Default",get:function(){return qr}},{key:"NAME",get:function(){return"scrollspy"}},{key:"jQueryInterface",value:function(e){return this.each(function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}})}}]),n}(Tt);jt.on(window,Kr,function(){Ft.find('[data-bs-spy="scroll"]').forEach(function(e){return new Qr(e)})}),at(Qr);var Yr=".".concat("bs.tab"),$r="hide".concat(Yr),Xr="hidden".concat(Yr),Jr="show".concat(Yr),Zr="shown".concat(Yr),ei="click".concat(Yr).concat(".data-api"),ti=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"show",value:function(){var e=this;if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE||!this._element.classList.contains("active")){var t,n=Ge(this._element),r=this._element.closest(".nav, .list-group");if(r){var i="UL"===r.nodeName||"OL"===r.nodeName?":scope > li > .active":".active";t=(t=Ft.find(i,r))[t.length-1]}var a=t?jt.trigger(t,$r,{relatedTarget:this._element}):null;if(!(jt.trigger(this._element,Jr,{relatedTarget:t}).defaultPrevented||null!==a&&a.defaultPrevented)){this._activate(this._element,r);var o=function(){jt.trigger(t,Xr,{relatedTarget:e._element}),jt.trigger(e._element,Zr,{relatedTarget:t})};n?this._activate(n,n.parentNode,o):o()}}}},{key:"_activate",value:function(e,t,n){var r=this,i=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?Ft.children(t,".active"):Ft.find(":scope > li > .active",t))[0],a=n&&i&&i.classList.contains("fade"),o=function(){return r._transitionComplete(e,i,n)};i&&a?(i.classList.remove("show"),this._queueCallback(o,e,!0)):o()}},{key:"_transitionComplete",value:function(e,t,n){if(t){t.classList.remove("active");var r=Ft.findOne(":scope > .dropdown-menu .active",t.parentNode);r&&r.classList.remove("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}e.classList.add("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),tt(e),e.classList.contains("fade")&&e.classList.add("show");var i=e.parentNode;if(i&&"LI"===i.nodeName&&(i=i.parentNode),i&&i.classList.contains("dropdown-menu")){var a=e.closest(".dropdown");a&&Ft.find(".dropdown-toggle",a).forEach(function(e){return e.classList.add("active")}),e.setAttribute("aria-expanded",!0)}n&&n()}}],[{key:"NAME",get:function(){return"tab"}},{key:"jQueryInterface",value:function(e){return this.each(function(){var t=n.getOrCreateInstance(this);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}})}}]),n}(Tt);jt.on(document,ei,'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(e){(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ze(this))||ti.getOrCreateInstance(this).show()}),at(ti);var ni=".".concat("bs.toast"),ri="mouseover".concat(ni),ii="mouseout".concat(ni),ai="focusin".concat(ni),oi="focusout".concat(ni),si="hide".concat(ni),ui="hidden".concat(ni),ci="show".concat(ni),li="shown".concat(ni),fi={animation:"boolean",autohide:"boolean",delay:"number"},hi={animation:!0,autohide:!0,delay:5e3},di=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(f.a)(this,n),(i=t.call(this,e))._config=i._getConfig(r),i._timeout=null,i._hasMouseInteraction=!1,i._hasKeyboardInteraction=!1,i._setListeners(),i}return Object(h.a)(n,[{key:"show",value:function(){var e=this;if(!jt.trigger(this._element,ci).defaultPrevented){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove("hide"),tt(this._element),this._element.classList.add("show"),this._element.classList.add("showing"),this._queueCallback(function(){e._element.classList.remove("showing"),jt.trigger(e._element,li),e._maybeScheduleHide()},this._element,this._config.animation)}}},{key:"hide",value:function(){var e=this;if(this._element.classList.contains("show")&&!jt.trigger(this._element,si).defaultPrevented){this._element.classList.add("showing"),this._queueCallback(function(){e._element.classList.add("hide"),e._element.classList.remove("showing"),e._element.classList.remove("show"),jt.trigger(e._element,ui)},this._element,this._config.animation)}}},{key:"dispose",value:function(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),Object(i.a)(Object(a.a)(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return e=Object(o.a)(Object(o.a)(Object(o.a)({},hi),Ut.getDataAttributes(this._element)),"object"===typeof e&&e?e:{}),Xe("toast",e,this.constructor.DefaultType),e}},{key:"_maybeScheduleHide",value:function(){var e=this;this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(function(){e.hide()},this._config.delay)))}},{key:"_onInteraction",value:function(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)this._clearTimeout();else{var n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}}},{key:"_setListeners",value:function(){var e=this;jt.on(this._element,ri,function(t){return e._onInteraction(t,!0)}),jt.on(this._element,ii,function(t){return e._onInteraction(t,!1)}),jt.on(this._element,ai,function(t){return e._onInteraction(t,!0)}),jt.on(this._element,oi,function(t){return e._onInteraction(t,!1)})}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout),this._timeout=null}}],[{key:"DefaultType",get:function(){return fi}},{key:"Default",get:function(){return hi}},{key:"NAME",get:function(){return"toast"}},{key:"jQueryInterface",value:function(e){return this.each(function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}})}}]),n}(Tt);It(di),at(di)},,function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,t,r){var i=t.trim().split(p);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=n(e,t[s],r).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=n(e[c]+" ",i[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,a){var o=e+";",s=2*t+3*n+4*a;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===S||2===S&&i(u,1)?"-webkit-"+u+u:u}if(0===S||2===S&&!i(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return h.test(o)?o.replace(f,":-webkit-")+o.replace(f,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(b,"tb");break;case 232:u=o.replace(b,"tb-rl");break;case 220:u=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===j.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,a).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+a&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+o}return o}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(O,"$1"),n,t)}function a(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function o(e,t,n,r,i,a,o,s,c,l){for(var f,h=0,d=t;h<N;++h)switch(f=A[h].call(u,e,d,n,r,i,a,o,s,c,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?S=1:(S=2,R=e):S=0),s}function u(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<N){var u=o(-1,n,s,s,T,x,0,0,0,0);void 0!==u&&"string"===typeof u&&(n=u)}var f=function e(n,s,u,f,h){for(var d,p,v,b,w,_=0,O=0,j=0,E=0,A=0,R=0,D=v=d=0,L=0,M=0,U=0,F=0,V=u.length,B=V-1,q="",z="",H="",W="";L<V;){if(p=u.charCodeAt(L),L===B&&0!==O+E+j+_&&(0!==O&&(p=47===O?10:47),E=j=_=0,V++,B++),0===O+E+j+_){if(L===B&&(0<M&&(q=q.replace(l,"")),0<q.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:q+=u.charAt(L)}p=59}switch(p){case 123:for(d=(q=q.trim()).charCodeAt(0),v=1,F=++L;L<V;){switch(p=u.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(L+1)){case 42:case 47:e:{for(D=L+1;D<B;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&L+2!==D){L=D+1;break e}break;case 10:if(47===p){L=D+1;break e}}L=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<B&&u.charCodeAt(L)!==p;);}if(0===v)break;L++}switch(v=u.substring(F,L),0===d&&(d=(q=q.replace(c,"").trim()).charCodeAt(0)),d){case 64:switch(0<M&&(q=q.replace(l,"")),p=q.charCodeAt(1)){case 100:case 109:case 115:case 45:M=s;break;default:M=C}if(F=(v=e(s,M,v,p,h+1)).length,0<N&&(w=o(3,v,M=t(C,q,U),s,T,x,F,p,h,f),q=M.join(""),void 0!==w&&0===(F=(v=w.trim()).length)&&(p=0,v="")),0<F)switch(p){case 115:q=q.replace(k,a);case 100:case 109:case 45:v=q+"{"+v+"}";break;case 107:v=(q=q.replace(m,"$1 $2"))+"{"+v+"}",v=1===S||2===S&&i("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=q+v,112===f&&(z+=v,v="")}else v="";break;default:v=e(s,t(s,q,U),v,f,h+1)}H+=v,v=U=M=D=d=0,q="",p=u.charCodeAt(++L);break;case 125:case 59:if(1<(F=(q=(0<M?q.replace(l,""):q).trim()).length))switch(0===D&&(d=q.charCodeAt(0),45===d||96<d&&123>d)&&(F=(q=q.replace(" ",":")).length),0<N&&void 0!==(w=o(1,q,s,n,T,x,z.length,f,h,f))&&0===(F=(q=w.trim()).length)&&(q="\0\0"),d=q.charCodeAt(0),p=q.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=q+u.charAt(L);break}default:58!==q.charCodeAt(F-1)&&(z+=r(q,d,p,q.charCodeAt(2)))}U=M=D=d=0,q="",p=u.charCodeAt(++L)}}switch(p){case 13:case 10:47===O?O=0:0===1+d&&107!==f&&0<q.length&&(M=1,q+="\0"),0<N*P&&o(0,q,s,n,T,x,z.length,f,h,f),x=1,T++;break;case 59:case 125:if(0===O+E+j+_){x++;break}default:switch(x++,b=u.charAt(L),p){case 9:case 32:if(0===E+_+O)switch(A){case 44:case 58:case 9:case 32:b="";break;default:32!==p&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===E+O+_&&(M=U=1,b="\f"+b);break;case 108:if(0===E+O+_+I&&0<D)switch(L-D){case 2:112===A&&58===u.charCodeAt(L-3)&&(I=A);case 8:111===R&&(I=R)}break;case 58:0===E+O+_&&(D=L);break;case 44:0===O+j+E+_&&(M=1,b+="\r");break;case 34:case 39:0===O&&(E=E===p?0:0===E?p:E);break;case 91:0===E+O+j&&_++;break;case 93:0===E+O+j&&_--;break;case 41:0===E+O+_&&j--;break;case 40:if(0===E+O+_){if(0===d)switch(2*A+3*R){case 533:break;default:d=1}j++}break;case 64:0===O+j+E+_+D+v&&(v=1);break;case 42:case 47:if(!(0<E+_+j))switch(O){case 0:switch(2*p+3*u.charCodeAt(L+1)){case 235:O=47;break;case 220:F=L,O=42}break;case 42:47===p&&42===A&&F+2!==L&&(33===u.charCodeAt(F+2)&&(z+=u.substring(F,L+1)),b="",O=0)}}0===O&&(q+=b)}R=A,A=p,L++}if(0<(F=z.length)){if(M=s,0<N&&void 0!==(w=o(2,z,M,n,T,x,F,f,h,f))&&0===(z=w).length)return W+z+H;if(z=M.join(",")+"{"+z+"}",0!==S*I){switch(2!==S||i(z,2)||(I=0),I){case 111:z=z.replace(g,":-moz-$1")+z;break;case 112:z=z.replace(y,"::-webkit-input-$1")+z.replace(y,"::-moz-$1")+z.replace(y,":-ms-input-$1")+z}I=0}}return W+z+H}(C,s,n,0,0);return 0<N&&void 0!==(u=o(-2,f,s,s,T,x,f.length,0,0,0))&&(f=u),I=0,x=T=1,f}var c=/^\0+/g,l=/[\0\r\f]/g,f=/: */g,h=/zoo|gra/,d=/([,: ])(transform)/g,p=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,g=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,_=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,j=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,x=1,T=1,I=0,S=1,C=[],A=[],N=0,R=null,P=0;return u.use=function e(t){switch(t){case void 0:case null:N=A.length=0;break;default:if("function"===typeof t)A[N++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else P=0|!!t}return e},u.set=s,void 0!==e&&s(e),u}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){e.exports=n(66)},function(e,t,n){"use strict";var r=n(17),i=n(29);var a=n(30);function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(a.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)})(e)}n.d(t,"a",function(){return o})},,function(e,t,n){"use strict";var r=n(42),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=g.prototype=new y;b.constructor=g,r(b,m.prototype),b.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:k.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+x(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),T(o,t,n,"",function(e){return e})):null!=o&&(j(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+x(s=e[c],c);u+=T(s,t,n,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+x(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",function(e){return t.call(n,e,i++)}),r}function S(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var C={current:null};function A(){var e=C.current;if(null===e)throw Error(d(321));return e}var N={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(1),i=n(42),a=n(57);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){y[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){y[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){y[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){y[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){y[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,O=60106,j=60107,E=60108,x=60114,T=60109,I=60110,S=60112,C=60113,A=60120,N=60115,R=60116,P=60121,D=60128,L=60129,M=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;_=F("react.element"),O=F("react.portal"),j=F("react.fragment"),E=F("react.strict_mode"),x=F("react.profiler"),T=F("react.provider"),I=F("react.context"),S=F("react.forward_ref"),C=F("react.suspense"),A=F("react.suspense_list"),N=F("react.memo"),R=F("react.lazy"),P=F("react.block"),F("react.scope"),D=F("react.opaque.id"),L=F("react.debug_trace_mode"),M=F("react.offscreen"),U=F("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function K(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case O:return"Portal";case x:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case N:return G(e.type);case P:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,me=(ve=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ve(e,t)})}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ge).forEach(function(e){be.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]})});var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oe(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function je(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Te=null,Ie=null;function Se(e){if(e=Xr(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=Zr(t),xe(e.stateNode,e.type,t))}}function Ce(e){Te?Ie?Ie.push(e):Ie=[e]:Te=e}function Ae(){if(Te){var e=Te,t=Ie;if(Ie=Te=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ne(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Pe(){}var De=Ne,Le=!1,Me=!1;function Ue(){null===Te&&null===Ie||(Pe(),Ae())}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var r=Zr(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ve=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ve){Ve=!1}var qe=!1,ze=null,He=!1,We=null,Ke={onError:function(e){qe=!0,ze=e}};function Ge(e,t,n,r,i,a,o,s,u){qe=!1,ze=null,function(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}.apply(Ke,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Qe(e)!==e)throw Error(o(188))}function Xe(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Je(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var Ze,et,tt,nt,rt=!1,it=[],at=null,ot=null,st=null,ut=new Map,ct=new Map,lt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function dt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":ot=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function pt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=ht(t,n,r,i,a),null!==t&&(null!==(t=Xr(t))&&et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=$r(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void nt(e.lanePriority,function(){a.unstable_runWithPriority(e.priority,function(){tt(n)})})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Xr(n))&&et(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){mt(e)&&n.delete(t)}function gt(){for(rt=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=Xr(e.blockedOn))&&Ze(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==at&&mt(at)&&(at=null),null!==ot&&mt(ot)&&(ot=null),null!==st&&mt(st)&&(st=null),ut.forEach(yt),ct.forEach(yt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,gt)))}function kt(e){function t(t){return bt(t,e)}if(0<it.length){bt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&bt(at,e),null!==ot&&bt(ot,e),null!==st&&bt(st,e),ut.forEach(t),ct.forEach(t),n=0;n<lt.length;n++)(r=lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<lt.length&&null===(n=lt[0]).blockedOn;)vt(n),null===n.blockedOn&&lt.shift()}function wt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:wt("Animation","AnimationEnd"),animationiteration:wt("Animation","AnimationIteration"),animationstart:wt("Animation","AnimationStart"),transitionend:wt("Transition","TransitionEnd")},Ot={},jt={};function Et(e){if(Ot[e])return Ot[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in jt)return Ot[e]=n[t];return e}f&&(jt=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var xt=Et("animationend"),Tt=Et("animationiteration"),It=Et("animationstart"),St=Et("transitionend"),Ct=new Map,At=new Map,Nt=["abort","abort",xt,"animationEnd",Tt,"animationIteration",It,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",St,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),At.set(r,t),Ct.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Pt=8;function Dt(e){if(0!==(1&e))return Pt=15,1;if(0!==(2&e))return Pt=14,2;if(0!==(4&e))return Pt=13,4;var t=24&e;return 0!==t?(Pt=12,t):0!==(32&e)?(Pt=11,32):0!==(t=192&e)?(Pt=10,t):0!==(256&e)?(Pt=9,256):0!==(t=3584&e)?(Pt=8,t):0!==(4096&e)?(Pt=7,4096):0!==(t=4186112&e)?(Pt=6,t):0!==(t=62914560&e)?(Pt=5,t):67108864&e?(Pt=4,67108864):0!==(134217728&e)?(Pt=3,134217728):0!==(t=805306368&e)?(Pt=2,t):0!==(1073741824&e)?(Pt=1,1073741824):(Pt=8,e)}function Lt(e,t){var n=e.pendingLanes;if(0===n)return Pt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Pt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Dt(u),i=Pt):0!==(s&=a)&&(r=Dt(s),i=Pt)}else 0!==(a=n&~o)?(r=Dt(a),i=Pt):0!==s&&(r=Dt(s),i=Pt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Dt(t),i<=Pt)return t;Pt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function Mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ft(24&~t))?Ut(10,t):e;case 10:return 0===(e=Ft(192&~t))?Ut(8,t):e;case 8:return 0===(e=Ft(3584&~t))&&(0===(e=Ft(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ft(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Ft(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(zt(e)/Ht|0)|0},zt=Math.log,Ht=Math.LN2;var Wt=a.unstable_UserBlockingPriority,Kt=a.unstable_runWithPriority,Gt=!0;function Qt(e,t,n,r){Le||Pe();var i=$t,a=Le;Le=!0;try{Re(i,e,t,n,r)}finally{(Le=a)||Ue()}}function Yt(e,t,n,r){Kt(Wt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Gt)if((i=0===(4&t))&&0<it.length&&-1<ft.indexOf(e))e=ht(null,e,t,n,r),it.push(e);else{var a=Xt(e,t,n,r);if(null===a)i&&dt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=ht(a,e,t,n,r),void it.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=pt(at,e,t,n,r,i),!0;case"dragenter":return ot=pt(ot,e,t,n,r,i),!0;case"mouseover":return st=pt(st,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ut.set(a,pt(ut.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ct.set(a,pt(ct.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;dt(e,r)}Sr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Ee(r);if(null!==(i=$r(i))){var a=Qe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ye(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Sr(e,t,r,i,n),null}var Jt=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function an(){return!1}function on(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var sn,un,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=on(ln),hn=i({},ln,{view:0,detail:0}),dn=on(hn),pn=i({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=on(pn),mn=on(i({},pn,{dataTransfer:0})),yn=on(i({},hn,{relatedTarget:0})),gn=on(i({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=on(i({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),kn=on(i({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},On={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=On[e])&&!!t[e]}function En(){return jn}var xn=on(i({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Tn=on(i({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(i({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Sn=on(i({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=on(i({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=[9,13,27,32],Nn=f&&"CompositionEvent"in window,Rn=null;f&&"documentMode"in document&&(Rn=document.documentMode);var Pn=f&&"TextEvent"in window&&!Rn,Dn=f&&(!Nn||Rn&&8<Rn&&11>=Rn),Ln=String.fromCharCode(32),Mn=!1;function Un(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function zn(e,t,n,r){Ce(r),0<(t=Ar(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Kn(e){Or(e,0)}function Gn(e){if(X(Jr(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(f){var $n;if(f){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"===typeof Jn.oninput}$n=Xn}else $n=!1;Yn=$n&&(!document.documentMode||9<document.documentMode)}function Zn(){Hn&&(Hn.detachEvent("onpropertychange",er),Wn=Hn=null)}function er(e){if("value"===e.propertyName&&Gn(Wn)){var t=[];if(zn(t,Wn,e,Ee(e)),e=Kn,Le)e(t);else{Le=!0;try{Ne(e,t)}finally{Le=!1,Ue()}}}}function tr(e,t,n){"focusin"===e?(Zn(),Wn=n,(Hn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Wn)}function rr(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},or=Object.prototype.hasOwnProperty;function sr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!or.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function lr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var hr=f&&"documentMode"in document&&11>=document.documentMode,dr=null,pr=null,vr=null,mr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==dr||dr!==J(r)||("selectionStart"in(r=dr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&sr(vr,r)||(vr=r,0<(r=Ar(pr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Nt,2);for(var gr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),br=0;br<gr.length;br++)At.set(gr[br],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function _r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ge.apply(this,arguments),qe){if(!qe)throw Error(o(198));var l=ze;qe=!1,ze=null,He||(He=!0,We=l)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;_r(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;_r(i,s,c),a=u}}}if(He)throw e=We,He=!1,We=null,e}function jr(e,t){var n=ei(t),r=e+"__bubble";n.has(r)||(Ir(t,e,2,!1),n.add(r))}var Er="_reactListening"+Math.random().toString(36).slice(2);function xr(e){e[Er]||(e[Er]=!0,s.forEach(function(t){wr.has(t)||Tr(t,!1,e,null),Tr(t,!0,e,null)}))}function Tr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&wr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ei(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Ir(a,e,i,t),o.add(s))}function Ir(e,t,n,r){var i=At.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Yt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Sr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=$r(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Me)return e(t,n);Me=!0;try{De(e,t,n)}finally{Me=!1,Ue()}}(function(){var r=a,i=Ee(n),o=[];e:{var s=Ct.get(e);if(void 0!==s){var u=fn,c=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":u=xn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case xt:case Tt:case It:u=gn;break;case St:u=Sn;break;case"scroll":u=dn;break;case"wheel":u=Cn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Fe(p,h))&&l.push(Cr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!$r(c)&&!c[Qr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?$r(c):null)&&(c!==(f=Qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=vn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:Jr(u),d=null==c?s:Jr(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,$r(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Nr(d))p++;for(d=0,v=h;v;v=Nr(v))d++;for(;0<p-d;)l=Nr(l),p--;for(;0<d-p;)h=Nr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Nr(l),h=Nr(h)}l=null}else l=null;null!==u&&Rr(o,s,u,l,!1),null!==c&&null!==f&&Rr(o,f,c,l,!0)}if("select"===(u=(s=r?Jr(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Qn;else if(qn(s))if(Yn)m=ir;else{m=nr;var y=tr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=rr);switch(m&&(m=m(e,r))?zn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?Jr(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(dr=y,pr=r,vr=null);break;case"focusout":vr=pr=dr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,yr(o,n,i);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":yr(o,n,i)}var g;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(g=tn()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Vn=!0)),0<(y=Ar(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Fn(n))&&(b.data=g))),(g=Pn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Nn&&Un(e,t)?(e=tn(),en=Zt=Jt=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ar(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Or(o,t)})}function Cr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ar(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Fe(e,n))&&r.unshift(Cr(e,a,i)),null!=(a=Fe(e,t))&&r.push(Cr(e,a,i))),e=e.return}return r}function Nr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Rr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Fe(n,a))&&o.unshift(Cr(n,u,s)):i||null!=(u=Fe(n,a))&&o.push(Cr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Pr(){}var Dr=null,Lr=null;function Mr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ur(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Fr="function"===typeof setTimeout?setTimeout:void 0,Vr="function"===typeof clearTimeout?clearTimeout:void 0;function Br(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function zr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hr=0;var Wr=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Wr,Gr="__reactProps$"+Wr,Qr="__reactContainer$"+Wr,Yr="__reactEvents$"+Wr;function $r(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[Kr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=zr(e);null!==e;){if(n=e[Kr])return n;e=zr(e)}return t}n=(e=n).parentNode}return null}function Xr(e){return!(e=e[Kr]||e[Qr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Jr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Zr(e){return e[Gr]||null}function ei(e){var t=e[Yr];return void 0===t&&(t=e[Yr]=new Set),t}var ti=[],ni=-1;function ri(e){return{current:e}}function ii(e){0>ni||(e.current=ti[ni],ti[ni]=null,ni--)}function ai(e,t){ti[++ni]=e.current,e.current=t}var oi={},si=ri(oi),ui=ri(!1),ci=oi;function li(e,t){var n=e.type.contextTypes;if(!n)return oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function fi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function hi(){ii(ui),ii(si)}function di(e,t,n){if(si.current!==oi)throw Error(o(168));ai(si,t),ai(ui,n)}function pi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oi,ci=si.current,ai(si,e),ai(ui,ui.current),!0}function mi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=pi(e,t,ci),r.__reactInternalMemoizedMergedChildContext=e,ii(ui),ii(si),ai(si,e)):ii(ui),ai(ui,n)}var yi=null,gi=null,bi=a.unstable_runWithPriority,ki=a.unstable_scheduleCallback,wi=a.unstable_cancelCallback,_i=a.unstable_shouldYield,Oi=a.unstable_requestPaint,ji=a.unstable_now,Ei=a.unstable_getCurrentPriorityLevel,xi=a.unstable_ImmediatePriority,Ti=a.unstable_UserBlockingPriority,Ii=a.unstable_NormalPriority,Si=a.unstable_LowPriority,Ci=a.unstable_IdlePriority,Ai={},Ni=void 0!==Oi?Oi:function(){},Ri=null,Pi=null,Di=!1,Li=ji(),Mi=1e4>Li?ji:function(){return ji()-Li};function Ui(){switch(Ei()){case xi:return 99;case Ti:return 98;case Ii:return 97;case Si:return 96;case Ci:return 95;default:throw Error(o(332))}}function Fi(e){switch(e){case 99:return xi;case 98:return Ti;case 97:return Ii;case 96:return Si;case 95:return Ci;default:throw Error(o(332))}}function Vi(e,t){return e=Fi(e),bi(e,t)}function Bi(e,t,n){return e=Fi(e),ki(e,t,n)}function qi(){if(null!==Pi){var e=Pi;Pi=null,wi(e)}zi()}function zi(){if(!Di&&null!==Ri){Di=!0;var e=0;try{var t=Ri;Vi(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),Ri=null}catch(n){throw null!==Ri&&(Ri=Ri.slice(e+1)),ki(xi,qi),n}finally{Di=!1}}}var Hi=w.ReactCurrentBatchConfig;function Wi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=ri(null),Gi=null,Qi=null,Yi=null;function $i(){Yi=Qi=Gi=null}function Xi(e){var t=Ki.current;ii(Ki),e.type._context._currentValue=t}function Ji(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Zi(e,t){Gi=e,Yi=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Co=!0),e.firstContext=null)}function ea(e,t){if(Yi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Yi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qi){if(null===Gi)throw Error(o(308));Qi=t,Gi.dependencies={lanes:0,firstContext:t,responders:null}}else Qi=Qi.next=t;return e._currentValue}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var a=e.updateQueue;ta=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:ta=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Rs|=s,e.lanes=s,e.memoizedState=h}}function ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var ca=(new r.Component).refs;function la(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=iu(),i=au(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),ou(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=iu(),i=au(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),ou(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=iu(),r=au(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),ou(e,r,n)}};function ha(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function da(e,t,n){var r=!1,i=oi,a=t.contextType;return"object"===typeof a&&null!==a?a=ea(a):(i=fi(t)?ci:si.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?li(e,i):oi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function pa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ca,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ea(a):(a=fi(t)?ci:si.current,i.context=li(e,a)),sa(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(la(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fa.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ma=Array.isArray;function ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ca&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function ga(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ba(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ya(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=ya(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=ya(e,null,t),n.return=e,n;case O:return(t=Vu(t,e.mode,n)).return=e,t}if(ma(t)||q(t))return(t=Mu(t,e.mode,n,null)).return=e,t;ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===j?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case O:return n.key===i?l(e,t,n,r):null}if(ma(n)||q(n))return null!==i?null:f(e,t,n,r,null);ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===j?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case O:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ma(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);ga(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach(function(e){return t(i,e)}),c}function m(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach(function(e){return t(i,e)}),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===j&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(a.type===j){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}break;default:if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=ya(e,c,a),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}a.type===j?((r=Mu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Lu(a.type,a.key,a.props,null,e.mode,u)).ref=ya(e,r,a),u.return=e,e=u)}return s(e);case O:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Vu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Fu(a,e.mode,u)).return=e,e=r),s(e);if(ma(a))return v(e,r,a,u);if(q(a))return m(e,r,a,u);if(l&&ga(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var ka=ba(!0),wa=ba(!1),_a={},Oa=ri(_a),ja=ri(_a),Ea=ri(_a);function xa(e){if(e===_a)throw Error(o(174));return e}function Ta(e,t){switch(ai(Ea,t),ai(ja,e),ai(Oa,_a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ii(Oa),ai(Oa,t)}function Ia(){ii(Oa),ii(ja),ii(Ea)}function Sa(e){xa(Ea.current);var t=xa(Oa.current),n=de(t,e.type);t!==n&&(ai(ja,e),ai(Oa,n))}function Ca(e){ja.current===e&&(ii(Oa),ii(ja))}var Aa=ri(0);function Na(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ra=null,Pa=null,Da=!1;function La(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ma(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ua(e){if(Da){var t=Pa;if(t){var n=t;if(!Ma(e,t)){if(!(t=qr(n.nextSibling))||!Ma(e,t))return e.flags=-1025&e.flags|2,Da=!1,void(Ra=e);La(Ra,n)}Ra=e,Pa=qr(t.firstChild)}else e.flags=-1025&e.flags|2,Da=!1,Ra=e}}function Fa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ra=e}function Va(e){if(e!==Ra)return!1;if(!Da)return Fa(e),Da=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ur(t,e.memoizedProps))for(t=Pa;t;)La(e,t),t=qr(t.nextSibling);if(Fa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pa=qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pa=null}}else Pa=Ra?qr(e.stateNode.nextSibling):null;return!0}function Ba(){Pa=Ra=null,Da=!1}var qa=[];function za(){for(var e=0;e<qa.length;e++)qa[e]._workInProgressVersionPrimary=null;qa.length=0}var Ha=w.ReactCurrentDispatcher,Wa=w.ReactCurrentBatchConfig,Ka=0,Ga=null,Qa=null,Ya=null,$a=!1,Xa=!1;function Ja(){throw Error(o(321))}function Za(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,i,a){if(Ka=a,Ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ha.current=null===e||null===e.memoizedState?xo:To,e=n(r,i),Xa){a=0;do{if(Xa=!1,!(25>a))throw Error(o(301));a+=1,Ya=Qa=null,t.updateQueue=null,Ha.current=Io,e=n(r,i)}while(Xa)}if(Ha.current=Eo,t=null!==Qa&&null!==Qa.next,Ka=0,Ya=Qa=Ga=null,$a=!1,t)throw Error(o(300));return e}function to(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ya?Ga.memoizedState=Ya=e:Ya=Ya.next=e,Ya}function no(){if(null===Qa){var e=Ga.alternate;e=null!==e?e.memoizedState:null}else e=Qa.next;var t=null===Ya?Ga.memoizedState:Ya.next;if(null!==t)Ya=t,Qa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Qa=e).memoizedState,baseState:Qa.baseState,baseQueue:Qa.baseQueue,queue:Qa.queue,next:null},null===Ya?Ga.memoizedState=Ya=e:Ya=Ya.next=e}return Ya}function ro(e,t){return"function"===typeof t?t(e):t}function io(e){var t=no(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Qa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ka&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Ga.lanes|=l,Rs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,ar(r,t.memoizedState)||(Co=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ao(e){var t=no(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);ar(a,t.memoizedState)||(Co=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function oo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ka&e)===e)&&(t._workInProgressVersionPrimary=r,qa.push(t))),e)return n(t._source);throw qa.push(t),Error(o(350))}function so(e,t,n,r){var i=Es;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ha.current,c=u.useState(function(){return oo(i,t,n)}),l=c[1],f=c[0];c=Ya;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Ga;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect(function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!ar(s,e)){e=n(t._source),ar(f,e)||(l(e),e=au(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-qt(o),c=1<<u;r[u]|=e,o&=~c}}},[n,t,r]),u.useEffect(function(){return r(t._source,function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=au(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n(function(){throw a})}})},[t,r]),ar(p,n)&&ar(v,t)&&ar(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ro,lastRenderedState:f}).dispatch=l=jo.bind(null,Ga,e),c.queue=e,c.baseQueue=null,f=oo(i,t,n),c.memoizedState=c.baseState=f),f}function uo(e,t,n){return so(no(),e,t,n)}function co(e){var t=to();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ro,lastRenderedState:e}).dispatch=jo.bind(null,Ga,e),[t.memoizedState,e]}function lo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ga.updateQueue)?(t={lastEffect:null},Ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fo(e){return e={current:e},to().memoizedState=e}function ho(){return no().memoizedState}function po(e,t,n,r){var i=to();Ga.flags|=e,i.memoizedState=lo(1|t,n,void 0,void 0===r?null:r)}function vo(e,t,n,r){var i=no();r=void 0===r?null:r;var a=void 0;if(null!==Qa){var o=Qa.memoizedState;if(a=o.destroy,null!==r&&Za(r,o.deps))return void lo(t,n,a,r)}Ga.flags|=e,i.memoizedState=lo(1|t,n,a,r)}function mo(e,t){return po(516,4,e,t)}function yo(e,t){return vo(516,4,e,t)}function go(e,t){return vo(4,2,e,t)}function bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ko(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,vo(4,2,bo.bind(null,t,e),n)}function wo(){}function _o(e,t){var n=no();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Za(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oo(e,t){var n=no();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Za(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jo(e,t,n){var r=iu(),i=au(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ga||null!==o&&o===Ga)Xa=$a=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,ar(u,s))return}catch(c){}ou(e,i,r)}}var Eo={readContext:ea,useCallback:Ja,useContext:Ja,useEffect:Ja,useImperativeHandle:Ja,useLayoutEffect:Ja,useMemo:Ja,useReducer:Ja,useRef:Ja,useState:Ja,useDebugValue:Ja,useDeferredValue:Ja,useTransition:Ja,useMutableSource:Ja,useOpaqueIdentifier:Ja,unstable_isNewReconciler:!1},xo={readContext:ea,useCallback:function(e,t){return to().memoizedState=[e,void 0===t?null:t],e},useContext:ea,useEffect:mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,po(4,2,bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return po(4,2,e,t)},useMemo:function(e,t){var n=to();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=to();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=jo.bind(null,Ga,e),[r.memoizedState,e]},useRef:fo,useState:co,useDebugValue:wo,useDeferredValue:function(e){var t=co(e),n=t[0],r=t[1];return mo(function(){var t=Wa.transition;Wa.transition=1;try{r(e)}finally{Wa.transition=t}},[e]),n},useTransition:function(){var e=co(!1),t=e[0];return fo(e=function(e,t){var n=Ui();Vi(98>n?98:n,function(){e(!0)}),Vi(97<n?97:n,function(){var n=Wa.transition;Wa.transition=1;try{e(!1),t()}finally{Wa.transition=n}})}.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=to();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},so(r,e,t,n)},useOpaqueIdentifier:function(){if(Da){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}(function(){throw e||(e=!0,n("r:"+(Hr++).toString(36))),Error(o(355))}),n=co(t)[1];return 0===(2&Ga.mode)&&(Ga.flags|=516,lo(5,function(){n("r:"+(Hr++).toString(36))},void 0,null)),t}return co(t="r:"+(Hr++).toString(36)),t},unstable_isNewReconciler:!1},To={readContext:ea,useCallback:_o,useContext:ea,useEffect:yo,useImperativeHandle:ko,useLayoutEffect:go,useMemo:Oo,useReducer:io,useRef:ho,useState:function(){return io(ro)},useDebugValue:wo,useDeferredValue:function(e){var t=io(ro),n=t[0],r=t[1];return yo(function(){var t=Wa.transition;Wa.transition=1;try{r(e)}finally{Wa.transition=t}},[e]),n},useTransition:function(){var e=io(ro)[0];return[ho().current,e]},useMutableSource:uo,useOpaqueIdentifier:function(){return io(ro)[0]},unstable_isNewReconciler:!1},Io={readContext:ea,useCallback:_o,useContext:ea,useEffect:yo,useImperativeHandle:ko,useLayoutEffect:go,useMemo:Oo,useReducer:ao,useRef:ho,useState:function(){return ao(ro)},useDebugValue:wo,useDeferredValue:function(e){var t=ao(ro),n=t[0],r=t[1];return yo(function(){var t=Wa.transition;Wa.transition=1;try{r(e)}finally{Wa.transition=t}},[e]),n},useTransition:function(){var e=ao(ro)[0];return[ho().current,e]},useMutableSource:uo,useOpaqueIdentifier:function(){return ao(ro)[0]},unstable_isNewReconciler:!1},So=w.ReactCurrentOwner,Co=!1;function Ao(e,t,n,r){t.child=null===e?wa(t,null,n,r):ka(t,e.child,n,r)}function No(e,t,n,r,i){n=n.render;var a=t.ref;return Zi(t,i),r=eo(e,t,n,r,a,i),null===e||Co?(t.flags|=1,Ao(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Zo(e,t,i))}function Ro(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Pu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Po(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:sr)(i,r)&&e.ref===t.ref)?Zo(e,t,a):(t.flags|=1,(e=Du(o,r)).ref=t.ref,e.return=t,t.child=e)}function Po(e,t,n,r,i,a){if(null!==e&&sr(e.memoizedProps,r)&&e.ref===t.ref){if(Co=!1,0===(a&i))return t.lanes=e.lanes,Zo(e,t,a);0!==(16384&e.flags)&&(Co=!0)}return Mo(e,t,n,r,a)}function Do(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},du(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},du(t,e),null;t.memoizedState={baseLanes:0},du(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,du(t,r);return Ao(e,t,i,n),t.child}function Lo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Mo(e,t,n,r,i){var a=fi(n)?ci:si.current;return a=li(t,a),Zi(t,i),n=eo(e,t,n,r,a,i),null===e||Co?(t.flags|=1,Ao(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Zo(e,t,i))}function Uo(e,t,n,r,i){if(fi(n)){var a=!0;vi(t)}else a=!1;if(Zi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),da(t,n,r),va(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ea(c):c=li(t,c=fi(n)?ci:si.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&pa(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,sa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||ui.current||ta?("function"===typeof l&&(la(t,n,l,r),u=t.memoizedState),(s=ta||ha(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Wi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=ea(u):u=li(t,u=fi(n)?ci:si.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&pa(t,o,r,u),ta=!1,h=t.memoizedState,o.state=h,sa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||ui.current||ta?("function"===typeof d&&(la(t,n,d,r),p=t.memoizedState),(c=ta||ha(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Fo(e,t,n,r,a,i)}function Fo(e,t,n,r,i,a){Lo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&mi(t,n,!1),Zo(e,t,a);r=t.stateNode,So.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ka(t,e.child,null,a),t.child=ka(t,null,s,a)):Ao(e,t,s,a),t.memoizedState=r.state,i&&mi(t,n,!0),t.child}function Vo(e){var t=e.stateNode;t.pendingContext?di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&di(0,t.context,!1),Ta(e,t.containerInfo)}var Bo,qo,zo,Ho,Wo={dehydrated:null,retryLane:0};function Ko(e,t,n){var r,i=t.pendingProps,a=Aa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),ai(Aa,1&a),null===e?(void 0!==i.fallback&&Ua(t),e=i.children,a=i.fallback,o?(e=Go(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Wo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Go(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Wo,t.lanes=33554432,e):((n=Uu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=Yo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Wo,i):(n=Qo(e,t,i.children,n),t.memoizedState=null,n))}function Go(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Uu(t,i,0,null),n=Mu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Qo(e,t,n,r){var i=e.child;return e=i.sibling,n=Du(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Yo(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Du(o,s),null!==e?r=Du(e,r):(r=Mu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function $o(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ji(e.return,t)}function Xo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function Jo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ao(e,t,r.children,n),0!==(2&(r=Aa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$o(e,n);else if(19===e.tag)$o(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ai(Aa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Na(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Na(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xo(t,!0,n,null,a,t.lastEffect);break;case"together":Xo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Zo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function es(e,t){if(!Da)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return fi(t.type)&&hi(),null;case 3:return Ia(),ii(ui),ii(si),za(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:r.hydrate||(t.flags|=256)),qo(t),null;case 5:Ca(t);var a=xa(Ea.current);if(n=t.type,null!==e&&null!=t.stateNode)zo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=xa(Oa.current),Va(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Kr]=t,r[Gr]=s,n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)jr(kr[e],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":ee(r,s),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jr("invalid",r);break;case"textarea":ue(r,s),jr("invalid",r)}for(var c in Oe(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&jr("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Pr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe.html&&(e=he(n)),e===fe.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Kr]=t,e[Gr]=r,Bo(e,t,!1,!1),t.stateNode=e,c=je(n,r),n){case"dialog":jr("cancel",e),jr("close",e),a=r;break;case"iframe":case"object":case"embed":jr("load",e),a=r;break;case"video":case"audio":for(a=0;a<kr.length;a++)jr(kr[a],e);a=r;break;case"source":jr("error",e),a=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),a=r;break;case"details":jr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),jr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),jr("invalid",e);break;default:a=r}Oe(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?we(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&jr("scroll",e):null!=f&&k(e,s,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Pr)}Mr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ho(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=xa(Ea.current),xa(Oa.current),Va(t)?(r=t.stateNode,n=t.memoizedProps,r[Kr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Kr]=t,t.stateNode=r)}return null;case 13:return ii(Aa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Va(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Aa.current)?0===Cs&&(Cs=3):(0!==Cs&&3!==Cs||(Cs=4),null===Es||0===(134217727&Rs)&&0===(134217727&Ps)||cu(Es,Ts))),(r||n)&&(t.flags|=4),null);case 4:return Ia(),qo(t),null===e&&xr(t.stateNode.containerInfo),null;case 10:return Xi(t),null;case 17:return fi(t.type)&&hi(),null;case 19:if(ii(Aa),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)es(r,!1);else{if(0!==Cs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Na(e))){for(t.flags|=64,es(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ai(Aa,1&Aa.current|2),t.child}e=e.sibling}null!==r.tail&&Mi()>Us&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Na(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),es(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Da)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Mi()-r.renderingStartTime>Us&&1073741824!==n&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Mi(),n.sibling=null,t=Aa.current,ai(Aa,s?1&t|2:1&t),n):null;case 23:case 24:return pu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function ns(e){switch(e.tag){case 1:fi(e.type)&&hi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ia(),ii(ui),ii(si),za(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ca(e),null;case 13:return ii(Aa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ii(Aa),null;case 4:return Ia(),null;case 10:return Xi(e),null;case 23:case 24:return pu(),null;default:return null}}function rs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function is(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}Bo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qo=function(){},zo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,xa(Oa.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Pr)}for(f in Oe(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&jr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===D?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Ho=function(e,t,n,r){n!==r&&(t.flags|=4)};var as="function"===typeof WeakMap?WeakMap:Map;function os(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,zs=r),is(0,t)},n}function ss(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return is(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this),is(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var us="function"===typeof WeakSet?WeakSet:Set;function cs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Cu(e,n)}else t.current=null}function ls(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Wi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Br(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function fs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Tu(n,e),xu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Wi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ua(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ua(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Mr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&kt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function hs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ke("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ds(e,t){if(gi&&"function"===typeof gi.onCommitFiberUnmount)try{gi.onCommitFiberUnmount(yi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Tu(t,n);else{r=t;try{i()}catch(a){Cu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(cs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Cu(t,a)}break;case 5:cs(t);break;case 4:ys(e,t)}}function ps(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function ms(e){e:{for(var t=e.return;null!==t;){if(vs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,null!==r&&void 0!==r||null!==n.onclick||(n.onclick=Pr));else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ys(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ds(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ds(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function gs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Gr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),je(e,i),t=je(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ye(n,u):k(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,kt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Ms=Mi(),hs(t.child,!0)),void bs(t);case 19:return void bs(t);case 17:return;case 23:case 24:return void hs(t,null!==t.memoizedState)}throw Error(o(163))}function bs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach(function(t){var r=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ui()?1:2:(0===eu&&(eu=Ns),0===(t=Ft(62914560&~eu))&&(t=4194304))),n=iu(),null!==(e=su(e,t))&&(Bt(e,t,n),uu(e,n))}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ks(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ws=Math.ceil,_s=w.ReactCurrentDispatcher,Os=w.ReactCurrentOwner,js=0,Es=null,xs=null,Ts=0,Is=0,Ss=ri(0),Cs=0,As=null,Ns=0,Rs=0,Ps=0,Ds=0,Ls=null,Ms=0,Us=1/0;function Fs(){Us=Mi()+500}var Vs,Bs=null,qs=!1,zs=null,Hs=null,Ws=!1,Ks=null,Gs=90,Qs=[],Ys=[],$s=null,Xs=0,Js=null,Zs=-1,eu=0,tu=0,nu=null,ru=!1;function iu(){return 0!==(48&js)?Mi():-1!==Zs?Zs:Zs=Mi()}function au(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ui()?1:2;if(0===eu&&(eu=Ns),0!==Hi.transition){0!==tu&&(tu=null!==Ls?Ls.pendingLanes:0),e=eu;var t=4186112&~tu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ui(),0!==(4&js)&&98===e?e=Ut(12,eu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),eu),e}function ou(e,t,n){if(50<Xs)throw Xs=0,Js=null,Error(o(185));if(null===(e=su(e,t)))return null;Bt(e,t,n),e===Es&&(Ps|=t,4===Cs&&cu(e,Ts));var r=Ui();1===t?0!==(8&js)&&0===(48&js)?lu(e):(uu(e,n),0===js&&(Fs(),qi())):(0===(4&js)||98!==r&&99!==r||(null===$s?$s=new Set([e]):$s.add(e)),uu(e,n)),Ls=e}function su(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function uu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-qt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Dt(c);var f=Pt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Lt(e,e===Es?Ts:0),t=Pt,0===r)null!==n&&(n!==Ai&&wi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ai&&wi(n)}15===t?(n=lu.bind(null,e),null===Ri?(Ri=[n],Pi=ki(xi,zi)):Ri.push(n),n=Ai):14===t?n=Bi(99,lu.bind(null,e)):n=Bi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),function e(t){Zs=-1;tu=eu=0;if(0!==(48&js))throw Error(o(327));var n=t.callbackNode;if(Eu()&&t.callbackNode!==n)return null;var r=Lt(t,t===Es?Ts:0);if(0===r)return null;var i=r;var a=js;js|=16;var s=yu();Es===t&&Ts===i||(Fs(),vu(t,i));for(;;)try{ku();break}catch(u){mu(t,u)}$i();_s.current=s;js=a;null!==xs?i=0:(Es=null,Ts=0,i=Cs);if(0!==(Ns&Ps))vu(t,0);else if(0!==i){if(2===i&&(js|=64,t.hydrate&&(t.hydrate=!1,Br(t.containerInfo)),0!==(r=Mt(t))&&(i=gu(t,r))),1===i)throw n=As,vu(t,0),cu(t,r),uu(t,Mi()),n;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,i){case 0:case 1:throw Error(o(345));case 2:Ou(t);break;case 3:if(cu(t,r),(62914560&r)===r&&10<(i=Ms+500-Mi())){if(0!==Lt(t,0))break;if(((a=t.suspendedLanes)&r)!==r){iu(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Fr(Ou.bind(null,t),i);break}Ou(t);break;case 4:if(cu(t,r),(4186112&r)===r)break;for(i=t.eventTimes,a=-1;0<r;){var c=31-qt(r);s=1<<c,(c=i[c])>a&&(a=c),r&=~s}if(r=a,10<(r=(120>(r=Mi()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){t.timeoutHandle=Fr(Ou.bind(null,t),r);break}Ou(t);break;case 5:Ou(t);break;default:throw Error(o(329))}}uu(t,Mi());return t.callbackNode===n?e.bind(null,t):null}.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function cu(e,t){for(t&=~Ds,t&=~Ps,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(48&js))throw Error(o(327));if(Eu(),e===Es&&0!==(e.expiredLanes&Ts)){var t=Ts,n=gu(e,t);0!==(Ns&Ps)&&(n=gu(e,t=Lt(e,t)))}else n=gu(e,t=Lt(e,0));if(0!==e.tag&&2===n&&(js|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(t=Mt(e))&&(n=gu(e,t))),1===n)throw n=As,vu(e,0),cu(e,t),uu(e,Mi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),uu(e,Mi()),null}function fu(e,t){var n=js;js|=1;try{return e(t)}finally{0===(js=n)&&(Fs(),qi())}}function hu(e,t){var n=js;js&=-2,js|=8;try{return e(t)}finally{0===(js=n)&&(Fs(),qi())}}function du(e,t){ai(Ss,Is),Is|=t,Ns|=t}function pu(){Is=Ss.current,ii(Ss)}function vu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==xs)for(n=xs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&hi();break;case 3:Ia(),ii(ui),ii(si),za();break;case 5:Ca(r);break;case 4:Ia();break;case 13:case 19:ii(Aa);break;case 10:Xi(r);break;case 23:case 24:pu()}n=n.return}Es=e,xs=Du(e.current,null),Ts=Is=Ns=t,Cs=0,As=null,Ds=Ps=Rs=0}function mu(e,t){for(;;){var n=xs;try{if($i(),Ha.current=Eo,$a){for(var r=Ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}$a=!1}if(Ka=0,Ya=Qa=Ga=null,Xa=!1,Os.current=null,null===n||null===n.return){Cs=1,As=t,xs=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ts,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Aa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=ia(-1,1);g.tag=2,aa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new as,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var k=Au.bind(null,a,c,s);c.then(k,k)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Cs&&(Cs=2),u=rs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,oa(h,os(0,a,t));break e;case 1:a=u;var w=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Hs||!Hs.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,oa(h,ss(h,a,t));break e}}h=h.return}while(null!==h)}_u(n)}catch(O){t=O,xs===n&&null!==n&&(xs=n=n.return);continue}break}}function yu(){var e=_s.current;return _s.current=Eo,null===e?Eo:e}function gu(e,t){var n=js;js|=16;var r=yu();for(Es===e&&Ts===t||vu(e,t);;)try{bu();break}catch(i){mu(e,i)}if($i(),js=n,_s.current=r,null!==xs)throw Error(o(261));return Es=null,Ts=0,Cs}function bu(){for(;null!==xs;)wu(xs)}function ku(){for(;null!==xs&&!_i();)wu(xs)}function wu(e){var t=Vs(e.alternate,e,Is);e.memoizedProps=e.pendingProps,null===t?_u(e):xs=t,Os.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ts(n,t,Is)))return void(xs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Is)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ns(t)))return n.flags&=2047,void(xs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(xs=t);xs=t=e}while(null!==t);0===Cs&&(Cs=5)}function Ou(e){var t=Ui();return Vi(99,function(e,t){do{Eu()}while(null!==Ks);if(0!==(48&js))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-qt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==$s&&0===(24&r)&&$s.has(e)&&$s.delete(e),e===Es&&(xs=Es=null,Ts=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=js,js|=32,Os.current=null,Dr=Gt,fr(s=lr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(x){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Lr={focusedElem:s,selectionRange:u},Gt=!1,nu=null,ru=!1,Bs=r;do{try{ju()}catch(x){if(null===Bs)throw Error(o(330));Cu(Bs,x),Bs=Bs.nextEffect}}while(null!==Bs);nu=null,Bs=r;do{try{for(s=e;null!==Bs;){var b=Bs.flags;if(16&b&&ye(Bs.stateNode,""),128&b){var k=Bs.alternate;if(null!==k){var w=k.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:ms(Bs),Bs.flags&=-3;break;case 6:ms(Bs),Bs.flags&=-3,gs(Bs.alternate,Bs);break;case 1024:Bs.flags&=-1025;break;case 1028:Bs.flags&=-1025,gs(Bs.alternate,Bs);break;case 4:gs(Bs.alternate,Bs);break;case 8:ys(s,u=Bs);var _=u.alternate;ps(u),null!==_&&ps(_)}Bs=Bs.nextEffect}}catch(x){if(null===Bs)throw Error(o(330));Cu(Bs,x),Bs=Bs.nextEffect}}while(null!==Bs);if(w=Lr,k=lr(),b=w.focusedElem,s=w.selectionRange,k!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==s&&fr(b)&&(k=s.start,void 0===(w=s.end)&&(w=k),"selectionStart"in b?(b.selectionStart=k,b.selectionEnd=Math.min(w,b.value.length)):(w=(k=b.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!w.extend&&_>s&&(u=s,s=_,_=u),u=cr(b,_),a=cr(b,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((k=k.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),_>s?(w.addRange(k),w.extend(a.node,a.offset)):(k.setEnd(a.node,a.offset),w.addRange(k))))),k=[];for(w=b;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<k.length;b++)(w=k[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Gt=!!Dr,Lr=Dr=null,e.current=n,Bs=r;do{try{for(b=e;null!==Bs;){var O=Bs.flags;if(36&O&&fs(b,Bs.alternate,Bs),128&O){k=void 0;var j=Bs.ref;if(null!==j){var E=Bs.stateNode;switch(Bs.tag){case 5:k=E;break;default:k=E}"function"===typeof j?j(k):j.current=k}}Bs=Bs.nextEffect}}catch(x){if(null===Bs)throw Error(o(330));Cu(Bs,x),Bs=Bs.nextEffect}}while(null!==Bs);Bs=null,Ni(),js=i}else e.current=n;if(Ws)Ws=!1,Ks=e,Gs=t;else for(Bs=r;null!==Bs;)t=Bs.nextEffect,Bs.nextEffect=null,8&Bs.flags&&((O=Bs).sibling=null,O.stateNode=null),Bs=t;if(0===(r=e.pendingLanes)&&(Hs=null),1===r?e===Js?Xs++:(Xs=0,Js=e):Xs=0,n=n.stateNode,gi&&"function"===typeof gi.onCommitFiberRoot)try{gi.onCommitFiberRoot(yi,n,void 0,64===(64&n.current.flags))}catch(x){}if(uu(e,Mi()),qs)throw qs=!1,e=zs,zs=null,e;return 0!==(8&js)?null:(qi(),null)}.bind(null,e,t)),null}function ju(){for(;null!==Bs;){var e=Bs.alternate;ru||null===nu||(0!==(8&Bs.flags)?Je(Bs,nu)&&(ru=!0):13===Bs.tag&&ks(e,Bs)&&Je(Bs,nu)&&(ru=!0));var t=Bs.flags;0!==(256&t)&&ls(e,Bs),0===(512&t)||Ws||(Ws=!0,Bi(97,function(){return Eu(),null})),Bs=Bs.nextEffect}}function Eu(){if(90!==Gs){var e=97<Gs?97:Gs;return Gs=90,Vi(e,Iu)}return!1}function xu(e,t){Qs.push(t,e),Ws||(Ws=!0,Bi(97,function(){return Eu(),null}))}function Tu(e,t){Ys.push(t,e),Ws||(Ws=!0,Bi(97,function(){return Eu(),null}))}function Iu(){if(null===Ks)return!1;var e=Ks;if(Ks=null,0!==(48&js))throw Error(o(331));var t=js;js|=32;var n=Ys;Ys=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Cu(a,c)}}for(n=Qs,Qs=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Cu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return js=t,qi(),!0}function Su(e,t,n){aa(e,t=os(0,t=rs(n,t),1)),t=iu(),null!==(e=su(e,1))&&(Bt(e,1,t),uu(e,t))}function Cu(e,t){if(3===e.tag)Su(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Su(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){var i=ss(n,e=rs(t,e),1);if(aa(n,i),i=iu(),null!==(n=su(n,1)))Bt(n,1,i),uu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Au(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=iu(),e.pingedLanes|=e.suspendedLanes&n,Es===e&&(Ts&n)===n&&(4===Cs||3===Cs&&(62914560&Ts)===Ts&&500>Mi()-Ms?vu(e,0):Ds|=n),uu(e,t)}function Nu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Nu(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case j:return Mu(n.children,i,a,t);case L:s=8,i|=16;break;case E:s=8,i|=1;break;case x:return(e=Ru(12,n,t,8|i)).elementType=x,e.type=x,e.lanes=a,e;case C:return(e=Ru(13,n,t,i)).type=C,e.elementType=C,e.lanes=a,e;case A:return(e=Ru(19,n,t,i)).elementType=A,e.lanes=a,e;case M:return Uu(n,i,a,t);case U:return(e=Ru(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case S:s=11;break e;case N:s=14;break e;case R:s=16,r=null;break e;case P:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ru(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mu(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Uu(e,t,n,r){return(e=Ru(23,e,r,t)).elementType=M,e.lanes=n,e}function Fu(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Vu(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function qu(e,t,n,r){var i=t.current,a=iu(),s=au(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(fi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(fi(c)){n=pi(n,c,u);break e}}n=u}else n=oi;return null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),ou(i,s,a),s}function zu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}function Ku(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Bu(e,t,null!=n&&!0===n.hydrate),t=Ru(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,na(t),e[Qr]=n.current,xr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Gu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=zu(o);s.call(e)}}qu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ku(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=zu(o);u.call(e)}}hu(function(){qu(t,o,e,i)})}return zu(o)}function Yu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Vs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ui.current)Co=!0;else{if(0===(n&r)){switch(Co=!1,t.tag){case 3:Vo(t),Ba();break;case 5:Sa(t);break;case 1:fi(t.type)&&vi(t);break;case 4:Ta(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ai(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ko(e,t,n):(ai(Aa,1&Aa.current),null!==(t=Zo(e,t,n))?t.sibling:null);ai(Aa,1&Aa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return Jo(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ai(Aa,Aa.current),r)break;return null;case 23:case 24:return t.lanes=0,Do(e,t,n)}return Zo(e,t,n)}Co=0!==(16384&e.flags)}else Co=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=li(t,si.current),Zi(t,n),i=eo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,fi(r)){var a=!0;vi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&la(t,r,s,e),i.updater=fa,t.stateNode=i,i._reactInternals=t,va(t,r,e,n),t=Fo(null,t,r,!0,a,n)}else t.tag=0,Ao(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===N)return 14}return 2}(i),e=Wi(i,e),a){case 0:t=Mo(null,t,i,e,n);break e;case 1:t=Uo(null,t,i,e,n);break e;case 11:t=No(null,t,i,e,n);break e;case 14:t=Ro(null,t,i,Wi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Mo(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 3:if(Vo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ra(e,t),sa(t,r,null,n),(r=t.memoizedState.element)===i)Ba(),t=Zo(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Pa=qr(t.stateNode.containerInfo.firstChild),Ra=t,a=Da=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],qa.push(a);for(n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ao(e,t,r,n),Ba();t=t.child}return t;case 5:return Sa(t),null===e&&Ua(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Ur(r,i)?s=null:null!==a&&Ur(r,a)&&(t.flags|=16),Lo(e,t),Ao(e,t,s,n),t.child;case 6:return null===e&&Ua(t),null;case 13:return Ko(e,t,n);case 4:return Ta(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ka(t,null,r,n):Ao(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 7:return Ao(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ao(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(ai(Ki,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=ar(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!ui.current){t=Zo(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=ia(-1,n&-n)).tag=2,aa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),Ji(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ao(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,Zi(t,n),r=r(i=ea(i,a.unstable_observedBits)),t.flags|=1,Ao(e,t,r,n),t.child;case 14:return a=Wi(i=t.type,t.pendingProps),Ro(e,t,i,a=Wi(i.type,a),r,n);case 15:return Po(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,fi(r)?(e=!0,vi(t)):e=!1,Zi(t,n),da(t,r,i),va(t,r,i,n),Fo(null,t,r,!0,e,n);case 19:return Jo(e,t,n);case 23:case 24:return Do(e,t,n)}throw Error(o(156,t.tag))},Ku.prototype.render=function(e){qu(e,this._internalRoot,null,null)},Ku.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;qu(null,e,null,function(){t[Qr]=null})},Ze=function(e){13===e.tag&&(ou(e,4,iu()),Wu(e,4))},et=function(e){13===e.tag&&(ou(e,67108864,iu()),Wu(e,67108864))},tt=function(e){if(13===e.tag){var t=iu(),n=au(e);ou(e,n,t),Wu(e,n)}},nt=function(e,t){return t()},xe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Zr(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ne=fu,Re=function(e,t,n,r,i){var a=js;js|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(js=a)&&(Fs(),qi())}},Pe=function(){0===(49&js)&&(function(){if(null!==$s){var e=$s;$s=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,uu(e,Mi())})}qi()}(),Eu())},De=function(e,t){var n=js;js|=2;try{return e(t)}finally{0===(js=n)&&(Fs(),qi())}};var $u={Events:[Xr,Jr,Zr,Ce,Ae,Eu,{current:!1}]},Xu={findFiberByHostInstance:$r,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Ju={bundleType:Xu.bundleType,version:Xu.version,rendererPackageName:Xu.rendererPackageName,rendererConfig:Xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:Xu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{yi=Zu.inject(Ju),gi=Zu}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$u,t.createPortal=Yu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=js;if(0!==(48&n))return e(t);js|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{js=n,qi()}},t.hydrate=function(e,t,n){if(!Gu(t))throw Error(o(200));return Qu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Gu(t))throw Error(o(200));return Qu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Gu(e))throw Error(o(40));return!!e._reactRootContainer&&(hu(function(){Qu(null,null,e,!1,function(){e._reactRootContainer=null,e[Qr]=null})}),!0)},t.unstable_batchedUpdates=fu,t.unstable_createPortal=function(e,t){return Yu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Qu(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(58)},function(e,t,n){"use strict";var r,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,h=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(h,0))},i=function(e,t){f=setTimeout(e,t)},a=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,y=null,g=-1,b=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+b;try{y(!0,e)?_.postMessage(null):(m=!1,y=null)}catch(n){throw _.postMessage(null),n}}else m=!1},r=function(e){y=e,m||(m=!0,_.postMessage(null))},i=function(e,n){g=d(function(){e(t.unstable_now())},n)},a=function(){p(g),g=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<x(i,t)))break e;e[r]=t,e[n]=i,n=r}}function j(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>x(o,n))void 0!==u&&0>x(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>x(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],I=[],S=1,C=null,A=3,N=!1,R=!1,P=!1;function D(e){for(var t=j(I);null!==t;){if(null===t.callback)E(I);else{if(!(t.startTime<=e))break;E(I),t.sortIndex=t.expirationTime,O(T,t)}t=j(I)}}function L(e){if(P=!1,D(e),!R)if(null!==j(T))R=!0,r(M);else{var t=j(I);null!==t&&i(L,t.startTime-e)}}function M(e,n){R=!1,P&&(P=!1,a()),N=!0;var r=A;try{for(D(n),C=j(T);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,A=C.priorityLevel;var s=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?C.callback=s:C===j(T)&&E(T),D(n)}else E(T);C=j(T)}if(null!==C)var u=!0;else{var c=j(I);null!==c&&i(L,c.startTime-n),u=!1}return u}finally{C=null,A=r,N=!1}}var U=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||N||(R=!0,r(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return j(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:S++,callback:n,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,O(I,e),null===j(T)&&e===j(I)&&(P?a():P=!0,i(L,o-s))):(e.sortIndex=u,O(T,e),R||N||(R=!0,r(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},,function(e,t,n){"use strict";var r=60103,i=60106,a=60107,o=60108,s=60114,u=60109,c=60110,l=60112,f=60113,h=60120,d=60115,p=60116,v=60121,m=60122,y=60117,g=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;r=k("react.element"),i=k("react.portal"),a=k("react.fragment"),o=k("react.strict_mode"),s=k("react.profiler"),u=k("react.provider"),c=k("react.context"),l=k("react.forward_ref"),f=k("react.suspense"),h=k("react.suspense_list"),d=k("react.memo"),p=k("react.lazy"),v=k("react.block"),m=k("react.server.block"),y=k("react.fundamental"),g=k("react.debug_trace_mode"),b=k("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case p:case d:case u:return e;default:return t}}case i:return t}}}var _=u,O=r,j=l,E=a,x=p,T=d,I=i,S=s,C=o,A=f;t.ContextConsumer=c,t.ContextProvider=_,t.Element=O,t.ForwardRef=j,t.Fragment=E,t.Lazy=x,t.Memo=T,t.Portal=I,t.Profiler=S,t.StrictMode=C,t.Suspense=A,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===l},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===p},t.isMemo=function(e){return w(e)===d},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===s||e===g||e===o||e===f||e===h||e===b||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===u||e.$$typeof===c||e.$$typeof===l||e.$$typeof===y||e.$$typeof===v||e[0]===m)},t.typeOf=w},function(e,t,n){"use strict";e.exports=n(62)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,k=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case m:case c:return e;default:return t}}case a:return t}}}function O(e){return _(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=y,t.Memo=m,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return O(e)||_(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===y},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===u},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===k||e.$$typeof===w||e.$$typeof===g)},t.typeOf=_},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var b={};u(b,a,function(){return this});var k=Object.getPrototypeOf,w=k&&k(k(S([])));w&&w!==n&&r.call(w,a)&&(b=w);var _=g.prototype=m.prototype=Object.create(b);function O(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){var n;this._invoke=function(i,a){function o(){return new t(function(n,o){!function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,o,s)},function(e){n("throw",e,o,s)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return n("throw",e,o,s)})}s(u.arg)}(i,a,n,o)})}return n=n?n.then(o,o):o()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:C}}function C(){return{value:t,done:!0}}return y.prototype=g,u(_,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},O(j.prototype),u(j.prototype,o,function(){return this}),e.AsyncIterator=j,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new j(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},O(_),u(_,s,"Generator"),u(_,a,function(){return this}),u(_,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";n(65)},function(e,t,n){"use strict";(function(e){var t=n(0),r=n.n(t),i=n(2),a=n(3),o=n(4),s=n(24),u=n(9),c=n(20),l=n(6),f="@firebase/auth-compat",h="0.2.7",d=1e3;function p(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.l)();return!("file:"!==p()&&"ionic:"!==p()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.l)();return Object(l.q)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.l)();return/Edge\/\d+/.test(e)}(e)}function y(){try{var e=self.localStorage,t=u.s();if(e)return e.setItem(t,"1"),e.removeItem(t),!m()||Object(l.r)()}catch(n){return g()&&Object(l.r)()}return!1}function g(){return"undefined"!==typeof e&&"WorkerGlobalScope"in e&&"importScripts"in e}function b(){return("http:"===p()||"https:"===p()||Object(l.n)()||v())&&!(Object(l.u)()||Object(l.t)())&&y()&&!g()}function k(){return v()&&"undefined"!==typeof document}function w(){return _.apply(this,arguments)}function _(){return(_=Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise(function(e){var t=setTimeout(function(){e(!1)},d);document.addEventListener("deviceready",function(){clearTimeout(t),e(!0)})}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var O={LOCAL:"local",NONE:"none",SESSION:"session"},j=u.p,E="persistence";function x(e,t){j(Object.values(O).includes(t),e,"invalid-persistence-type"),Object(l.u)()?j(t!==O.SESSION,e,"unsupported-persistence-type"):Object(l.t)()?j(t===O.NONE,e,"unsupported-persistence-type"):g()?j(t===O.NONE||t===O.LOCAL&&Object(l.r)(),e,"unsupported-persistence-type"):j(t===O.NONE||y(),e,"unsupported-persistence-type")}function T(e){return I.apply(this,arguments)}function I(){return(I=Object(o.a)(r.a.mark(function e(t){var n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=S(),i=u.v(E,t.config.apiKey,t.name),n&&n.setItem(i,t._getPersistence());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var C=u.p,A=function(){function e(){Object(i.a)(this,e),this.browserResolver=u.t(u.z),this.cordovaResolver=u.t(u.E),this.underlyingResolver=null,this._redirectPersistence=u.A,this._completeRedirectFn=u.u}return Object(a.a)(e,[{key:"_initialize",value:function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Object(o.a)(r.a.mark(function e(t,n,i,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,i,a));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(o.a)(r.a.mark(function e(t,n,i,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,i,a));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return k()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return C(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Object(o.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,w();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();function N(e){return e.unwrap()}function R(e){var t=(e instanceof l.c?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof l.c)&&"temporaryProof"in t&&"phoneNumber"in t)return u.i.credentialFromResult(e);var n,r=t.providerId;if(!r||r===u.k.PASSWORD)return null;switch(r){case u.k.GOOGLE:n=u.f;break;case u.k.FACEBOOK:n=u.d;break;case u.k.GITHUB:n=u.e;break;case u.k.TWITTER:n=u.o;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,c=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?u.m._create(r,s):u.g._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new u.h(r).credential({idToken:i,accessToken:a,rawNonce:c}):null}return e instanceof l.c?n.credentialFromError(e):n.credentialFromResult(e)}function P(e,t){return t.catch(function(t){throw t instanceof l.c&&function(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new M(e,u.J(e,t));else if(r){var i=R(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,R(t)),additionalUserInfo:u.I(e),user:U.getOrCreate(r)}})}function D(e,t){return L.apply(this,arguments)}function L(){return(L=Object(o.a)(r.a.mark(function e(t,n){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return i=e.sent,e.abrupt("return",{verificationId:i.verificationId,confirm:function(e){return P(t,i.confirm(e))}});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var M=function(){function e(t,n){Object(i.a)(this,e),this.resolver=n,this.auth=t.wrapped()}return Object(a.a)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return P(N(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),U=function(){function e(t){Object(i.a)(this,e),this._delegate=t,this.multiFactor=u.S(t)}return Object(a.a)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(this.auth,u.O(this._delegate,t)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Object(o.a)(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(this.auth,u.P(this._delegate,t,n)));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(this.auth,u.Q(this._delegate,t,A)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(u.q(this.auth));case 2:return e.abrupt("return",u.R(this._delegate,t,A));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(this.auth,u.T(this._delegate,t)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return D(this.auth,u.U(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return P(this.auth,u.V(this._delegate,e,A))}},{key:"reauthenticateWithRedirect",value:function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(u.q(this.auth));case 2:return e.abrupt("return",u.W(this._delegate,t,A));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return u.X(this._delegate,e)}},{key:"unlink",value:function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ib(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return u.jb(this._delegate,e)}},{key:"updatePassword",value:function(e){return u.kb(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return u.lb(this._delegate,e)}},{key:"updateProfile",value:function(e){return u.mb(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return u.nb(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();U.USER_MAP=new WeakMap;var F=u.p,V=function(){function e(t,n){if(Object(i.a)(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;F(r,"invalid-api-key",{appName:t.name}),F(r,"invalid-api-key",{appName:t.name});var a="undefined"!==typeof window?A:void 0;this._delegate=n.initialize({options:{persistence:q(r,t.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(u.G),this.linkUnderlyingAuth()}return Object(a.a)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?U.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){u.D(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return u.x(this._delegate,e)}},{key:"checkActionCode",value:function(e){return u.B(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return u.C(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Object(o.a)(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(this._delegate,u.F(this._delegate,t,n)));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return u.H(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return u.N(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Object(o.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(b(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,u.K(this._delegate,A);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",P(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){u.w(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=B(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=B(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return u.Z(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return u.Y(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Object(o.a)(r.a.mark(function e(t){var n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:x(this._delegate,t),e.t0=t,e.next=e.t0===O.SESSION?4:e.t0===O.LOCAL?6:e.t0===O.NONE?11:13;break;case 4:return n=u.A,e.abrupt("break",14);case 6:return e.next=8,u.t(u.M)._isAvailable();case 8:return i=e.sent,n=i?u.M:u.y,e.abrupt("break",14);case 11:return n=u.L,e.abrupt("break",14);case 13:return e.abrupt("return",u.r("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return P(this._delegate,u.ab(this._delegate))}},{key:"signInWithCredential",value:function(e){return P(this._delegate,u.bb(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return P(this._delegate,u.cb(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return P(this._delegate,u.db(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return P(this._delegate,u.eb(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return D(this._delegate,u.fb(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(b(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",P(this._delegate,u.gb(this._delegate,t,A)));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(b(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,T(this._delegate);case 3:return e.abrupt("return",u.hb(this._delegate,t,A));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return u.ob(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function B(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&U.getOrCreate(e))},error:t,complete:n}}function q(e,t){var n=function(e,t){var n=S();if(!n)return[];var r=u.v(E,e,t);switch(n.getItem(r)){case O.NONE:return[u.L];case O.LOCAL:return[u.M,u.A];case O.SESSION:return[u.A];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(u.M)||n.push(u.M),"undefined"!==typeof window)for(var r=0,i=[u.y,u.A];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(u.L)||n.push(u.L),n}V.Persistence=O;var z=function(){function e(){Object(i.a)(this,e),this.providerId="phone",this._delegate=new u.i(N(s.a.auth()))}return Object(a.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return u.i.credential(e,t)}}]),e}();z.PHONE_SIGN_IN_METHOD=u.i.PHONE_SIGN_IN_METHOD,z.PROVIDER_ID=u.i.PROVIDER_ID;var H,W=u.p,K=function(){function e(t,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a.app();Object(i.a)(this,e),W(null===(r=a.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:a.name}),this._delegate=new u.l(t,n,a.auth()),this.type=this._delegate.type}return Object(a.a)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),G="auth-compat";(H=s.a).INTERNAL.registerComponent(new c.a(G,function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new V(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:u.a.EMAIL_SIGNIN,PASSWORD_RESET:u.a.PASSWORD_RESET,RECOVER_EMAIL:u.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:u.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:u.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:u.a.VERIFY_EMAIL}},EmailAuthProvider:u.c,FacebookAuthProvider:u.d,GithubAuthProvider:u.e,GoogleAuthProvider:u.f,OAuthProvider:u.h,SAMLAuthProvider:u.n,PhoneAuthProvider:z,PhoneMultiFactorGenerator:u.j,RecaptchaVerifier:K,TwitterAuthProvider:u.o,Auth:V,AuthCredential:u.b,Error:l.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion(f,h)}).call(this,n(37))},function(e,t,n){var r,i,a;i=[t,n(1),n(38),n(67),n(46)],void 0===(a="function"===typeof(r=function(e,t,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=c(t),o=c(n),s=c(r),u=c(i);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return window.React=a.default,window.ReactDOM=o.default,n.state={showButton:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,n=e.isScriptLoadSucceed;this.state.show||t&&!this.props.isScriptLoaded&&(n?this.setState({showButton:!0}):(console.log("Cannot load Paypal script!"),this.props.onError()))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isScriptLoaded,n=e.isScriptLoadSucceed;t&&n&&this.setState({showButton:!0})}},{key:"render",value:function(){var e=this,t="";return this.state.showButton&&(t=a.default.createElement(paypal.Button.react,{env:this.props.env,client:this.props.client,style:this.props.style,payment:function(){return paypal.rest.payment.create(e.props.env,e.props.client,Object.assign({transactions:[{amount:{total:e.props.total,currency:e.props.currency}}]},e.props.paymentOptions),{input_fields:{no_shipping:e.props.shipping}})},commit:!0,onAuthorize:function(t,n){return n.payment.execute().then(function(n){var r=Object.assign({},e.props.payment);r.paid=!0,r.cancelled=!1,r.payerID=t.payerID,r.paymentID=t.paymentID,r.paymentToken=t.paymentToken,r.returnUrl=t.returnUrl,r.address=n.payer.payer_info.shipping_address,r.email=n.payer.payer_info.email,e.props.onSuccess(r)})},onCancel:this.props.onCancel})),a.default.createElement("div",null,t)}}]),t}(a.default.Component);f.propTypes={currency:u.default.string.isRequired,total:u.default.number.isRequired,client:u.default.object.isRequired,style:u.default.object},f.defaultProps={paymentOptions:{},env:"sandbox",shipping:null,onSuccess:function(e){console.log("The payment was succeeded!",e)},onCancel:function(e){console.log("The payment was cancelled!",e)},onError:function(e){console.log("Error loading Paypal script!",e)}},e.default=(0,s.default)("https://www.paypalobjects.com/api/checkout.js")(f)})?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.startLoadingScripts=p;var a=n(1),o=l(a),s=l(n(46)),u=l(n(70)),c=n(71);function l(e){return e&&e.__esModule?e:{default:e}}var f=[],h={},d=[];function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.noop,n=function(e){if(f.indexOf(e)<0)return function(t){var n=h[e]||[];if(n.push(t),h[e]=n,1===n.length)return(0,c.newScript)(e)(function(t){h[e].forEach(function(n){return n(t,e)}),delete h[e]})}},r=e.map(function(e){return Array.isArray(e)?e.map(n):n(e)});c.series.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r))(function(e,t){e?d.push(t):Array.isArray(t)?t.forEach(v):v(t)})(function(e){m(),t(e)})}var v=function(e){f.indexOf(e)<0&&f.push(e)},m=function(){d.length>0&&(d.forEach(function(e){var t=document.querySelector("script[src='"+e+"']");null!=t&&t.parentNode.removeChild(t)}),d=[])};t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=function(n){function s(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t));return n.state={isScriptLoaded:!1,isScriptLoadSucceed:!1},n._isMounted=!1,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a.Component),i(s,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,p(t,function(t){e._isMounted&&e.setState({isScriptLoaded:!0,isScriptLoadSucceed:!t},function(){t||e.props.onScriptLoaded()})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var t=r({},this.props,this.state);return o.default.createElement(e,t)}}]),s}();return n.propTypes={onScriptLoaded:s.default.func},n.defaultProps={onScriptLoaded:c.noop},(0,u.default)(n,e)}}},function(e,t,n){"use strict";var r=n(69);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},a="function"===typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!==typeof t){var o=Object.getOwnPropertyNames(t);a&&(o=o.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;++s)if(!r[o[s]]&&!i[o[s]]&&(!n||!n[o[s]]))try{e[o[s]]=t[o[s]]}catch(u){}}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isDefined=function(e){return null!=e};var r=t.isFunction=function(e){return"function"===typeof e},i=(t.noop=function(e){},t.newScript=function(e){return function(t){var n=document.createElement("script");return n.src=e,n.addEventListener("load",function(){return t(null,e)}),n.addEventListener("error",function(){return t(!0,e)}),document.body.appendChild(n),n}},t.parallel=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){var i=!1,a=0,o=[];(t=t.filter(r)).length<=0?n(null):t.forEach(function(s,u){s(function(s){for(var c=arguments.length,l=Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=arguments[f];s?i=!0:(l.length<=1&&(l=l[0]),o[u]=l,a++),r(e)&&e.call(null,s,l,u),i?n(!0):t.length===a&&n(null,o)})})}}});t.series=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){var a=function(e){var t=Object.keys(e),n=-1;return{next:function(){return++n>=t.length?null:t[n]}}}(t=t.filter(function(e){return null!=e})),o=function(){var n=a.next(),r=t[n];return Array.isArray(r)&&(r=i.apply(null,r).call(null,e)),[+n,r]},s=void 0,u=void 0,c=o();if(s=c[0],null==(u=c[1]))return n(null);var l=[];!function t(){u(function(i){for(var a=arguments.length,f=Array(a>1?a-1:0),h=1;h<a;h++)f[h-1]=arguments[h];if(f.length<=1&&(f=f[0]),r(e)&&e.call(null,i,f,s),i)n(i);else{if(l.push(f),c=o(),s=c[0],null==(u=c[1]))return n(null,l);t()}})}()}}}},,function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(24),o=n(15),s=n(0),u=n.n(s),c=n(4),l=n(12),f=n(10),h=n(25),d=n(7),p=n(8),v=n(14),m=n(6),y=n(20),g="firebasestorage.googleapis.com",b="storageBucket",k=12e4,w=6e5,_=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,i){var a;return Object(r.a)(this,n),(a=t.call(this,O(e),"Firebase Storage: ".concat(i," (").concat(O(e),")"))).customData={serverResponse:null},a._baseMessage=a.message,Object.setPrototypeOf(Object(h.a)(a),n.prototype),a}return Object(i.a)(n,[{key:"_codeEquals",value:function(e){return O(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(m.c);function O(e){return"storage/"+e}function j(){return new _("unknown","An unknown error occurred, please check the error payload for server response.")}function E(){return new _("canceled","User canceled the upload/download.")}function x(){return new _("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function T(e){return new _("invalid-argument",e)}function I(){return new _("app-deleted","The Firebase app was deleted.")}function S(e){return new _("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function C(e,t){return new _("invalid-format","String does not match format '"+e+"': "+t)}function A(e){throw new _("internal-error","Internal error: "+e)}var N,R=function(){function e(t,n){Object(r.a)(this,e),this.bucket=t,this.path_=n}return Object(i.a)(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new _("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null;var i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var o=n.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat("([A-Za-z0-9.\\-_]+)","/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(n===g?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat("([A-Za-z0-9.\\-_]+)","/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(t);if(l){var f=l[c.indices.bucket],h=l[c.indices.path];h||(h=""),r=new e(f,h),c.postModify(r);break}}if(null==r)throw function(e){return new _("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),P=function(){function e(t){Object(r.a)(this,e),this.promise_=Promise.reject(t)}return Object(i.a)(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}]),e}();function D(e){return"string"===typeof e||e instanceof String}function L(e){return M()&&e instanceof Blob}function M(){return"undefined"!==typeof Blob}function U(e,t,n,r){if(r<t)throw T("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw T("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function F(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function V(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(N||(N={}));var B=function(){function e(t,n,i,a,o,s,u,c,l,f,h){var d=this;Object(r.a)(this,e),this.url_=t,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(function(e,t){d.resolve_=e,d.reject_=t,d.start_()})}return Object(i.a)(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());void 0!==o?r(o):r()}catch(u){i(u)}else if(null!==a){var s=j();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?I():E());else i(new _("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new q(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout(function(){i=null,e(d,u())},t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout(function(){o=!0,v(!0)},n),v}(function(t,n){if(n)t(!1,new q(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===N.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new q(o,r))}else{var s=r.getErrorCode()===N.ABORT;t(!1,new q(!1,null,s))}})}},t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),q=Object(i.a)(function e(t,n,i){Object(r.a)(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!i});function z(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var H={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},W=Object(i.a)(function e(t,n){Object(r.a)(this,e),this.data=t,this.contentType=n||null});function K(e,t){switch(e){case H.RAW:return new W(G(t));case H.BASE64:case H.BASE64URL:return new W(Q(e,t));case H.DATA_URL:return new W(function(e){var t=new Y(e);return t.base64?Q(H.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw C(H.DATA_URL,"Malformed data URL.")}return G(t)}(t.rest)}(t),new Y(t).contentType)}throw j()}function G(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Q(e,t){switch(e){case H.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw C(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case H.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw C(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw C(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var Y=Object(i.a)(function e(t){Object(r.a)(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw C(H.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;null!=i&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)});var $=function(){function e(t,n){Object(r.a)(this,e);var i=0,a="";L(t)?(this.data_=t,i=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=a}return Object(i.a)(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(L(this.data_)){var r=this.data_,i=(o=t,s=n,(a=r).webkitSlice?a.webkitSlice(o,s):a.mozSlice?a.mozSlice(o,s):a.slice?a.slice(o,s):null);return null===i?null:new e(i)}var a,o,s,u=new Uint8Array(this.data_.buffer,t,n-t);return new e(u,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(M()){var i=n.map(function(t){return t instanceof e?t.data_:t});return new e(function(){for(var e=z(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(M())return new Blob(n);throw new _("unsupported-environment","This browser doesn't seem to support creating Blobs")}.apply(null,i))}var a=n.map(function(e){return D(e)?K(H.RAW,e).data:e.data_}),o=0;a.forEach(function(e){o+=e.byteLength});var s=new Uint8Array(o),u=0;return a.forEach(function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]}),new e(s,!0)}}]),e}();function X(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function J(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Z(e,t){return t}var ee=Object(i.a)(function e(t,n,i,a){Object(r.a)(this,e),this.server=t,this.local=n||t,this.writable=!!i,this.xform=a||Z}),te=null;function ne(){if(te)return te;var e=[];e.push(new ee("bucket")),e.push(new ee("generation")),e.push(new ee("metageneration")),e.push(new ee("name","fullPath",!0));var t=new ee("name");t.xform=function(e,t){return function(e){return!D(e)||e.length<2?e:J(e)}(t)},e.push(t);var n=new ee("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new ee("timeCreated")),e.push(new ee("updated")),e.push(new ee("md5Hash",null,!0)),e.push(new ee("cacheControl",null,!0)),e.push(new ee("contentDisposition",null,!0)),e.push(new ee("contentEncoding",null,!0)),e.push(new ee("contentLanguage",null,!0)),e.push(new ee("contentType",null,!0)),e.push(new ee("metadata","customMetadata",!0)),te=e}function re(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new R(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ie(e,t,n){var r=X(t);return null===r?null:re(e,r,n)}function ae(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var oe="prefixes",se="items";function ue(e,t,n){var r=X(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[oe]){var i,a=Object(f.a)(n[oe]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new R(t,o));r.prefixes.push(s)}}catch(d){a.e(d)}finally{a.f()}}if(n[se]){var u,c=Object(f.a)(n[se]);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=e._makeStorageReference(new R(t,l.name));r.items.push(h)}}catch(d){c.e(d)}finally{c.f()}}return r}(e,t,r)}var ce=Object(i.a)(function e(t,n,i,a){Object(r.a)(this,e),this.url=t,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]});function le(e){if(!e)throw j()}function fe(e,t){return function(n,r){var i=ie(e,r,t);return le(null!==i),i}}function he(e,t){return function(n,r){var i=ie(e,r,t);return le(null!==i),function(e,t,n,r){var i=X(t);if(null===i)return null;if(!D(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map(function(t){var i=e.bucket,a=e.fullPath;return F("/b/"+o(i)+"/o/"+o(a),n,r)+V({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function de(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new _("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new _("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new _("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new _("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function pe(e){var t=de(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new _("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function ve(e,t,n){var r=F(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new ce(r,"GET",fe(e,n),i);return a.errorHandler=pe(t),a}function me(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=F(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new ce(o,"GET",function(e,t){return function(n,r){var i=ue(e,t,r);return le(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=de(t),u}function ye(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ge(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=ye(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ae(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=$.getBlob(c,r,l);if(null===f)throw x();var h={name:u.fullPath},d=F(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new ce(d,"POST",fe(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=de(t),v}var be=Object(i.a)(function e(t,n,i,a){Object(r.a)(this,e),this.current=t,this.total=n,this.finalized=!!i,this.metadata=a||null});function ke(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){le(!1)}return le(!!n&&-1!==(t||["active"]).indexOf(n)),n}function we(e,t,n,r,i,a,o,s){var u=new be(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new _("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw x();var v=t.maxUploadRetryTime,m=new ce(n,"POST",function(e,n){var i,o=ke(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?fe(t,a)(e,n):null,new be(s,c,"final"===o,i)},v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=de(e),m}var _e={STATE_CHANGED:"state_changed"},Oe={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function je(e){switch(e){case"running":case"pausing":case"canceling":return Oe.RUNNING;case"paused":return Oe.PAUSED;case"success":return Oe.SUCCESS;case"canceled":return Oe.CANCELED;case"error":default:return Oe.ERROR}}var Ee=Object(i.a)(function e(t,n,i){if(Object(r.a)(this,e),"function"===typeof t||null!=n||null!=i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==i&&void 0!==i?i:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}});function xe(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then(function(){return e.apply(void 0,n)})}}var Te=null,Ie=function(){function e(){var t=this;Object(r.a)(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=N.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=N.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=N.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return Object(i.a)(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw A("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw A("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw A("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw A("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw A("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Se=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Ie);function Ce(){return Te?Te():new Se}var Ae=function(){function e(t,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(r.a)(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=a,this._mappings=ne(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){i._request=void 0,i._chunkMultiplier=1,e._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=e,i._transition("error"))},this._metadataErrorHandler=function(e){i._request=void 0,e._codeEquals("canceled")?i.completeTransitions_():(i._error=e,i._transition("error"))},this._promise=new Promise(function(e,t){i._resolve=e,i._reject=t,i._start()}),this._promise.then(null,function(){})}return Object(i.a)(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=Object(l.a)(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})}},{key:"_createResumable",value:function(){var e=this;this._resolveToken(function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=ye(t,r,i),s={name:o.fullPath},u=F(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=ae(o,n),f=e.maxUploadRetryTime,h=new ce(u,"POST",function(e){var t;ke(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){le(!1)}return le(D(t)),t},f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=de(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Ce,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken(function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new ce(n,"POST",function(e){var t=ke(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){le(!1)}n||le(!1);var i=Number(n);return le(!isNaN(i)),new be(i,r.size(),"final"===t)},i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=de(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,Ce,n,r);e._request=a,a.getPromise().then(function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})}},{key:"_continueUpload",value:function(){var e=this,t=262144*this._chunkMultiplier,n=new be(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,a){var o;try{o=we(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,Ce,i,a);e._request=s,s.getPromise().then(function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})}},{key:"_increaseMultiplier",value:function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken(function(t,n){var r=ve(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,Ce,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._transition("success")},e._metadataErrorHandler)})}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken(function(t,n){var r=ge(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Ce,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=E(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=je(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new Ee(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(t){e._notifyObserver(t)})}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(je(this._state)){case Oe.SUCCESS:xe(this._resolve.bind(null,this.snapshot))();break;case Oe.CANCELED:case Oe.ERROR:xe(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(je(this._state)){case Oe.RUNNING:case Oe.PAUSED:e.next&&xe(e.next.bind(e,this.snapshot))();break;case Oe.SUCCESS:e.complete&&xe(e.complete.bind(e))();break;case Oe.CANCELED:case Oe.ERROR:e.error&&xe(e.error.bind(e,this._error))();break;default:e.error&&xe(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),Ne=function(){function e(t,n){Object(r.a)(this,e),this._service=t,this._location=n instanceof R?n:R.makeFromUrl(n,t.host)}return Object(i.a)(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new R(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return J(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new R(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw S(e)}}]),e}();function Re(e,t,n){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(c.a)(u.a.mark(function e(t,n,r){var i,a,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={pageToken:r},e.next=3,De(t,s);case 3:if(c=e.sent,(i=n.prefixes).push.apply(i,Object(o.a)(c.prefixes)),(a=n.items).push.apply(a,Object(o.a)(c.items)),null==c.nextPageToken){e.next=9;break}return e.next=9,Re(t,n,c.nextPageToken);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function De(e,t){null!=t&&"number"===typeof t.maxResults&&U("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=me(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Ce)}function Le(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=F(t.fullServerUrl(),e.host,e._protocol),a=ae(n,r),o=e.maxOperationRetryTime,s=new ce(i,"PATCH",fe(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=pe(t),s}(e.storage,e._location,t,ne());return e.storage.makeRequestWithTokens(n,Ce)}function Me(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=F(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new ce(r,"GET",he(e,n),i);return a.errorHandler=pe(t),a}(e.storage,e._location,ne());return e.storage.makeRequestWithTokens(t,Ce).then(function(e){if(null===e)throw new _("no-download-url","The given file does not have any download URLs.");return e})}function Ue(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=F(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new ce(n,"DELETE",function(e,t){},r);return i.successCodes=[200,204],i.errorHandler=pe(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Ce)}function Fe(e,t){var n=function(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new R(e._location.bucket,n);return new Ne(e.storage,r)}function Ve(e,t){if(e instanceof ze){var n=e;if(null==n._bucket)throw new _("no-default-bucket","No default bucket found. Did you set the '"+b+"' property when initializing the app?");var r=new Ne(n,n._bucket);return null!=t?Ve(r,t):r}return void 0!==t?Fe(e,t):e}function Be(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ze)return new Ne(e,t);throw T("To use ref(service, url), the first argument must be a Storage instance.")}return Ve(e,t)}function qe(e,t){var n=null===t||void 0===t?void 0:t[b];return null==n?null:R.makeFromBucketSpec(n,e)}var ze=function(){function e(t,n,i,a,o){Object(r.a)(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=g,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=k,this._maxUploadRetryTime=w,this._requests=new Set,this._bucket=null!=a?R.makeFromBucketSpec(a,this._host):qe(this._host,this.app.options)}return Object(i.a)(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=R.makeFromBucketSpec(this._url,e):this._bucket=qe(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){U("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){U("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Object(c.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Object(c.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Ne(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new P(I());var a=function(e,t,n,r,i,a){var o=V(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new B(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(function(){return i._requests.delete(a)},function(){return i._requests.delete(a)}),a}},{key:"makeRequestWithTokens",value:function(){var e=Object(c.a)(u.a.mark(function e(t,n){var r,i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=Object(l.a)(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),He="@firebase/storage",We="0.9.2",Ke="storage";function Ge(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ae(e,new $(t),n)}(e=Object(m.k)(e),t,n)}function Qe(e){return function(e){e._throwIfRoot("getMetadata");var t=ve(e.storage,e._location,ne());return e.storage.makeRequestWithTokens(t,Ce)}(e=Object(m.k)(e))}function Ye(e){return function(e){var t={prefixes:[],items:[]};return Re(e,t).then(function(){return t})}(e=Object(m.k)(e))}function $e(e,t){return Be(e=Object(m.k)(e),t)}function Xe(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Object(m.f)(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function Je(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new ze(r,i,a,n,v.SDK_VERSION)}Object(v._registerComponent)(new y.a(Ke,Je,"PUBLIC").setMultipleInstances(!0)),Object(v.registerVersion)(He,We,""),Object(v.registerVersion)(He,We,"esm2017");var Ze=function(){function e(t,n,i){Object(r.a)(this,e),this._delegate=t,this.task=n,this.ref=i}return Object(i.a)(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),et=function(){function e(t,n){Object(r.a)(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object(i.a)(e,[{key:"snapshot",get:function(){return new Ze(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then(function(t){if(e)return e(new Ze(t,n,n._ref))},t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new Ze(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Ze(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),tt=function(){function e(t,n){Object(r.a)(this,e),this._delegate=t,this._service=n}return Object(i.a)(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new nt(t,e._service)})}},{key:"items",get:function(){var e=this;return this._delegate.items.map(function(t){return new nt(t,e._service)})}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),nt=function(){function e(t,n){Object(r.a)(this,e),this._delegate=t,this.storage=n}return Object(i.a)(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){return new e(function(e,t){return Fe(e,t)}(this._delegate,t),this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new et(Ge(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=K(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new et(new Ae(this._delegate,new $(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return Ye(this._delegate).then(function(t){return new tt(t,e.storage)})}},{key:"list",value:function(e){var t=this;return function(e,t){return De(e=Object(m.k)(e),t)}(this._delegate,e||void 0).then(function(e){return new tt(e,t.storage)})}},{key:"getMetadata",value:function(){return Qe(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return Le(e=Object(m.k)(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return e=this._delegate,Me(e=Object(m.k)(e));var e}},{key:"delete",value:function(){return this._throwIfRoot("delete"),e=this._delegate,Ue(e=Object(m.k)(e));var e}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw S(e)}}]),e}(),rt=function(){function e(t,n){Object(r.a)(this,e),this.app=t,this._delegate=n}return Object(i.a)(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(it(e))throw T("ref() expected a child path but got a URL, use refFromURL instead.");return new nt($e(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!it(e))throw T("refFromURL() expected a full URL but got a child path, use ref() instead.");try{R.makeFromUrl(e,this._delegate.host)}catch(t){throw T("refFromUrl() expected a valid full URL but got an invalid one.")}return new nt($e(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Xe(this._delegate,e,t,n)}}]),e}();function it(e){return/^[A-Za-z]+:\/\//.test(e)}var at="@firebase/storage-compat",ot="0.1.10",st="storage-compat";function ut(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new rt(r,i)}!function(e){var t={TaskState:Oe,TaskEvent:_e,StringFormat:H,Storage:rt,Reference:nt};e.INTERNAL.registerComponent(new y.a(st,ut,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(at,ot)}(a.a)},function(e,t,n){"use strict";var r=n(30),i=n(7),a=n(8),o=n(10),s=n(2),u=n(3),c=n(24),l=n(11),f=n(6),h=n(20),d="@firebase/firestore-compat",p="0.1.13";function v(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new l.g("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function m(){if("undefined"===typeof Uint8Array)throw new l.g("unimplemented","Uint8Arrays are not available in this environment.")}function y(){if(!Object(l.r)())throw new l.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}var g=function(){function e(t){Object(s.a)(this,e),this._delegate=t}return Object(u.a)(e,[{key:"toBase64",value:function(){return y(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return m(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return y(),new e(l.b.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return m(),new e(l.b.fromUint8Array(t))}}]),e}();function b(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Object(o.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(s){i.e(s)}finally{i.f()}return!1}(e,["next","error","complete"])}var k=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Object(l.F)(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Object(l.G)(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return Object(l.x)(e._delegate)}}]),e}(),w=function(){function e(t,n,r){var i=this;Object(s.a)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof l.m||(this._appCompat=t)}return Object(u.a)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Object(l.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.A)(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Object(l.H)(this._delegate)}},{key:"disableNetwork",value:function(){return Object(l.D)(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(l.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Object(l.lb)(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Object(l.Y)(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new l.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new D(this,Object(l.y)(this._delegate,e))}catch(t){throw T(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new x(this,Object(l.E)(this._delegate,e))}catch(t){throw T(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new N(this,Object(l.z)(this._delegate,e))}catch(t){throw T(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Object(l.db)(this._delegate,function(n){return e(new O(t,n))})}},{key:"batch",value:function(){var e=this;return Object(l.K)(this._delegate),new j(new l.l(this._delegate,function(t){return Object(l.L)(e._delegate,t)}))}},{key:"loadBundle",value:function(e){return Object(l.V)(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Object(l.W)(this._delegate,e).then(function(e){return e?new N(t,e):null})}}]),e}(),_=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(u.a)(n,[{key:"convertBytes",value:function(e){return new g(new l.b(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return x.forKey(t,this.firestore,null)}}]),n}(l.a);var O=function(){function e(t,n){Object(s.a)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new _(t)}return Object(u.a)(e,[{key:"get",value:function(e){var t=this,n=L(e);return this._delegate.get(n).then(function(e){return new C(t._firestore,new l.e(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})}},{key:"set",value:function(e,t,n){var r=L(e);return n?(v("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=L(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=L(e);return this._delegate.delete(t),this}}]),e}(),j=function(){function e(t){Object(s.a)(this,e),this._delegate=t}return Object(u.a)(e,[{key:"set",value:function(e,t,n){var r=L(e);return n?(v("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=L(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=L(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),E=function(){function e(t,n,r){Object(s.a)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Object(u.a)(e,[{key:"fromFirestore",value:function(e,t){var n=new l.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new A(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new _(t),n),i.set(n,a)),a}}]),e}();E.INSTANCES=new WeakMap;var x=function(){function e(t,n){Object(s.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _(t)}return Object(u.a)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new D(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new D(this.firestore,Object(l.y)(this._delegate,e))}catch(t){throw T(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Object(f.k)(e))instanceof l.d&&Object(l.cb)(this._delegate,e)}},{key:"set",value:function(e,t){t=v("DocumentReference.set",t);try{return t?Object(l.fb)(this._delegate,e,t):Object(l.fb)(this._delegate,e)}catch(n){throw T(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Object(l.kb)(this._delegate,e):l.kb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw T(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Object(l.B)(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=I(n),a=S(n,function(t){return new C(e.firestore,new l.e(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return Object(l.X)(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.N)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.O)(this._delegate):Object(l.M)(this._delegate)).then(function(e){return new C(t.firestore,new l.e(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(E.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new l.g("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new l.d(n._delegate,r,new l.n(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new l.d(n._delegate,r,t))}}]),e}();function T(e,t,n){return e.message=e.message.replace(t,n),e}function I(e){var t,n=Object(o.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!b(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function S(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=b(e[0])?e[0]:b(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var C=function(){function e(t,n){Object(s.a)(this,e),this._firestore=t,this._delegate=n}return Object(u.a)(e,[{key:"ref",get:function(){return new x(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}}]),e}(),A=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return Object(l.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),n}(C),N=function(){function e(t,n){Object(s.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _(t)}return Object(u.a)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.mb)(t,n,r)))}catch(i){throw T(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.Z)(t,n)))}catch(r){throw T(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.T)(t)))}catch(n){throw T(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.U)(t)))}catch(n){throw T(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.jb.apply(void 0,arguments)))}catch(t){throw T(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.ib.apply(void 0,arguments)))}catch(t){throw T(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.J.apply(void 0,arguments)))}catch(t){throw T(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.I.apply(void 0,arguments)))}catch(t){throw T(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Object(l.bb)(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.Q)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.R)(this._delegate):Object(l.P)(this._delegate)).then(function(e){return new P(t.firestore,new l.j(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=I(n),a=S(n,function(t){return new P(e.firestore,new l.j(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return Object(l.X)(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(E.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),R=function(){function e(t,n){Object(s.a)(this,e),this._firestore=t,this._delegate=n}return Object(u.a)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new A(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),P=function(){function e(t,n){Object(s.a)(this,e),this._firestore=t,this._delegate=n}return Object(u.a)(e,[{key:"query",get:function(){return new N(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map(function(t){return new A(e._firestore,t)})}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new R(t._firestore,e)})}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new A(n._firestore,r))})}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}}]),e}(),D=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e,r){var i;return Object(s.a)(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Object(u.a)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new x(this.firestore,e):null}},{key:"doc",value:function(e){try{return new x(this.firestore,void 0===e?Object(l.E)(this._delegate):Object(l.E)(this._delegate,e))}catch(t){throw T(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Object(l.u)(this._delegate,e).then(function(e){return new x(t.firestore,e)})}},{key:"isEqual",value:function(e){return Object(l.cb)(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(E.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(N);function L(e){return Object(l.p)(e,l.d)}var M=function(){function e(){Object(s.a)(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._delegate=Object(r.a)(l.f,n)}return Object(u.a)(e,[{key:"isEqual",value:function(e){return(e=Object(f.k)(e))instanceof l.f&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(l.o.keyField().canonicalString())}}]),e}(),U=function(){function e(t){Object(s.a)(this,e),this._delegate=t}return Object(u.a)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Object(l.eb)();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Object(l.C)();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=l.w.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=l.v.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Object(l.S)(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),F={Firestore:w,GeoPoint:l.h,Timestamp:l.k,Blob:g,Transaction:O,WriteBatch:j,DocumentReference:x,DocumentSnapshot:C,Query:N,QueryDocumentSnapshot:A,QuerySnapshot:P,CollectionReference:D,FieldPath:M,FieldValue:U,setLogLevel:function(e){Object(l.gb)(e)},CACHE_SIZE_UNLIMITED:l.c};!function(e){var t;t=function(e,t){return new w(e,t,new k)},e.INTERNAL.registerComponent(new h.a("firestore-compat",function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Object.assign({},F))),e.registerVersion(d,p)}(c.a)}]]);
//# sourceMappingURL=2.4c3ff81f.chunk.js.map